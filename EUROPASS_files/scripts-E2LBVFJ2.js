/*! For license information please see quill.js.LICENSE.txt */(function(Ee,Kt){typeof exports=="object"&&typeof module=="object"?module.exports=Kt():typeof define=="function"&&define.amd?define([],Kt):typeof exports=="object"?exports.Quill=Kt():Ee.Quill=Kt()})(self,function(){return function(){var Ee={9698:function(ot,x,t){"use strict";t.d(x,{Ay:function(){return S},Ji:function(){return O},mG:function(){return L},zo:function(){return l}});var a=t(6003),w=t(5232),M=t.n(w),N=t(3036),I=t(4850),c=t(5508);class S extends a.BlockBlot{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=L(this)),this.cache.delta}deleteAt(A,R){super.deleteAt(A,R),this.cache={}}formatAt(A,R,D,X){R<=0||(this.scroll.query(D,a.Scope.BLOCK)?A+R===this.length()&&this.format(D,X):super.formatAt(A,Math.min(R,this.length()-A-1),D,X),this.cache={})}insertAt(A,R,D){if(D!=null)return super.insertAt(A,R,D),void(this.cache={});if(R.length===0)return;const X=R.split(`
`),lt=X.shift();lt.length>0&&(A<this.length()-1||this.children.tail==null?super.insertAt(Math.min(A,this.length()-1),lt):this.children.tail.insertAt(this.children.tail.length(),lt),this.cache={});let ft=this;X.reduce((J,m)=>(ft=ft.split(J,!0),ft.insertAt(0,m),m.length),A+lt.length)}insertBefore(A,R){const{head:D}=this.children;super.insertBefore(A,R),D instanceof N.A&&D.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(A,R){super.moveChildren(A,R),this.cache={}}optimize(A){super.optimize(A),this.cache={}}path(A){return super.path(A,!0)}removeChild(A){super.removeChild(A),this.cache={}}split(A){let R=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(R&&(A===0||A>=this.length()-1)){const X=this.clone();return A===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}const D=super.split(A,R);return this.cache={},D}}S.blotName="block",S.tagName="P",S.defaultChild=N.A,S.allowedChildren=[N.A,I.A,a.EmbedBlot,c.A];class l extends a.EmbedBlot{attach(){super.attach(),this.attributes=new a.AttributorStore(this.domNode)}delta(){return new(M())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(A,R){const D=this.scroll.query(A,a.Scope.BLOCK_ATTRIBUTE);D!=null&&this.attributes.attribute(D,R)}formatAt(A,R,D,X){this.format(D,X)}insertAt(A,R,D){if(D!=null)return void super.insertAt(A,R,D);const X=R.split(`
`),lt=X.pop(),ft=X.map(m=>{const j=this.scroll.create(S.blotName);return j.insertAt(0,m),j}),J=this.split(A);ft.forEach(m=>{this.parent.insertBefore(m,J)}),lt&&this.parent.insertBefore(this.scroll.create("text",lt),J)}}function L(g){let A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return g.descendants(a.LeafBlot).reduce((R,D)=>D.length()===0?R:R.insert(D.value(),O(D,{},A)),new(M())).insert(`
`,O(g))}function O(g){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return g==null?A:("formats"in g&&typeof g.formats=="function"&&(A={...A,...g.formats()},R&&delete A["code-token"]),g.parent==null||g.parent.statics.blotName==="scroll"||g.parent.statics.scope!==g.statics.scope?A:O(g.parent,A,R))}l.scope=a.Scope.BLOCK_BLOT},3036:function(ot,x,t){"use strict";var a=t(6003);class w extends a.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}w.blotName="break",w.tagName="BR",x.A=w},580:function(ot,x,t){"use strict";var a=t(6003);class w extends a.ContainerBlot{}x.A=w},4541:function(ot,x,t){"use strict";var a=t(6003),w=t(5508);class M extends a.EmbedBlot{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(I,c,S){super(I,c),this.selection=S,this.textNode=document.createTextNode(M.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(I,c){if(this.savedLength!==0)return void super.format(I,c);let S=this,l=0;for(;S!=null&&S.statics.scope!==a.Scope.BLOCK_BLOT;)l+=S.offset(S.parent),S=S.parent;S!=null&&(this.savedLength=M.CONTENTS.length,S.optimize(),S.formatAt(l,M.CONTENTS.length,I,c),this.savedLength=0)}index(I,c){return I===this.textNode?0:super.index(I,c)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const I=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const c=this.prev instanceof w.A?this.prev:null,S=c?c.length():0,l=this.next instanceof w.A?this.next:null,L=l?l.text:"",{textNode:O}=this,g=O.data.split(M.CONTENTS).join("");let A;if(O.data=M.CONTENTS,c)A=c,(g||l)&&(c.insertAt(c.length(),g+L),l&&l.remove());else if(l)A=l,l.insertAt(0,g);else{const R=document.createTextNode(g);A=this.scroll.create(R),this.parent.insertBefore(A,this)}if(this.remove(),I){const R=(lt,ft)=>c&&lt===c.domNode?ft:lt===O?S+ft-1:l&&lt===l.domNode?S+g.length+ft:null,D=R(I.start.node,I.start.offset),X=R(I.end.node,I.end.offset);if(D!==null&&X!==null)return{startNode:A.domNode,startOffset:D,endNode:A.domNode,endOffset:X}}return null}update(I,c){if(I.some(S=>S.type==="characterData"&&S.target===this.textNode)){const S=this.restore();S&&(c.range=S)}}optimize(I){super.optimize(I);let{parent:c}=this;for(;c;){if(c.domNode.tagName==="A"){this.savedLength=M.CONTENTS.length,c.isolate(this.offset(c),this.length()).unwrap(),this.savedLength=0;break}c=c.parent}}value(){return""}}x.A=M},746:function(ot,x,t){"use strict";var a=t(6003),w=t(5508);const M="\uFEFF";class N extends a.EmbedBlot{constructor(c,S){super(c,S),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(l=>{this.contentNode.appendChild(l)}),this.leftGuard=document.createTextNode(M),this.rightGuard=document.createTextNode(M),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(c,S){return c===this.leftGuard?0:c===this.rightGuard?1:super.index(c,S)}restore(c){let S,l=null;const L=c.data.split(M).join("");if(c===this.leftGuard)if(this.prev instanceof w.A){const O=this.prev.length();this.prev.insertAt(O,L),l={startNode:this.prev.domNode,startOffset:O+L.length}}else S=document.createTextNode(L),this.parent.insertBefore(this.scroll.create(S),this),l={startNode:S,startOffset:L.length};else c===this.rightGuard&&(this.next instanceof w.A?(this.next.insertAt(0,L),l={startNode:this.next.domNode,startOffset:L.length}):(S=document.createTextNode(L),this.parent.insertBefore(this.scroll.create(S),this.next),l={startNode:S,startOffset:L.length}));return c.data=M,l}update(c,S){c.forEach(l=>{if(l.type==="characterData"&&(l.target===this.leftGuard||l.target===this.rightGuard)){const L=this.restore(l.target);L&&(S.range=L)}})}}x.A=N},4850:function(ot,x,t){"use strict";var a=t(6003),w=t(3036),M=t(5508);class N extends a.InlineBlot{static allowedChildren=[N,w.A,a.EmbedBlot,M.A];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(c,S){const l=N.order.indexOf(c),L=N.order.indexOf(S);return l>=0||L>=0?l-L:c===S?0:c<S?-1:1}formatAt(c,S,l,L){if(N.compare(this.statics.blotName,l)<0&&this.scroll.query(l,a.Scope.BLOT)){const O=this.isolate(c,S);L&&O.wrap(l,L)}else super.formatAt(c,S,l,L)}optimize(c){if(super.optimize(c),this.parent instanceof N&&N.compare(this.statics.blotName,this.parent.statics.blotName)>0){const S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}x.A=N},5508:function(ot,x,t){"use strict";t.d(x,{A:function(){return w},X:function(){return N}});var a=t(6003);class w extends a.TextBlot{}const M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function N(I){return I.replace(/[&<>"']/g,c=>M[c])}},3729:function(ot,x,t){"use strict";t.d(x,{default:function(){return e}});var a=t(6142),w=t(9698),M=t(3036),N=t(580),I=t(4541),c=t(746),S=t(4850),l=t(6003),L=t(5232),O=t.n(L),g=t(5374);function A(r){return r instanceof w.Ay||r instanceof w.zo}function R(r){return typeof r.updateContent=="function"}class D extends l.ScrollBlot{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=w.Ay;static allowedChildren=[w.Ay,w.zo,N.A];constructor(n,_,h){let{emitter:u}=h;super(n,_),this.emitter=u,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",k=>this.handleDragStart(k))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(g.A.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(g.A.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,_){this.emitter.emit(g.A.events.SCROLL_EMBED_UPDATE,n,_)}deleteAt(n,_){const[h,u]=this.line(n),[k]=this.line(n+_);if(super.deleteAt(n,_),k!=null&&h!==k&&u>0){if(h instanceof w.zo||k instanceof w.zo)return void this.optimize();const T=k.children.head instanceof M.A?null:k.children.head;h.moveChildren(k,T),h.remove()}this.optimize()}enable(){let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,_,h,u){super.formatAt(n,_,h,u),this.optimize()}insertAt(n,_,h){if(n>=this.length())if(h==null||this.scroll.query(_,l.Scope.BLOCK)==null){const u=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(u),h==null&&_.endsWith(`
`)?u.insertAt(0,_.slice(0,-1),h):u.insertAt(0,_,h)}else{const u=this.scroll.create(_,h);this.appendChild(u)}else super.insertAt(n,_,h);this.optimize()}insertBefore(n,_){if(n.statics.scope===l.Scope.INLINE_BLOT){const h=this.scroll.create(this.statics.defaultChild.blotName);h.appendChild(n),super.insertBefore(h,_)}else super.insertBefore(n,_)}insertContents(n,_){const h=this.deltaToRenderBlocks(_.concat(new(O())().insert(`
`))),u=h.pop();if(u==null)return;this.batchStart();const k=h.shift();if(k){const s=k.type==="block"&&(k.delta.length()===0||!this.descendant(w.zo,n)[0]&&n<this.length()),o=k.type==="block"?k.delta:new(O())().insert({[k.key]:k.value});X(this,n,o);const p=k.type==="block"?1:0,E=n+o.length()+p;s&&this.insertAt(E-1,`
`);const C=(0,w.Ji)(this.line(n)[0]),V=L.AttributeMap.diff(C,k.attributes)||{};Object.keys(V).forEach(tt=>{this.formatAt(E-1,1,tt,V[tt])}),n=E}let[T,b]=this.children.find(n);h.length&&(T&&(T=T.split(b),b=0),h.forEach(s=>{if(s.type==="block")X(this.createBlock(s.attributes,T||void 0),0,s.delta);else{const o=this.create(s.key,s.value);this.insertBefore(o,T||void 0),Object.keys(s.attributes).forEach(p=>{o.format(p,s.attributes[p])})}})),u.type==="block"&&u.delta.length()&&X(this,T?T.offset(T.scroll)+b:this.length(),u.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){const _=this.path(n).pop();if(!_)return[null,-1];const[h,u]=_;return h instanceof l.LeafBlot?[h,u]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant(A,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const h=(u,k,T)=>{let b=[],s=T;return u.children.forEachAt(k,T,(o,p,E)=>{A(o)?b.push(o):o instanceof l.ContainerBlot&&(b=b.concat(h(o,p,s))),s-=E}),b};return h(this,n,_)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,_),n.length>0&&this.emitter.emit(g.A.events.SCROLL_OPTIMIZE,n,_))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch)return void(Array.isArray(n)&&(this.batch=this.batch.concat(n)));let _=g.A.sources.USER;typeof n=="string"&&(_=n),Array.isArray(n)||(n=this.observer.takeRecords()),(n=n.filter(h=>{let{target:u}=h;const k=this.find(u,!0);return k&&!R(k)})).length>0&&this.emitter.emit(g.A.events.SCROLL_BEFORE_UPDATE,_,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(g.A.events.SCROLL_UPDATE,_,n)}updateEmbedAt(n,_,h){const[u]=this.descendant(k=>k instanceof w.zo,n);u&&u.statics.blotName===_&&R(u)&&u.updateContent(h)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){const _=[];let h=new(O());return n.forEach(u=>{const k=u?.insert;if(k)if(typeof k=="string"){const T=k.split(`
`);T.slice(0,-1).forEach(s=>{h.insert(s,u.attributes),_.push({type:"block",delta:h,attributes:u.attributes??{}}),h=new(O())});const b=T[T.length-1];b&&h.insert(b,u.attributes)}else{const T=Object.keys(k)[0];if(!T)return;this.query(T,l.Scope.INLINE)?h.push(u):(h.length()&&_.push({type:"block",delta:h,attributes:{}}),h=new(O()),_.push({type:"blockEmbed",key:T,value:k[T],attributes:u.attributes??{}}))}}),h.length()&&_.push({type:"block",delta:h,attributes:{}}),_}createBlock(n,_){let h;const u={};Object.entries(n).forEach(b=>{let[s,o]=b;this.query(s,l.Scope.BLOCK&l.Scope.BLOT)!=null?h=s:u[s]=o});const k=this.create(h||this.statics.defaultChild.blotName,h?n[h]:void 0);this.insertBefore(k,_||void 0);const T=k.length();return Object.entries(u).forEach(b=>{let[s,o]=b;k.formatAt(0,T,s,o)}),k}}function X(r,n,_){_.reduce((h,u)=>{const k=L.Op.length(u);let T=u.attributes||{};if(u.insert!=null){if(typeof u.insert=="string"){const b=u.insert;r.insertAt(h,b);const[s]=r.descendant(l.LeafBlot,h),o=(0,w.Ji)(s);T=L.AttributeMap.diff(o,T)||{}}else if(typeof u.insert=="object"){const b=Object.keys(u.insert)[0];if(b==null)return h;if(r.insertAt(h,b,u.insert[b]),r.scroll.query(b,l.Scope.INLINE)!=null){const[s]=r.descendant(l.LeafBlot,h),o=(0,w.Ji)(s);T=L.AttributeMap.diff(o,T)||{}}}}return Object.keys(T).forEach(b=>{r.formatAt(h,k,b,T[b])}),h+k},n)}var lt=D,ft=t(5508),J=t(584),m=t(4266);class j extends m.A{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(n,_){super(n,_),this.quill.on(a.Ay.events.EDITOR_CHANGE,(h,u,k,T)=>{h===a.Ay.events.SELECTION_CHANGE?u&&T!==a.Ay.sources.SILENT&&(this.currentRange=u):h===a.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&T!==a.Ay.sources.USER?this.transform(u):this.record(u,k)),this.currentRange=B(this.currentRange,u))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",h=>{h.inputType==="historyUndo"?(this.undo(),h.preventDefault()):h.inputType==="historyRedo"&&(this.redo(),h.preventDefault())})}change(n,_){if(this.stack[n].length===0)return;const h=this.stack[n].pop();if(!h)return;const u=this.quill.getContents(),k=h.delta.invert(u);this.stack[_].push({delta:k,range:B(h.range,k)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(h.delta,a.Ay.sources.USER),this.ignoreChange=!1,this.restoreSelection(h)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,_){if(n.ops.length===0)return;this.stack.redo=[];let h=n.invert(_),u=this.currentRange;const k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){const T=this.stack.undo.pop();T&&(h=h.compose(T.delta),u=T.range)}else this.lastRecorded=k;h.length()!==0&&(this.stack.undo.push({delta:h,range:u}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){Y(this.stack.undo,n),Y(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,a.Ay.sources.USER);else{const _=function(h,u){const k=u.reduce((b,s)=>b+(s.delete||0),0);let T=u.length()-k;return function(b,s){const o=s.ops[s.ops.length-1];return o!=null&&(o.insert!=null?typeof o.insert=="string"&&o.insert.endsWith(`
`):o.attributes!=null&&Object.keys(o.attributes).some(p=>b.query(p,l.Scope.BLOCK)!=null))}(h,u)&&(T-=1),T}(this.quill.scroll,n.delta);this.quill.setSelection(_,a.Ay.sources.USER)}}}function Y(r,n){let _=n;for(let h=r.length-1;h>=0;h-=1){const u=r[h];r[h]={delta:_.transform(u.delta,!0),range:u.range&&B(u.range,_)},_=u.delta.transform(_),r[h].delta.length()===0&&r.splice(h,1)}}function B(r,n){if(!r)return r;const _=n.transformPosition(r.index);return{index:_,length:n.transformPosition(r.index+r.length)-_}}var G=t(8123);class U extends m.A{constructor(n,_){super(n,_),n.root.addEventListener("drop",h=>{h.preventDefault();let u=null;if(document.caretRangeFromPoint)u=document.caretRangeFromPoint(h.clientX,h.clientY);else if(document.caretPositionFromPoint){const T=document.caretPositionFromPoint(h.clientX,h.clientY);u=document.createRange(),u.setStart(T.offsetNode,T.offset),u.setEnd(T.offsetNode,T.offset)}const k=u&&n.selection.normalizeNative(u);if(k){const T=n.selection.normalizedToRange(k);h.dataTransfer?.files&&this.upload(T,h.dataTransfer.files)}})}upload(n,_){const h=[];Array.from(_).forEach(u=>{u&&this.options.mimetypes?.includes(u.type)&&h.push(u)}),h.length>0&&this.options.handler.call(this,n,h)}}U.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,n){if(!this.quill.scroll.query("image"))return;const _=n.map(h=>new Promise(u=>{const k=new FileReader;k.onload=()=>{u(k.result)},k.readAsDataURL(h)}));Promise.all(_).then(h=>{const u=h.reduce((k,T)=>k.insert({image:T}),new(O())().retain(r.index).delete(r.length));this.quill.updateContents(u,g.A.sources.USER),this.quill.setSelection(r.index+h.length,g.A.sources.SILENT)})}};var W=U;const Q=["insertText","insertReplacementText"];class ut extends m.A{constructor(n,_){super(n,_),n.root.addEventListener("beforeinput",h=>{this.handleBeforeInput(h)}),/Android/i.test(navigator.userAgent)||n.on(a.Ay.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(n){(0,G.Xo)({range:n,quill:this.quill})}replaceText(n){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n.length===0)return!1;if(_){const h=this.quill.getFormat(n.index,1);this.deleteRange(n),this.quill.updateContents(new(O())().retain(n.index).insert(_,h),a.Ay.sources.USER)}else this.deleteRange(n);return this.quill.setSelection(n.index+_.length,0,a.Ay.sources.SILENT),!0}handleBeforeInput(n){if(this.quill.composition.isComposing||n.defaultPrevented||!Q.includes(n.inputType))return;const _=n.getTargetRanges?n.getTargetRanges()[0]:null;if(!_||_.collapsed===!0)return;const h=function(T){return typeof T.data=="string"?T.data:T.dataTransfer?.types.includes("text/plain")?T.dataTransfer.getData("text/plain"):null}(n);if(h==null)return;const u=this.quill.selection.normalizeNative(_),k=u?this.quill.selection.normalizedToRange(u):null;k&&this.replaceText(k,h)&&n.preventDefault()}handleCompositionStart(){const n=this.quill.getSelection();n&&this.replaceText(n)}}var $=ut;const H=/Mac/i.test(navigator.platform);class ht extends m.A{isListening=!1;selectionChangeDeadline=0;constructor(n,_){super(n,_),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,_){let{line:h,event:u}=_;if(!(h instanceof l.ParentBlot&&h.uiNode))return!0;const k=getComputedStyle(h.domNode).direction==="rtl";return!!(k&&u.key!=="ArrowRight"||!k&&u.key!=="ArrowLeft")||(this.quill.setSelection(n.index-1,n.length+(u.shiftKey?1:0),a.Ay.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&(_=>_.key==="ArrowLeft"||_.key==="ArrowRight"||_.key==="ArrowUp"||_.key==="ArrowDown"||_.key==="Home"||!(!H||_.key!=="a"||_.ctrlKey!==!0))(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const n=document.getSelection();if(!n)return;const _=n.getRangeAt(0);if(_.collapsed!==!0||_.startOffset!==0)return;const h=this.quill.scroll.find(_.startContainer);if(!(h instanceof l.ParentBlot&&h.uiNode))return;const u=document.createRange();u.setStartAfter(h.uiNode),u.setEndAfter(h.uiNode),n.removeAllRanges(),n.addRange(u)}}var v=ht;a.Ay.register({"blots/block":w.Ay,"blots/block/embed":w.zo,"blots/break":M.A,"blots/container":N.A,"blots/cursor":I.A,"blots/embed":c.A,"blots/inline":S.A,"blots/scroll":lt,"blots/text":ft.A,"modules/clipboard":J.Ay,"modules/history":j,"modules/keyboard":G.Ay,"modules/uploader":W,"modules/input":$,"modules/uiNode":v});var e=a.Ay},5374:function(ot,x,t){"use strict";t.d(x,{A:function(){return N}});var a=t(8920),w=t(7356);const M=(0,t(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(I=>{document.addEventListener(I,function(){for(var c=arguments.length,S=new Array(c),l=0;l<c;l++)S[l]=arguments[l];Array.from(document.querySelectorAll(".ql-container")).forEach(L=>{const O=w.A.get(L);O&&O.emitter&&O.emitter.handleDOM(...S)})})});var N=class extends a{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",M.error)}emit(){for(var I=arguments.length,c=new Array(I),S=0;S<I;S++)c[S]=arguments[S];return M.log.call(M,...c),super.emit(...c)}handleDOM(I){for(var c=arguments.length,S=new Array(c>1?c-1:0),l=1;l<c;l++)S[l-1]=arguments[l];(this.domListeners[I.type]||[]).forEach(L=>{let{node:O,handler:g}=L;(I.target===O||O.contains(I.target))&&g(I,...S)})}listenDOM(I,c,S){this.domListeners[I]||(this.domListeners[I]=[]),this.domListeners[I].push({node:c,handler:S})}}},7356:function(ot,x){"use strict";x.A=new WeakMap},6078:function(ot,x){"use strict";const t=["error","warn","log","info"];let a="warn";function w(N){if(a&&t.indexOf(N)<=t.indexOf(a)){for(var I=arguments.length,c=new Array(I>1?I-1:0),S=1;S<I;S++)c[S-1]=arguments[S];console[N](...c)}}function M(N){return t.reduce((I,c)=>(I[c]=w.bind(console,c,N),I),{})}M.level=N=>{a=N},w.level=M.level,x.A=M},4266:function(ot,x){"use strict";x.A=class{static DEFAULTS={};constructor(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=a}}},6142:function(ot,x,t){"use strict";t.d(x,{Ay:function(){return r}});var a=t(8347),w=t(6003),M=t(5232),N=t.n(M),I=t(3707),c=t(5123),S=t(9698),l=t(3036),L=t(4541),O=t(5508),g=t(8298);const A=/^[ -~]*$/;function R(b,s,o){if(b.length===0){const[wt]=lt(o.pop());return s<=0?`</li></${wt}>`:`</li></${wt}>${R([],s-1,o)}`}const[{child:p,offset:E,length:C,indent:V,type:tt},...et]=b,[it,dt]=lt(tt);if(V>s)return o.push(tt),V===s+1?`<${it}><li${dt}>${D(p,E,C)}${R(et,V,o)}`:`<${it}><li>${R(b,s+1,o)}`;const bt=o[o.length-1];if(V===s&&tt===bt)return`</li><li${dt}>${D(p,E,C)}${R(et,V,o)}`;const[mt]=lt(o.pop());return`</li></${mt}>${R(b,s-1,o)}`}function D(b,s,o){let p=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in b&&typeof b.html=="function")return b.html(s,o);if(b instanceof O.A)return(0,O.X)(b.value().slice(s,s+o)).replaceAll(" ","&nbsp;");if(b instanceof w.ParentBlot){if(b.statics.blotName==="list-container"){const it=[];return b.children.forEachAt(s,o,(dt,bt,mt)=>{const wt="formats"in dt&&typeof dt.formats=="function"?dt.formats():{};it.push({child:dt,offset:bt,length:mt,indent:wt.indent||0,type:wt.list})}),R(it,-1,[])}const E=[];if(b.children.forEachAt(s,o,(it,dt,bt)=>{E.push(D(it,dt,bt))}),p||b.statics.blotName==="list")return E.join("");const{outerHTML:C,innerHTML:V}=b.domNode,[tt,et]=C.split(`>${V}<`);return tt==="<table"?`<table style="border: 1px solid #000;">${E.join("")}<${et}`:`${tt}>${E.join("")}<${et}`}return b.domNode instanceof Element?b.domNode.outerHTML:""}function X(b,s){return Object.keys(s).reduce((o,p)=>{if(b[p]==null)return o;const E=s[p];return E===b[p]?o[p]=E:Array.isArray(E)?E.indexOf(b[p])<0?o[p]=E.concat([b[p]]):o[p]=E:o[p]=[E,b[p]],o},{})}function lt(b){const s=b==="ordered"?"ol":"ul";switch(b){case"checked":return[s,' data-list="checked"'];case"unchecked":return[s,' data-list="unchecked"'];default:return[s,""]}}function ft(b){return b.reduce((s,o)=>{if(typeof o.insert=="string"){const p=o.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return s.insert(p,o.attributes)}return s.push(o)},new(N()))}function J(b,s){let{index:o,length:p}=b;return new g.Q(o+s,p)}var m=class{constructor(b){this.scroll=b,this.delta=this.getDelta()}applyDelta(b){this.scroll.update();let s=this.scroll.length();this.scroll.batchStart();const o=ft(b),p=new(N());return function(E){const C=[];return E.forEach(V=>{typeof V.insert=="string"?V.insert.split(`
`).forEach((tt,et)=>{et&&C.push({insert:`
`,attributes:V.attributes}),tt&&C.push({insert:tt,attributes:V.attributes})}):C.push(V)}),C}(o.ops.slice()).reduce((E,C)=>{const V=M.Op.length(C);let tt=C.attributes||{},et=!1,it=!1;if(C.insert!=null){if(p.retain(V),typeof C.insert=="string"){const mt=C.insert;it=!mt.endsWith(`
`)&&(s<=E||!!this.scroll.descendant(S.zo,E)[0]),this.scroll.insertAt(E,mt);const[wt,At]=this.scroll.line(E);let kt=(0,a.A)({},(0,S.Ji)(wt));if(wt instanceof S.Ay){const[Rt]=wt.descendant(w.LeafBlot,At);Rt&&(kt=(0,a.A)(kt,(0,S.Ji)(Rt)))}tt=M.AttributeMap.diff(kt,tt)||{}}else if(typeof C.insert=="object"){const mt=Object.keys(C.insert)[0];if(mt==null)return E;const wt=this.scroll.query(mt,w.Scope.INLINE)!=null;if(wt)(s<=E||this.scroll.descendant(S.zo,E)[0])&&(it=!0);else if(E>0){const[At,kt]=this.scroll.descendant(w.LeafBlot,E-1);At instanceof O.A?At.value()[kt]!==`
`&&(et=!0):At instanceof w.EmbedBlot&&At.statics.scope===w.Scope.INLINE_BLOT&&(et=!0)}if(this.scroll.insertAt(E,mt,C.insert[mt]),wt){const[At]=this.scroll.descendant(w.LeafBlot,E);if(At){const kt=(0,a.A)({},(0,S.Ji)(At));tt=M.AttributeMap.diff(kt,tt)||{}}}}s+=V}else if(p.push(C),C.retain!==null&&typeof C.retain=="object"){const mt=Object.keys(C.retain)[0];if(mt==null)return E;this.scroll.updateEmbedAt(E,mt,C.retain[mt])}Object.keys(tt).forEach(mt=>{this.scroll.formatAt(E,V,mt,tt[mt])});const dt=et?1:0,bt=it?1:0;return s+=dt+bt,p.retain(dt),p.delete(bt),E+V+dt+bt},0),p.reduce((E,C)=>typeof C.delete=="number"?(this.scroll.deleteAt(E,C.delete),E):E+M.Op.length(C),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}deleteText(b,s){return this.scroll.deleteAt(b,s),this.update(new(N())().retain(b).delete(s))}formatLine(b,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(o).forEach(E=>{this.scroll.lines(b,Math.max(s,1)).forEach(C=>{C.format(E,o[E])})}),this.scroll.optimize();const p=new(N())().retain(b).retain(s,(0,I.A)(o));return this.update(p)}formatText(b,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(o).forEach(E=>{this.scroll.formatAt(b,s,E,o[E])});const p=new(N())().retain(b).retain(s,(0,I.A)(o));return this.update(p)}getContents(b,s){return this.delta.slice(b,b+s)}getDelta(){return this.scroll.lines().reduce((b,s)=>b.concat(s.delta()),new(N()))}getFormat(b){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=[],p=[];s===0?this.scroll.path(b).forEach(V=>{const[tt]=V;tt instanceof S.Ay?o.push(tt):tt instanceof w.LeafBlot&&p.push(tt)}):(o=this.scroll.lines(b,s),p=this.scroll.descendants(w.LeafBlot,b,s));const[E,C]=[o,p].map(V=>{const tt=V.shift();if(tt==null)return{};let et=(0,S.Ji)(tt);for(;Object.keys(et).length>0;){const it=V.shift();if(it==null)return et;et=X((0,S.Ji)(it),et)}return et});return{...E,...C}}getHTML(b,s){const[o,p]=this.scroll.line(b);if(o){const E=o.length();return o.length()>=p+s&&(p!==0||s!==E)?D(o,p,s,!0):D(this.scroll,b,s,!0)}return""}getText(b,s){return this.getContents(b,s).filter(o=>typeof o.insert=="string").map(o=>o.insert).join("")}insertContents(b,s){const o=ft(s),p=new(N())().retain(b).concat(o);return this.scroll.insertContents(b,o),this.update(p)}insertEmbed(b,s,o){return this.scroll.insertAt(b,s,o),this.update(new(N())().retain(b).insert({[s]:o}))}insertText(b,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=s.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(b,s),Object.keys(o).forEach(p=>{this.scroll.formatAt(b,s.length,p,o[p])}),this.update(new(N())().retain(b).insert(s,(0,I.A)(o)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const b=this.scroll.children.head;if(b?.statics.blotName!==S.Ay.blotName)return!1;const s=b;return!(s.children.length>1)&&s.children.head instanceof l.A}removeFormat(b,s){const o=this.getText(b,s),[p,E]=this.scroll.line(b+s);let C=0,V=new(N());p!=null&&(C=p.length()-E,V=p.delta().slice(E,E+C-1).insert(`
`));const tt=this.getContents(b,s+C).diff(new(N())().insert(o).concat(V)),et=new(N())().retain(b).concat(tt);return this.applyDelta(et)}update(b){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const p=this.delta;if(s.length===1&&s[0].type==="characterData"&&s[0].target.data.match(A)&&this.scroll.find(s[0].target)){const E=this.scroll.find(s[0].target),C=(0,S.Ji)(E),V=E.offset(this.scroll),tt=s[0].oldValue.replace(L.A.CONTENTS,""),et=new(N())().insert(tt),it=new(N())().insert(E.value()),dt=o&&{oldRange:J(o.oldRange,-V),newRange:J(o.newRange,-V)};b=new(N())().retain(V).concat(et.diff(it,dt)).reduce((bt,mt)=>mt.insert?bt.insert(mt.insert,C):bt.push(mt),new(N())),this.delta=p.compose(b)}else this.delta=this.getDelta(),b&&(0,c.A)(p.compose(b),this.delta)||(b=p.diff(this.delta,o));return b}},j=t(5374),Y=t(7356),B=t(6078),G=t(4266),U=t(746),W=class{isComposing=!1;constructor(b,s){this.scroll=b,this.emitter=s,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",b=>{this.isComposing||this.handleCompositionStart(b)}),this.scroll.domNode.addEventListener("compositionend",b=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(b)})})}handleCompositionStart(b){const s=b.target instanceof Node?this.scroll.find(b.target,!0):null;!s||s instanceof U.A||(this.emitter.emit(j.A.events.COMPOSITION_BEFORE_START,b),this.scroll.batchStart(),this.emitter.emit(j.A.events.COMPOSITION_START,b),this.isComposing=!0)}handleCompositionEnd(b){this.emitter.emit(j.A.events.COMPOSITION_BEFORE_END,b),this.scroll.batchEnd(),this.emitter.emit(j.A.events.COMPOSITION_END,b),this.isComposing=!1}},Q=t(9609);const ut=b=>{const s=b.getBoundingClientRect(),o="offsetWidth"in b&&Math.abs(s.width)/b.offsetWidth||1,p="offsetHeight"in b&&Math.abs(s.height)/b.offsetHeight||1;return{top:s.top,right:s.left+b.clientWidth*o,bottom:s.top+b.clientHeight*p,left:s.left}},$=b=>{const s=parseInt(b,10);return Number.isNaN(s)?0:s},H=(b,s,o,p,E,C)=>b<o&&s>p?0:b<o?-(o-b+E):s>p?s-b>p-o?b+E-o:s-p+C:0,ht=["block","break","cursor","inline","scroll","text"],v=(0,B.A)("quill"),e=new w.Registry;w.ParentBlot.uiClass="ql-ui";class r{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:e,theme:"default"};static events=j.A.events;static sources=j.A.sources;static version="2.0.3";static imports={delta:N(),parchment:w,"core/module":G.A,"core/theme":Q.A};static debug(s){s===!0&&(s="log"),B.A.level(s)}static find(s){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Y.A.get(s)||e.find(s,o)}static import(s){return this.imports[s]==null&&v.error(`Cannot import ${s}. Are you sure it was registered?`),this.imports[s]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const s=arguments.length<=0?void 0:arguments[0],o=!!(!(arguments.length<=1)&&arguments[1]),p="attrName"in s?s.attrName:s.blotName;typeof p=="string"?this.register(`formats/${p}`,s,o):Object.keys(s).forEach(E=>{this.register(E,s[E],o)})}else{const s=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],p=!!(!(arguments.length<=2)&&arguments[2]);this.imports[s]==null||p||v.warn(`Overwriting ${s} with`,o),this.imports[s]=o,(s.startsWith("blots/")||s.startsWith("formats/"))&&o&&typeof o!="boolean"&&o.blotName!=="abstract"&&e.register(o),typeof o.register=="function"&&o.register(e)}}constructor(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=function(V,tt){const et=n(V);if(!et)throw new Error("Invalid Quill container");const it=!tt.theme||tt.theme===r.DEFAULTS.theme?Q.A:r.import(`themes/${tt.theme}`);if(!it)throw new Error(`Invalid theme ${tt.theme}. Did you register it?`);const{modules:dt,...bt}=r.DEFAULTS,{modules:mt,...wt}=it.DEFAULTS;let At=_(tt.modules);At!=null&&At.toolbar&&At.toolbar.constructor!==Object&&(At={...At,toolbar:{container:At.toolbar}});const kt=(0,a.A)({},_(dt),_(mt),At),Rt={...bt,...h(wt),...h(tt)};let Wt=tt.registry;return Wt?tt.formats&&v.warn('Ignoring "formats" option because "registry" is specified'):Wt=tt.formats?((Ut,xt,Tt)=>{const Lt=new w.Registry;return ht.forEach(Pt=>{const Dt=xt.query(Pt);Dt&&Lt.register(Dt)}),Ut.forEach(Pt=>{let Dt=xt.query(Pt);Dt||Tt.error(`Cannot register "${Pt}" specified in "formats" config. Are you sure it was registered?`);let Zt=0;for(;Dt;)if(Lt.register(Dt),Dt="blotName"in Dt?Dt.requiredContainer??null:null,Zt+=1,Zt>100){Tt.error(`Cycle detected in registering blot requiredContainer: "${Pt}"`);break}}),Lt})(tt.formats,Rt.registry,v):Rt.registry,{...Rt,registry:Wt,container:et,theme:it,modules:Object.entries(kt).reduce((Ut,xt)=>{let[Tt,Lt]=xt;if(!Lt)return Ut;const Pt=r.import(`modules/${Tt}`);return Pt==null?(v.error(`Cannot load ${Tt} module. Are you sure you registered it?`),Ut):{...Ut,[Tt]:(0,a.A)({},Pt.DEFAULTS||{},Lt)}},{}),bounds:n(Rt.bounds)}}(s,o),this.container=this.options.container,this.container==null)return void v.error("Invalid Quill container",s);this.options.debug&&r.debug(this.options.debug);const p=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Y.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new j.A;const E=w.ScrollBlot.blotName,C=this.options.registry.query(E);if(!C||!("blotName"in C))throw new Error(`Cannot initialize Quill without "${E}" blot`);if(this.scroll=new C(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new m(this.scroll),this.selection=new g.A(this.scroll,this.emitter),this.composition=new W(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(j.A.events.EDITOR_CHANGE,V=>{V===j.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(j.A.events.SCROLL_UPDATE,(V,tt)=>{const et=this.selection.lastRange,[it]=this.selection.getRange(),dt=et&&it?{oldRange:et,newRange:it}:void 0;u.call(this,()=>this.editor.update(null,tt,dt),V)}),this.emitter.on(j.A.events.SCROLL_EMBED_UPDATE,(V,tt)=>{const et=this.selection.lastRange,[it]=this.selection.getRange(),dt=et&&it?{oldRange:et,newRange:it}:void 0;u.call(this,()=>{const bt=new(N())().retain(V.offset(this)).retain({[V.statics.blotName]:tt});return this.editor.update(bt,[],dt)},r.sources.USER)}),p){const V=this.clipboard.convert({html:`${p}<p><br></p>`,text:`
`});this.setContents(V)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof s=="string"){const p=s;(s=document.createElement("div")).classList.add(p)}return this.container.insertBefore(s,o),s}blur(){this.selection.setRange(null)}deleteText(s,o,p){return[s,o,,p]=k(s,o,p),u.call(this,()=>this.editor.deleteText(s,o),p,s,-1*o)}disable(){this.enable(!1)}editReadOnly(s){this.allowReadOnlyEdits=!0;const o=s();return this.allowReadOnlyEdits=!1,o}enable(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(s),this.container.classList.toggle("ql-disabled",!s)}focus(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),s.preventScroll||this.scrollSelectionIntoView()}format(s,o){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.A.sources.API;return u.call(this,()=>{const E=this.getSelection(!0);let C=new(N());if(E==null)return C;if(this.scroll.query(s,w.Scope.BLOCK))C=this.editor.formatLine(E.index,E.length,{[s]:o});else{if(E.length===0)return this.selection.format(s,o),C;C=this.editor.formatText(E.index,E.length,{[s]:o})}return this.setSelection(E,j.A.sources.SILENT),C},p)}formatLine(s,o,p,E,C){let V;return[s,o,V,C]=k(s,o,p,E,C),u.call(this,()=>this.editor.formatLine(s,o,V),C,s,0)}formatText(s,o,p,E,C){let V;return[s,o,V,C]=k(s,o,p,E,C),u.call(this,()=>this.editor.formatText(s,o,V),C,s,0)}getBounds(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=null;if(p=typeof s=="number"?this.selection.getBounds(s,o):this.selection.getBounds(s.index,s.length),!p)return null;const E=this.container.getBoundingClientRect();return{bottom:p.bottom-E.top,height:p.height,left:p.left-E.left,right:p.right-E.left,top:p.top-E.top,width:p.width}}getContents(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-s;return[s,o]=k(s,o),this.editor.getContents(s,o)}getFormat(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof s=="number"?this.editor.getFormat(s,o):this.editor.getFormat(s.index,s.length)}getIndex(s){return s.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(s){return this.scroll.leaf(s)}getLine(s){return this.scroll.line(s)}getLines(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof s!="number"?this.scroll.lines(s.index,s.length):this.scroll.lines(s,o)}getModule(s){return this.theme.modules[s]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(o=o??this.getLength()-s),[s,o]=k(s,o),this.editor.getHTML(s,o)}getText(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(o=o??this.getLength()-s),[s,o]=k(s,o),this.editor.getText(s,o)}hasFocus(){return this.selection.hasFocus()}insertEmbed(s,o,p){let E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.sources.API;return u.call(this,()=>this.editor.insertEmbed(s,o,p),E,s)}insertText(s,o,p,E,C){let V;return[s,,V,C]=k(s,0,p,E,C),u.call(this,()=>this.editor.insertText(s,o,V),C,s,o.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(s,o,p){return[s,o,,p]=k(s,o,p),u.call(this,()=>this.editor.removeFormat(s,o),p,s)}scrollRectIntoView(s){((o,p)=>{const E=o.ownerDocument;let C=p,V=o;for(;V;){const et=V===E.body,it=et?{top:0,right:window.visualViewport?.width??E.documentElement.clientWidth,bottom:window.visualViewport?.height??E.documentElement.clientHeight,left:0}:ut(V),dt=getComputedStyle(V),bt=H(C.left,C.right,it.left,it.right,$(dt.scrollPaddingLeft),$(dt.scrollPaddingRight)),mt=H(C.top,C.bottom,it.top,it.bottom,$(dt.scrollPaddingTop),$(dt.scrollPaddingBottom));if(bt||mt)if(et)E.defaultView?.scrollBy(bt,mt);else{const{scrollLeft:wt,scrollTop:At}=V;mt&&(V.scrollTop+=mt),bt&&(V.scrollLeft+=bt);const kt=V.scrollLeft-wt,Rt=V.scrollTop-At;C={left:C.left-kt,top:C.top-Rt,right:C.right-kt,bottom:C.bottom-Rt}}V=et||dt.position==="fixed"?null:(tt=V).parentElement||tt.getRootNode().host||null}var tt})(this.root,s)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const s=this.selection.lastRange,o=s&&this.selection.getBounds(s.index,s.length);o&&this.scrollRectIntoView(o)}setContents(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return u.call(this,()=>{s=new(N())(s);const p=this.getLength(),E=this.editor.deleteText(0,p),C=this.editor.insertContents(0,s),V=this.editor.deleteText(this.getLength()-1,1);return E.compose(C).compose(V)},o)}setSelection(s,o,p){s==null?this.selection.setRange(null,o||r.sources.API):([s,o,,p]=k(s,o,p),this.selection.setRange(new g.Q(Math.max(0,s),o),p),p!==j.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;const p=new(N())().insert(s);return this.setContents(p,o)}update(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j.A.sources.USER;const o=this.scroll.update(s);return this.selection.update(s),o}updateContents(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return u.call(this,()=>(s=new(N())(s),this.editor.applyDelta(s)),o,!0)}}function n(b){return typeof b=="string"?document.querySelector(b):b}function _(b){return Object.entries(b??{}).reduce((s,o)=>{let[p,E]=o;return{...s,[p]:E===!0?{}:E}},{})}function h(b){return Object.fromEntries(Object.entries(b).filter(s=>s[1]!==void 0))}function u(b,s,o,p){if(!this.isEnabled()&&s===j.A.sources.USER&&!this.allowReadOnlyEdits)return new(N());let E=o==null?null:this.getSelection();const C=this.editor.delta,V=b();if(E!=null&&(o===!0&&(o=E.index),p==null?E=T(E,V,s):p!==0&&(E=T(E,o,p,s)),this.setSelection(E,j.A.sources.SILENT)),V.length()>0){const tt=[j.A.events.TEXT_CHANGE,V,C,s];this.emitter.emit(j.A.events.EDITOR_CHANGE,...tt),s!==j.A.sources.SILENT&&this.emitter.emit(...tt)}return V}function k(b,s,o,p,E){let C={};return typeof b.index=="number"&&typeof b.length=="number"?typeof s!="number"?(E=p,p=o,o=s,s=b.length,b=b.index):(s=b.length,b=b.index):typeof s!="number"&&(E=p,p=o,o=s,s=0),typeof o=="object"?(C=o,E=p):typeof o=="string"&&(p!=null?C[o]=p:E=o),[b,s,C,E=E||j.A.sources.API]}function T(b,s,o,p){const E=typeof o=="number"?o:0;if(b==null)return null;let C,V;return s&&typeof s.transformPosition=="function"?[C,V]=[b.index,b.index+b.length].map(tt=>s.transformPosition(tt,p!==j.A.sources.USER)):[C,V]=[b.index,b.index+b.length].map(tt=>tt<s||tt===s&&p===j.A.sources.USER?tt:E>=0?tt+E:Math.max(s,tt+E)),new g.Q(C,V-C)}},8298:function(ot,x,t){"use strict";t.d(x,{Q:function(){return c}});var a=t(6003),w=t(5123),M=t(3707),N=t(5374);const I=(0,t(6078).A)("quill:selection");class c{constructor(L){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=L,this.length=O}}function S(l,L){try{L.parentNode}catch{return!1}return l.contains(L)}x.A=class{constructor(l,L){this.emitter=L,this.scroll=l,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new c(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,N.A.sources.USER),1)}),this.emitter.on(N.A.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const O=this.getNativeRange();O!=null&&O.start.node!==this.cursor.textNode&&this.emitter.once(N.A.events.SCROLL_UPDATE,(g,A)=>{try{this.root.contains(O.start.node)&&this.root.contains(O.end.node)&&this.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset);const R=A.some(D=>D.type==="characterData"||D.type==="childList"||D.type==="attributes"&&D.target===this.root);this.update(R?N.A.sources.SILENT:g)}catch{}})}),this.emitter.on(N.A.events.SCROLL_OPTIMIZE,(O,g)=>{if(g.range){const{startNode:A,startOffset:R,endNode:D,endOffset:X}=g.range;this.setNativeRange(A,R,D,X),this.update(N.A.sources.SILENT)}}),this.update(N.A.sources.SILENT)}handleComposition(){this.emitter.on(N.A.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(N.A.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const l=this.cursor.restore();if(!l)return;setTimeout(()=>{this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(N.A.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(l,L){this.scroll.update();const O=this.getNativeRange();if(O!=null&&O.native.collapsed&&!this.scroll.query(l,a.Scope.BLOCK)){if(O.start.node!==this.cursor.textNode){const g=this.scroll.find(O.start.node,!1);if(g==null)return;if(g instanceof a.LeafBlot){const A=g.split(O.start.offset);g.parent.insertBefore(this.cursor,A)}else g.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(l,L),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(l){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const O=this.scroll.length();let g;l=Math.min(l,O-1),L=Math.min(l+L,O-1)-l;let[A,R]=this.scroll.leaf(l);if(A==null)return null;if(L>0&&R===A.length()){const[ft]=this.scroll.leaf(l+1);if(ft){const[J]=this.scroll.line(l),[m]=this.scroll.line(l+1);J===m&&(A=ft,R=0)}}[g,R]=A.position(R,!0);const D=document.createRange();if(L>0)return D.setStart(g,R),[A,R]=this.scroll.leaf(l+L),A==null?null:([g,R]=A.position(R,!0),D.setEnd(g,R),D.getBoundingClientRect());let X,lt="left";if(g instanceof Text){if(!g.data.length)return null;R<g.data.length?(D.setStart(g,R),D.setEnd(g,R+1)):(D.setStart(g,R-1),D.setEnd(g,R),lt="right"),X=D.getBoundingClientRect()}else{if(!(A.domNode instanceof Element))return null;X=A.domNode.getBoundingClientRect(),R>0&&(lt="right")}return{bottom:X.top+X.height,height:X.height,left:X[lt],right:X[lt],top:X.top,width:0}}getNativeRange(){const l=document.getSelection();if(l==null||l.rangeCount<=0)return null;const L=l.getRangeAt(0);if(L==null)return null;const O=this.normalizeNative(L);return I.info("getNativeRange",O),O}getRange(){const l=this.scroll.domNode;if("isConnected"in l&&!l.isConnected)return[null,null];const L=this.getNativeRange();return L==null?[null,null]:[this.normalizedToRange(L),L]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&S(this.root,document.activeElement)}normalizedToRange(l){const L=[[l.start.node,l.start.offset]];l.native.collapsed||L.push([l.end.node,l.end.offset]);const O=L.map(R=>{const[D,X]=R,lt=this.scroll.find(D,!0),ft=lt.offset(this.scroll);return X===0?ft:lt instanceof a.LeafBlot?ft+lt.index(D,X):ft+lt.length()}),g=Math.min(Math.max(...O),this.scroll.length()-1),A=Math.min(g,...O);return new c(A,g-A)}normalizeNative(l){if(!S(this.root,l.startContainer)||!l.collapsed&&!S(this.root,l.endContainer))return null;const L={start:{node:l.startContainer,offset:l.startOffset},end:{node:l.endContainer,offset:l.endOffset},native:l};return[L.start,L.end].forEach(O=>{let{node:g,offset:A}=O;for(;!(g instanceof Text)&&g.childNodes.length>0;)if(g.childNodes.length>A)g=g.childNodes[A],A=0;else{if(g.childNodes.length!==A)break;g=g.lastChild,A=g instanceof Text?g.data.length:g.childNodes.length>0?g.childNodes.length:g.childNodes.length+1}O.node=g,O.offset=A}),L}rangeToNative(l){const L=this.scroll.length(),O=(g,A)=>{g=Math.min(L-1,g);const[R,D]=this.scroll.leaf(g);return R?R.position(D,A):[null,-1]};return[...O(l.index,!1),...O(l.index+l.length,!0)]}setNativeRange(l,L){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:L,A=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(I.info("setNativeRange",l,L,O,g),l!=null&&(this.root.parentNode==null||l.parentNode==null||O.parentNode==null))return;const R=document.getSelection();if(R!=null)if(l!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:D}=this.getNativeRange()||{};if(D==null||A||l!==D.startContainer||L!==D.startOffset||O!==D.endContainer||g!==D.endOffset){l instanceof Element&&l.tagName==="BR"&&(L=Array.from(l.parentNode.childNodes).indexOf(l),l=l.parentNode),O instanceof Element&&O.tagName==="BR"&&(g=Array.from(O.parentNode.childNodes).indexOf(O),O=O.parentNode);const X=document.createRange();X.setStart(l,L),X.setEnd(O,g),R.removeAllRanges(),R.addRange(X)}}else R.removeAllRanges(),this.root.blur()}setRange(l){let L=arguments.length>1&&arguments[1]!==void 0&&arguments[1],O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.A.sources.API;if(typeof L=="string"&&(O=L,L=!1),I.info("setRange",l),l!=null){const g=this.rangeToNative(l);this.setNativeRange(...g,L)}else this.setNativeRange(null);this.update(O)}update(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N.A.sources.USER;const L=this.lastRange,[O,g]=this.getRange();if(this.lastRange=O,this.lastNative=g,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,w.A)(L,this.lastRange)){if(!this.composing&&g!=null&&g.native.collapsed&&g.start.node!==this.cursor.textNode){const R=this.cursor.restore();R&&this.setNativeRange(R.startNode,R.startOffset,R.endNode,R.endOffset)}const A=[N.A.events.SELECTION_CHANGE,(0,M.A)(this.lastRange),(0,M.A)(L),l];this.emitter.emit(N.A.events.EDITOR_CHANGE,...A),l!==N.A.sources.SILENT&&this.emitter.emit(...A)}}}},9609:function(ot,x){"use strict";class t{static DEFAULTS={modules:{}};static themes={default:t};modules={};constructor(w,M){this.quill=w,this.options=M}init(){Object.keys(this.options.modules).forEach(w=>{this.modules[w]==null&&this.addModule(w)})}addModule(w){const M=this.quill.constructor.import(`modules/${w}`);return this.modules[w]=new M(this.quill,this.options.modules[w]||{}),this.modules[w]}}x.A=t},8276:function(ot,x,t){"use strict";t.d(x,{Hu:function(){return I},gS:function(){return M},qh:function(){return N}});var a=t(6003);const w={scope:a.Scope.BLOCK,whitelist:["right","center","justify"]},M=new a.Attributor("align","align",w),N=new a.ClassAttributor("align","ql-align",w),I=new a.StyleAttributor("align","text-align",w)},9541:function(ot,x,t){"use strict";t.d(x,{l:function(){return M},s:function(){return N}});var a=t(6003),w=t(8638);const M=new a.ClassAttributor("background","ql-bg",{scope:a.Scope.INLINE}),N=new w.a2("background","background-color",{scope:a.Scope.INLINE})},9404:function(ot,x,t){"use strict";t.d(x,{Ay:function(){return L},Cy:function(){return O},EJ:function(){return l}});var a=t(9698),w=t(3036),M=t(4541),N=t(4850),I=t(5508),c=t(580),S=t(6142);class l extends c.A{static create(A){const R=super.create(A);return R.setAttribute("spellcheck","false"),R}code(A,R){return this.children.map(D=>D.length()<=1?"":D.domNode.innerText).join(`
`).slice(A,A+R)}html(A,R){return`<pre>
${(0,I.X)(this.code(A,R))}
</pre>`}}class L extends a.Ay{static TAB="  ";static register(){S.Ay.register(l)}}class O extends N.A{}O.blotName="code",O.tagName="CODE",L.blotName="code-block",L.className="ql-code-block",L.tagName="DIV",l.blotName="code-block-container",l.className="ql-code-block-container",l.tagName="DIV",l.allowedChildren=[L],L.allowedChildren=[I.A,w.A,M.A],L.requiredContainer=l},8638:function(ot,x,t){"use strict";t.d(x,{JM:function(){return N},a2:function(){return w},g3:function(){return M}});var a=t(6003);class w extends a.StyleAttributor{value(c){let S=super.value(c);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${S.split(",").map(l=>`00${parseInt(l,10).toString(16)}`.slice(-2)).join("")}`):S}}const M=new a.ClassAttributor("color","ql-color",{scope:a.Scope.INLINE}),N=new w("color","color",{scope:a.Scope.INLINE})},7912:function(ot,x,t){"use strict";t.d(x,{Mc:function(){return M},VL:function(){return I},sY:function(){return N}});var a=t(6003);const w={scope:a.Scope.BLOCK,whitelist:["rtl"]},M=new a.Attributor("direction","dir",w),N=new a.ClassAttributor("direction","ql-direction",w),I=new a.StyleAttributor("direction","direction",w)},6772:function(ot,x,t){"use strict";t.d(x,{q:function(){return M},z:function(){return I}});var a=t(6003);const w={scope:a.Scope.INLINE,whitelist:["serif","monospace"]},M=new a.ClassAttributor("font","ql-font",w);class N extends a.StyleAttributor{value(S){return super.value(S).replace(/["']/g,"")}}const I=new N("font","font-family",w)},664:function(ot,x,t){"use strict";t.d(x,{U:function(){return w},r:function(){return M}});var a=t(6003);const w=new a.ClassAttributor("size","ql-size",{scope:a.Scope.INLINE,whitelist:["small","large","huge"]}),M=new a.StyleAttributor("size","font-size",{scope:a.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(ot,x,t){"use strict";t.d(x,{Ay:function(){return ut},hV:function(){return r}});var a=t(6003),w=t(5232),M=t.n(w),N=t(9698),I=t(6078),c=t(4266),S=t(6142),l=t(8276),L=t(9541),O=t(9404),g=t(8638),A=t(7912),R=t(6772),D=t(664),X=t(8123);const lt=/font-weight:\s*normal/,ft=["P","OL","UL"],J=h=>h&&ft.includes(h.tagName),m=/\bmso-list:[^;]*ignore/i,j=/\bmso-list:[^;]*\bl(\d+)/i,Y=/\bmso-list:[^;]*\blevel(\d+)/i,B=[function(h){h.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&(u=>{const k=Array.from(u.querySelectorAll("[style*=mso-list]")),T=[],b=[];k.forEach(p=>{(p.getAttribute("style")||"").match(m)?T.push(p):b.push(p)}),T.forEach(p=>p.parentNode?.removeChild(p));const s=u.documentElement.innerHTML,o=b.map(p=>((E,C)=>{const V=E.getAttribute("style"),tt=V?.match(j);if(!tt)return null;const et=Number(tt[1]),it=V?.match(Y),dt=it?Number(it[1]):1,bt=new RegExp(`@list l${et}:level${dt}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),mt=C.match(bt);return{id:et,indent:dt,type:mt&&mt[1]==="bullet"?"bullet":"ordered",element:E}})(p,s)).filter(p=>p);for(;o.length;){const p=[];let E=o.shift();for(;E;)p.push(E),E=o.length&&o[0]?.element===E.element.nextElementSibling&&o[0].id===E.id?o.shift():null;const C=document.createElement("ul");p.forEach(et=>{const it=document.createElement("li");it.setAttribute("data-list",et.type),et.indent>1&&it.setAttribute("class","ql-indent-"+(et.indent-1)),it.innerHTML=et.element.innerHTML,C.appendChild(it)});const V=p[0]?.element,{parentNode:tt}=V??{};V&&tt?.replaceChild(C,V),p.slice(1).forEach(et=>{let{element:it}=et;tt?.removeChild(it)})}})(h)},function(h){h.querySelector('[id^="docs-internal-guid-"]')&&((u=>{Array.from(u.querySelectorAll('b[style*="font-weight"]')).filter(k=>k.getAttribute("style")?.match(lt)).forEach(k=>{const T=u.createDocumentFragment();T.append(...k.childNodes),k.parentNode?.replaceChild(T,k)})})(h),(u=>{Array.from(u.querySelectorAll("br")).filter(k=>J(k.previousElementSibling)&&J(k.nextElementSibling)).forEach(k=>{k.parentNode?.removeChild(k)})})(h))}],G=(0,I.A)("quill:clipboard"),U=[[Node.TEXT_NODE,function(h,u,k){let T=h.data;if(h.parentElement?.tagName==="O:P")return u.insert(T.trim());if(!e(h)){if(T.trim().length===0&&T.includes(`
`)&&!function(b,s){return b.previousElementSibling&&b.nextElementSibling&&!ht(b.previousElementSibling,s)&&!ht(b.nextElementSibling,s)}(h,k))return u;T=T.replace(/[^\S\u00a0]/g," "),T=T.replace(/ {2,}/g," "),(h.previousSibling==null&&h.parentElement!=null&&ht(h.parentElement,k)||h.previousSibling instanceof Element&&ht(h.previousSibling,k))&&(T=T.replace(/^ /,"")),(h.nextSibling==null&&h.parentElement!=null&&ht(h.parentElement,k)||h.nextSibling instanceof Element&&ht(h.nextSibling,k))&&(T=T.replace(/ $/,"")),T=T.replaceAll("\xA0"," ")}return u.insert(T)}],[Node.TEXT_NODE,_],["br",function(h,u){return H(u,`
`)||u.insert(`
`),u}],[Node.ELEMENT_NODE,_],[Node.ELEMENT_NODE,function(h,u,k){const T=k.query(h);if(T==null)return u;if(T.prototype instanceof a.EmbedBlot){const b={},s=T.value(h);if(s!=null)return b[T.blotName]=s,new(M())().insert(b,T.formats(h,k))}else if(T.prototype instanceof a.BlockBlot&&!H(u,`
`)&&u.insert(`
`),"blotName"in T&&"formats"in T&&typeof T.formats=="function")return $(u,T.blotName,T.formats(h,k),k);return u}],[Node.ELEMENT_NODE,function(h,u,k){const T=a.Attributor.keys(h),b=a.ClassAttributor.keys(h),s=a.StyleAttributor.keys(h),o={};return T.concat(b).concat(s).forEach(p=>{let E=k.query(p,a.Scope.ATTRIBUTE);E!=null&&(o[E.attrName]=E.value(h),o[E.attrName])||(E=W[p],E==null||E.attrName!==p&&E.keyName!==p||(o[E.attrName]=E.value(h)||void 0),E=Q[p],E==null||E.attrName!==p&&E.keyName!==p||(E=Q[p],o[E.attrName]=E.value(h)||void 0))}),Object.entries(o).reduce((p,E)=>{let[C,V]=E;return $(p,C,V,k)},u)}],[Node.ELEMENT_NODE,function(h,u,k){const T={},b=h.style||{};return b.fontStyle==="italic"&&(T.italic=!0),b.textDecoration==="underline"&&(T.underline=!0),b.textDecoration==="line-through"&&(T.strike=!0),(b.fontWeight?.startsWith("bold")||parseInt(b.fontWeight,10)>=700)&&(T.bold=!0),u=Object.entries(T).reduce((s,o)=>{let[p,E]=o;return $(s,p,E,k)},u),parseFloat(b.textIndent||0)>0?new(M())().insert("	").concat(u):u}],["li",function(h,u,k){const T=k.query(h);if(T==null||T.blotName!=="list"||!H(u,`
`))return u;let b=-1,s=h.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(b+=1),s=s.parentNode;return b<=0?u:u.reduce((o,p)=>p.insert?p.attributes&&typeof p.attributes.indent=="number"?o.push(p):o.insert(p.insert,{indent:b,...p.attributes||{}}):o,new(M()))}],["ol, ul",function(h,u,k){const T=h;let b=T.tagName==="OL"?"ordered":"bullet";const s=T.getAttribute("data-checked");return s&&(b=s==="true"?"checked":"unchecked"),$(u,"list",b,k)}],["pre",function(h,u,k){const T=k.query("code-block");return $(u,"code-block",!T||!("formats"in T)||typeof T.formats!="function"||T.formats(h,k),k)}],["tr",function(h,u,k){const T=h.parentElement?.tagName==="TABLE"?h.parentElement:h.parentElement?.parentElement;return T!=null?$(u,"table",Array.from(T.querySelectorAll("tr")).indexOf(h)+1,k):u}],["b",n("bold")],["i",n("italic")],["strike",n("strike")],["style",function(){return new(M())}]],W=[l.gS,A.Mc].reduce((h,u)=>(h[u.keyName]=u,h),{}),Q=[l.Hu,L.s,g.JM,A.VL,R.z,D.r].reduce((h,u)=>(h[u.keyName]=u,h),{});class ut extends c.A{static DEFAULTS={matchers:[]};constructor(u,k){super(u,k),this.quill.root.addEventListener("copy",T=>this.onCaptureCopy(T,!1)),this.quill.root.addEventListener("cut",T=>this.onCaptureCopy(T,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],U.concat(this.options.matchers??[]).forEach(T=>{let[b,s]=T;this.addMatcher(b,s)})}addMatcher(u,k){this.matchers.push([u,k])}convert(u){let{html:k,text:T}=u,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(b[O.Ay.blotName])return new(M())().insert(T||"",{[O.Ay.blotName]:b[O.Ay.blotName]});if(!k)return new(M())().insert(T||"",b);const s=this.convertHTML(k);return H(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||b.table)?s.compose(new(M())().retain(s.length()-1).delete(1)):s}normalizeHTML(u){(k=>{k.documentElement&&B.forEach(T=>{T(k)})})(u)}convertHTML(u){const k=new DOMParser().parseFromString(u,"text/html");this.normalizeHTML(k);const T=k.body,b=new WeakMap,[s,o]=this.prepareMatching(T,b);return r(this.quill.scroll,T,s,o,b)}dangerouslyPasteHTML(u,k){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.Ay.sources.API;if(typeof u=="string"){const b=this.convert({html:u,text:""});this.quill.setContents(b,k),this.quill.setSelection(0,S.Ay.sources.SILENT)}else{const b=this.convert({html:k,text:""});this.quill.updateContents(new(M())().retain(u).concat(b),T),this.quill.setSelection(u+b.length(),S.Ay.sources.SILENT)}}onCaptureCopy(u){let k=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(u.defaultPrevented)return;u.preventDefault();const[T]=this.quill.selection.getRange();if(T==null)return;const{html:b,text:s}=this.onCopy(T,k);u.clipboardData?.setData("text/plain",s),u.clipboardData?.setData("text/html",b),k&&(0,X.Xo)({range:T,quill:this.quill})}normalizeURIList(u){return u.split(/\r?\n/).filter(k=>k[0]!=="#").join(`
`)}onCapturePaste(u){if(u.defaultPrevented||!this.quill.isEnabled())return;u.preventDefault();const k=this.quill.getSelection(!0);if(k==null)return;const T=u.clipboardData?.getData("text/html");let b=u.clipboardData?.getData("text/plain");if(!T&&!b){const o=u.clipboardData?.getData("text/uri-list");o&&(b=this.normalizeURIList(o))}const s=Array.from(u.clipboardData?.files||[]);if(!T&&s.length>0)this.quill.uploader.upload(k,s);else{if(T&&s.length>0){const o=new DOMParser().parseFromString(T,"text/html");if(o.body.childElementCount===1&&o.body.firstElementChild?.tagName==="IMG")return void this.quill.uploader.upload(k,s)}this.onPaste(k,{html:T,text:b})}}onCopy(u){const k=this.quill.getText(u);return{html:this.quill.getSemanticHTML(u),text:k}}onPaste(u,k){let{text:T,html:b}=k;const s=this.quill.getFormat(u.index),o=this.convert({text:T,html:b},s);G.log("onPaste",o,{text:T,html:b});const p=new(M())().retain(u.index).delete(u.length).concat(o);this.quill.updateContents(p,S.Ay.sources.USER),this.quill.setSelection(p.length()-u.length,S.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(u,k){const T=[],b=[];return this.matchers.forEach(s=>{const[o,p]=s;switch(o){case Node.TEXT_NODE:b.push(p);break;case Node.ELEMENT_NODE:T.push(p);break;default:Array.from(u.querySelectorAll(o)).forEach(E=>{k.has(E)?k.get(E)?.push(p):k.set(E,[p])})}}),[T,b]}}function $(h,u,k,T){return T.query(u)?h.reduce((b,s)=>{if(!s.insert)return b;if(s.attributes&&s.attributes[u])return b.push(s);const o=k?{[u]:k}:{};return b.insert(s.insert,{...o,...s.attributes})},new(M())):h}function H(h,u){let k="";for(let T=h.ops.length-1;T>=0&&k.length<u.length;--T){const b=h.ops[T];if(typeof b.insert!="string")break;k=b.insert+k}return k.slice(-1*u.length)===u}function ht(h,u){if(!(h instanceof Element))return!1;const k=u.query(h);return!(k&&k.prototype instanceof a.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(h.tagName.toLowerCase())}const v=new WeakMap;function e(h){return h!=null&&(v.has(h)||(h.tagName==="PRE"?v.set(h,!0):v.set(h,e(h.parentNode))),v.get(h))}function r(h,u,k,T,b){return u.nodeType===u.TEXT_NODE?T.reduce((s,o)=>o(u,s,h),new(M())):u.nodeType===u.ELEMENT_NODE?Array.from(u.childNodes||[]).reduce((s,o)=>{let p=r(h,o,k,T,b);return o.nodeType===u.ELEMENT_NODE&&(p=k.reduce((E,C)=>C(o,E,h),p),p=(b.get(o)||[]).reduce((E,C)=>C(o,E,h),p)),s.concat(p)},new(M())):new(M())}function n(h){return(u,k,T)=>$(k,h,!0,T)}function _(h,u,k){if(!H(u,`
`)){if(ht(h,k)&&(h.childNodes.length>0||h instanceof HTMLParagraphElement))return u.insert(`
`);if(u.length()>0&&h.nextSibling){let T=h.nextSibling;for(;T!=null;){if(ht(T,k))return u.insert(`
`);const b=k.query(T);if(b&&b.prototype instanceof N.zo)return u.insert(`
`);T=T.firstChild}}}return u}},8123:function(ot,x,t){"use strict";t.d(x,{Ay:function(){return g},Xo:function(){return ft}});var a=t(5123),w=t(3707),M=t(5232),N=t.n(M),I=t(6003),c=t(6142),S=t(6078),l=t(4266);const L=(0,S.A)("quill:keyboard"),O=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class g extends l.A{static match(m,j){return!["altKey","ctrlKey","metaKey","shiftKey"].some(Y=>!!j[Y]!==m[Y]&&j[Y]!==null)&&(j.key===m.key||j.key===m.which)}constructor(m,j){super(m,j),this.bindings={},Object.keys(this.options.bindings).forEach(Y=>{this.options.bindings[Y]&&this.addBinding(this.options.bindings[Y])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(m){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const B=function(G){if(typeof G=="string"||typeof G=="number")G={key:G};else{if(typeof G!="object")return null;G=(0,w.A)(G)}return G.shortKey&&(G[O]=G.shortKey,delete G.shortKey),G}(m);B!=null?(typeof j=="function"&&(j={handler:j}),typeof Y=="function"&&(Y={handler:Y}),(Array.isArray(B.key)?B.key:[B.key]).forEach(G=>{const U={...B,key:G,...j,...Y};this.bindings[U.key]=this.bindings[U.key]||[],this.bindings[U.key].push(U)})):L.warn("Attempted to add invalid keyboard binding",B)}listen(){this.quill.root.addEventListener("keydown",m=>{if(m.defaultPrevented||m.isComposing||m.keyCode===229&&(m.key==="Enter"||m.key==="Backspace"))return;const j=(this.bindings[m.key]||[]).concat(this.bindings[m.which]||[]).filter(e=>g.match(m,e));if(j.length===0)return;const Y=c.Ay.find(m.target,!0);if(Y&&Y.scroll!==this.quill.scroll)return;const B=this.quill.getSelection();if(B==null||!this.quill.hasFocus())return;const[G,U]=this.quill.getLine(B.index),[W,Q]=this.quill.getLeaf(B.index),[ut,$]=B.length===0?[W,Q]:this.quill.getLeaf(B.index+B.length),H=W instanceof I.TextBlot?W.value().slice(0,Q):"",ht=ut instanceof I.TextBlot?ut.value().slice($):"",v={collapsed:B.length===0,empty:B.length===0&&G.length()<=1,format:this.quill.getFormat(B),line:G,offset:U,prefix:H,suffix:ht,event:m};j.some(e=>{if(e.collapsed!=null&&e.collapsed!==v.collapsed||e.empty!=null&&e.empty!==v.empty||e.offset!=null&&e.offset!==v.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(r=>v.format[r]==null))return!1}else if(typeof e.format=="object"&&!Object.keys(e.format).every(r=>e.format[r]===!0?v.format[r]!=null:e.format[r]===!1?v.format[r]==null:(0,a.A)(e.format[r],v.format[r])))return!1;return!(e.prefix!=null&&!e.prefix.test(v.prefix)||e.suffix!=null&&!e.suffix.test(v.suffix)||e.handler.call(this,B,v,e)===!0)})&&m.preventDefault()})}handleBackspace(m,j){const Y=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(j.prefix)?2:1;if(m.index===0||this.quill.getLength()<=1)return;let B={};const[G]=this.quill.getLine(m.index);let U=new(N())().retain(m.index-Y).delete(Y);if(j.offset===0){const[W]=this.quill.getLine(m.index-1);if(W&&!(W.statics.blotName==="block"&&W.length()<=1)){const Q=G.formats(),ut=this.quill.getFormat(m.index-1,1);if(B=M.AttributeMap.diff(Q,ut)||{},Object.keys(B).length>0){const $=new(N())().retain(m.index+G.length()-2).retain(1,B);U=U.compose($)}}}this.quill.updateContents(U,c.Ay.sources.USER),this.quill.focus()}handleDelete(m,j){const Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(j.suffix)?2:1;if(m.index>=this.quill.getLength()-Y)return;let B={};const[G]=this.quill.getLine(m.index);let U=new(N())().retain(m.index).delete(Y);if(j.offset>=G.length()-1){const[W]=this.quill.getLine(m.index+1);if(W){const Q=G.formats(),ut=this.quill.getFormat(m.index,1);B=M.AttributeMap.diff(Q,ut)||{},Object.keys(B).length>0&&(U=U.retain(W.length()-1).retain(1,B))}}this.quill.updateContents(U,c.Ay.sources.USER),this.quill.focus()}handleDeleteRange(m){ft({range:m,quill:this.quill}),this.quill.focus()}handleEnter(m,j){const Y=Object.keys(j.format).reduce((G,U)=>(this.quill.scroll.query(U,I.Scope.BLOCK)&&!Array.isArray(j.format[U])&&(G[U]=j.format[U]),G),{}),B=new(N())().retain(m.index).delete(m.length).insert(`
`,Y);this.quill.updateContents(B,c.Ay.sources.USER),this.quill.setSelection(m.index+1,c.Ay.sources.SILENT),this.quill.focus()}}const A={bindings:{bold:X("bold"),italic:X("italic"),underline:X("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(J,m){return!(!m.collapsed||m.offset===0)||(this.quill.format("indent","+1",c.Ay.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(J,m){return!(!m.collapsed||m.offset===0)||(this.quill.format("indent","-1",c.Ay.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(J,m){m.format.indent!=null?this.quill.format("indent","-1",c.Ay.sources.USER):m.format.list!=null&&this.quill.format("list",!1,c.Ay.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(J){this.quill.deleteText(J.index-1,1,c.Ay.sources.USER)}},tab:{key:"Tab",handler(J,m){if(m.format.table)return!0;this.quill.history.cutoff();const j=new(N())().retain(J.index).delete(J.length).insert("	");return this.quill.updateContents(j,c.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,c.Ay.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,c.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(J,m){const j={list:!1};m.format.indent&&(j.indent=!1),this.quill.formatLine(J.index,J.length,j,c.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(J){const[m,j]=this.quill.getLine(J.index),Y={...m.formats(),list:"checked"},B=new(N())().retain(J.index).insert(`
`,Y).retain(m.length()-j-1).retain(1,{list:"unchecked"});this.quill.updateContents(B,c.Ay.sources.USER),this.quill.setSelection(J.index+1,c.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(J,m){const[j,Y]=this.quill.getLine(J.index),B=new(N())().retain(J.index).insert(`
`,m.format).retain(j.length()-Y-1).retain(1,{header:null});this.quill.updateContents(B,c.Ay.sources.USER),this.quill.setSelection(J.index+1,c.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(J){const m=this.quill.getModule("table");if(m){const[j,Y,B,G]=m.getTable(J),U=function(Q,ut,$,H){return ut.prev==null&&ut.next==null?$.prev==null&&$.next==null?H===0?-1:1:$.prev==null?-1:1:ut.prev==null?-1:ut.next==null?1:null}(0,Y,B,G);if(U==null)return;let W=j.offset();if(U<0){const Q=new(N())().retain(W).insert(`
`);this.quill.updateContents(Q,c.Ay.sources.USER),this.quill.setSelection(J.index+1,J.length,c.Ay.sources.SILENT)}else if(U>0){W+=j.length();const Q=new(N())().retain(W).insert(`
`);this.quill.updateContents(Q,c.Ay.sources.USER),this.quill.setSelection(W,c.Ay.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(J,m){const{event:j,line:Y}=m,B=Y.offset(this.quill.scroll);j.shiftKey?this.quill.setSelection(B-1,c.Ay.sources.USER):this.quill.setSelection(B+Y.length(),c.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(J,m){if(this.quill.scroll.query("list")==null)return!0;const{length:j}=m.prefix,[Y,B]=this.quill.getLine(J.index);if(B>j)return!0;let G;switch(m.prefix.trim()){case"[]":case"[ ]":G="unchecked";break;case"[x]":G="checked";break;case"-":case"*":G="bullet";break;default:G="ordered"}this.quill.insertText(J.index," ",c.Ay.sources.USER),this.quill.history.cutoff();const U=new(N())().retain(J.index-B).delete(j+1).retain(Y.length()-2-B).retain(1,{list:G});return this.quill.updateContents(U,c.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-j,c.Ay.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(J){const[m,j]=this.quill.getLine(J.index);let Y=2,B=m;for(;B!=null&&B.length()<=1&&B.formats()["code-block"];)if(B=B.prev,Y-=1,Y<=0){const G=new(N())().retain(J.index+m.length()-j-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(G,c.Ay.sources.USER),this.quill.setSelection(J.index-1,c.Ay.sources.SILENT),!1}return!0}},"embed left":D("ArrowLeft",!1),"embed left shift":D("ArrowLeft",!0),"embed right":D("ArrowRight",!1),"embed right shift":D("ArrowRight",!0),"table down":lt(!1),"table up":lt(!0)}};function R(J){return{key:"Tab",shiftKey:!J,format:{"code-block":!0},handler(m,j){let{event:Y}=j;const B=this.quill.scroll.query("code-block"),{TAB:G}=B;if(m.length===0&&!Y.shiftKey)return this.quill.insertText(m.index,G,c.Ay.sources.USER),void this.quill.setSelection(m.index+G.length,c.Ay.sources.SILENT);const U=m.length===0?this.quill.getLines(m.index,1):this.quill.getLines(m);let{index:W,length:Q}=m;U.forEach((ut,$)=>{J?(ut.insertAt(0,G),$===0?W+=G.length:Q+=G.length):ut.domNode.textContent.startsWith(G)&&(ut.deleteAt(0,G.length),$===0?W-=G.length:Q-=G.length)}),this.quill.update(c.Ay.sources.USER),this.quill.setSelection(W,Q,c.Ay.sources.SILENT)}}}function D(J,m){return{key:J,shiftKey:m,altKey:null,[J==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(j){let{index:Y}=j;J==="ArrowRight"&&(Y+=j.length+1);const[B]=this.quill.getLeaf(Y);return!(B instanceof I.EmbedBlot&&(J==="ArrowLeft"?m?this.quill.setSelection(j.index-1,j.length+1,c.Ay.sources.USER):this.quill.setSelection(j.index-1,c.Ay.sources.USER):m?this.quill.setSelection(j.index,j.length+1,c.Ay.sources.USER):this.quill.setSelection(j.index+j.length+1,c.Ay.sources.USER),1))}}}function X(J){return{key:J[0],shortKey:!0,handler(m,j){this.quill.format(J,!j.format[J],c.Ay.sources.USER)}}}function lt(J){return{key:J?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(m,j){const Y=J?"prev":"next",B=j.line,G=B.parent[Y];if(G!=null){if(G.statics.blotName==="table-row"){let U=G.children.head,W=B;for(;W.prev!=null;)W=W.prev,U=U.next;const Q=U.offset(this.quill.scroll)+Math.min(j.offset,U.length()-1);this.quill.setSelection(Q,0,c.Ay.sources.USER)}}else{const U=B.table()[Y];U!=null&&(J?this.quill.setSelection(U.offset(this.quill.scroll)+U.length()-1,0,c.Ay.sources.USER):this.quill.setSelection(U.offset(this.quill.scroll),0,c.Ay.sources.USER))}return!1}}}function ft(J){let{quill:m,range:j}=J;const Y=m.getLines(j);let B={};if(Y.length>1){const G=Y[0].formats(),U=Y[Y.length-1].formats();B=M.AttributeMap.diff(U,G)||{}}m.deleteText(j,c.Ay.sources.USER),Object.keys(B).length>0&&m.formatLine(j.index,1,B,c.Ay.sources.USER),m.setSelection(j.index,c.Ay.sources.SILENT)}g.DEFAULTS=A},8920:function(ot){"use strict";var x=Object.prototype.hasOwnProperty,t="~";function a(){}function w(c,S,l){this.fn=c,this.context=S,this.once=l||!1}function M(c,S,l,L,O){if(typeof l!="function")throw new TypeError("The listener must be a function");var g=new w(l,L||c,O),A=t?t+S:S;return c._events[A]?c._events[A].fn?c._events[A]=[c._events[A],g]:c._events[A].push(g):(c._events[A]=g,c._eventsCount++),c}function N(c,S){--c._eventsCount==0?c._events=new a:delete c._events[S]}function I(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1)),I.prototype.eventNames=function(){var c,S,l=[];if(this._eventsCount===0)return l;for(S in c=this._events)x.call(c,S)&&l.push(t?S.slice(1):S);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},I.prototype.listeners=function(c){var S=t?t+c:c,l=this._events[S];if(!l)return[];if(l.fn)return[l.fn];for(var L=0,O=l.length,g=new Array(O);L<O;L++)g[L]=l[L].fn;return g},I.prototype.listenerCount=function(c){var S=t?t+c:c,l=this._events[S];return l?l.fn?1:l.length:0},I.prototype.emit=function(c,S,l,L,O,g){var A=t?t+c:c;if(!this._events[A])return!1;var R,D,X=this._events[A],lt=arguments.length;if(X.fn){switch(X.once&&this.removeListener(c,X.fn,void 0,!0),lt){case 1:return X.fn.call(X.context),!0;case 2:return X.fn.call(X.context,S),!0;case 3:return X.fn.call(X.context,S,l),!0;case 4:return X.fn.call(X.context,S,l,L),!0;case 5:return X.fn.call(X.context,S,l,L,O),!0;case 6:return X.fn.call(X.context,S,l,L,O,g),!0}for(D=1,R=new Array(lt-1);D<lt;D++)R[D-1]=arguments[D];X.fn.apply(X.context,R)}else{var ft,J=X.length;for(D=0;D<J;D++)switch(X[D].once&&this.removeListener(c,X[D].fn,void 0,!0),lt){case 1:X[D].fn.call(X[D].context);break;case 2:X[D].fn.call(X[D].context,S);break;case 3:X[D].fn.call(X[D].context,S,l);break;case 4:X[D].fn.call(X[D].context,S,l,L);break;default:if(!R)for(ft=1,R=new Array(lt-1);ft<lt;ft++)R[ft-1]=arguments[ft];X[D].fn.apply(X[D].context,R)}}return!0},I.prototype.on=function(c,S,l){return M(this,c,S,l,!1)},I.prototype.once=function(c,S,l){return M(this,c,S,l,!0)},I.prototype.removeListener=function(c,S,l,L){var O=t?t+c:c;if(!this._events[O])return this;if(!S)return N(this,O),this;var g=this._events[O];if(g.fn)g.fn!==S||L&&!g.once||l&&g.context!==l||N(this,O);else{for(var A=0,R=[],D=g.length;A<D;A++)(g[A].fn!==S||L&&!g[A].once||l&&g[A].context!==l)&&R.push(g[A]);R.length?this._events[O]=R.length===1?R[0]:R:N(this,O)}return this},I.prototype.removeAllListeners=function(c){var S;return c?(S=t?t+c:c,this._events[S]&&N(this,S)):(this._events=new a,this._eventsCount=0),this},I.prototype.off=I.prototype.removeListener,I.prototype.addListener=I.prototype.on,I.prefixed=t,I.EventEmitter=I,ot.exports=I},5090:function(ot){var x=-1,t=1,a=0;function w(m,j,Y,B,G){if(m===j)return m?[[a,m]]:[];if(Y!=null){var U=function(H,ht,v){var e=typeof v=="number"?{index:v,length:0}:v.oldRange,r=typeof v=="number"?null:v.newRange,n=H.length,_=ht.length;if(e.length===0&&(r===null||r.length===0)){var h=e.index,u=H.slice(0,h),k=H.slice(h),T=r?r.index:null,b=h+_-n;if((T===null||T===b)&&!(b<0||b>_)){var s=ht.slice(0,b);if((E=ht.slice(b))===k){var o=Math.min(h,b);if((V=u.slice(0,o))===(et=s.slice(0,o)))return ft(V,u.slice(o),s.slice(o),k)}}if(T===null||T===h){var p=h,E=(s=ht.slice(0,p),ht.slice(p));if(s===u){var C=Math.min(n-p,_-p);if((tt=k.slice(k.length-C))===(it=E.slice(E.length-C)))return ft(u,k.slice(0,k.length-C),E.slice(0,E.length-C),tt)}}}if(e.length>0&&r&&r.length===0){var V=H.slice(0,e.index),tt=H.slice(e.index+e.length);if(!(_<(o=V.length)+(C=tt.length))){var et=ht.slice(0,o),it=ht.slice(_-C);if(V===et&&tt===it)return ft(V,H.slice(o,n-C),ht.slice(o,_-C),tt)}}return null}(m,j,Y);if(U)return U}var W=N(m,j),Q=m.substring(0,W);W=c(m=m.substring(W),j=j.substring(W));var ut=m.substring(m.length-W),$=function(H,ht){var v;if(!H)return[[t,ht]];if(!ht)return[[x,H]];var e=H.length>ht.length?H:ht,r=H.length>ht.length?ht:H,n=e.indexOf(r);if(n!==-1)return v=[[t,e.substring(0,n)],[a,r],[t,e.substring(n+r.length)]],H.length>ht.length&&(v[0][0]=v[2][0]=x),v;if(r.length===1)return[[x,H],[t,ht]];var _=function(p,E){var C=p.length>E.length?p:E,V=p.length>E.length?E:p;if(C.length<4||2*V.length<C.length)return null;function tt(kt,Rt,Wt){for(var Ut,xt,Tt,Lt,Pt=kt.substring(Wt,Wt+Math.floor(kt.length/4)),Dt=-1,Zt="";(Dt=Rt.indexOf(Pt,Dt+1))!==-1;){var Jt=N(kt.substring(Wt),Rt.substring(Dt)),re=c(kt.substring(0,Wt),Rt.substring(0,Dt));Zt.length<re+Jt&&(Zt=Rt.substring(Dt-re,Dt)+Rt.substring(Dt,Dt+Jt),Ut=kt.substring(0,Wt-re),xt=kt.substring(Wt+Jt),Tt=Rt.substring(0,Dt-re),Lt=Rt.substring(Dt+Jt))}return 2*Zt.length>=kt.length?[Ut,xt,Tt,Lt,Zt]:null}var et,it,dt,bt,mt,wt=tt(C,V,Math.ceil(C.length/4)),At=tt(C,V,Math.ceil(C.length/2));return wt||At?(et=At?wt&&wt[4].length>At[4].length?wt:At:wt,p.length>E.length?(it=et[0],dt=et[1],bt=et[2],mt=et[3]):(bt=et[0],mt=et[1],it=et[2],dt=et[3]),[it,dt,bt,mt,et[4]]):null}(H,ht);if(_){var h=_[0],u=_[1],k=_[2],T=_[3],b=_[4],s=w(h,k),o=w(u,T);return s.concat([[a,b]],o)}return function(p,E){for(var C=p.length,V=E.length,tt=Math.ceil((C+V)/2),et=tt,it=2*tt,dt=new Array(it),bt=new Array(it),mt=0;mt<it;mt++)dt[mt]=-1,bt[mt]=-1;dt[et+1]=0,bt[et+1]=0;for(var wt=C-V,At=wt%2!=0,kt=0,Rt=0,Wt=0,Ut=0,xt=0;xt<tt;xt++){for(var Tt=-xt+kt;Tt<=xt-Rt;Tt+=2){for(var Lt=et+Tt,Pt=($t=Tt===-xt||Tt!==xt&&dt[Lt-1]<dt[Lt+1]?dt[Lt+1]:dt[Lt-1]+1)-Tt;$t<C&&Pt<V&&p.charAt($t)===E.charAt(Pt);)$t++,Pt++;if(dt[Lt]=$t,$t>C)Rt+=2;else if(Pt>V)kt+=2;else if(At&&(Jt=et+wt-Tt)>=0&&Jt<it&&bt[Jt]!==-1&&$t>=(Zt=C-bt[Jt]))return M(p,E,$t,Pt)}for(var Dt=-xt+Wt;Dt<=xt-Ut;Dt+=2){for(var Zt,Jt=et+Dt,re=(Zt=Dt===-xt||Dt!==xt&&bt[Jt-1]<bt[Jt+1]?bt[Jt+1]:bt[Jt-1]+1)-Dt;Zt<C&&re<V&&p.charAt(C-Zt-1)===E.charAt(V-re-1);)Zt++,re++;if(bt[Jt]=Zt,Zt>C)Ut+=2;else if(re>V)Wt+=2;else if(!At){var $t;if((Lt=et+wt-Dt)>=0&&Lt<it&&dt[Lt]!==-1&&(Pt=et+($t=dt[Lt])-Lt,$t>=(Zt=C-Zt)))return M(p,E,$t,Pt)}}}return[[x,p],[t,E]]}(H,ht)}(m=m.substring(0,m.length-W),j=j.substring(0,j.length-W));return Q&&$.unshift([a,Q]),ut&&$.push([a,ut]),A($,G),B&&function(H){for(var ht=!1,v=[],e=0,r=null,n=0,_=0,h=0,u=0,k=0;n<H.length;)H[n][0]==a?(v[e++]=n,_=u,h=k,u=0,k=0,r=H[n][1]):(H[n][0]==t?u+=H[n][1].length:k+=H[n][1].length,r&&r.length<=Math.max(_,h)&&r.length<=Math.max(u,k)&&(H.splice(v[e-1],0,[x,r]),H[v[e-1]+1][0]=t,e--,n=--e>0?v[e-1]:-1,_=0,h=0,u=0,k=0,r=null,ht=!0)),n++;for(ht&&A(H),function(p){function E(Rt,Wt){if(!Rt||!Wt)return 6;var Ut=Rt.charAt(Rt.length-1),xt=Wt.charAt(0),Tt=Ut.match(S),Lt=xt.match(S),Pt=Tt&&Ut.match(l),Dt=Lt&&xt.match(l),Zt=Pt&&Ut.match(L),Jt=Dt&&xt.match(L),re=Zt&&Rt.match(O),$t=Jt&&Wt.match(g);return re||$t?5:Zt||Jt?4:Tt&&!Pt&&Dt?3:Pt||Dt?2:Tt||Lt?1:0}for(var C=1;C<p.length-1;){if(p[C-1][0]==a&&p[C+1][0]==a){var V=p[C-1][1],tt=p[C][1],et=p[C+1][1],it=c(V,tt);if(it){var dt=tt.substring(tt.length-it);V=V.substring(0,V.length-it),tt=dt+tt.substring(0,tt.length-it),et=dt+et}for(var bt=V,mt=tt,wt=et,At=E(V,tt)+E(tt,et);tt.charAt(0)===et.charAt(0);){V+=tt.charAt(0),tt=tt.substring(1)+et.charAt(0),et=et.substring(1);var kt=E(V,tt)+E(tt,et);kt>=At&&(At=kt,bt=V,mt=tt,wt=et)}p[C-1][1]!=bt&&(bt?p[C-1][1]=bt:(p.splice(C-1,1),C--),p[C][1]=mt,wt?p[C+1][1]=wt:(p.splice(C+1,1),C--))}C++}}(H),n=1;n<H.length;){if(H[n-1][0]==x&&H[n][0]==t){var T=H[n-1][1],b=H[n][1],s=I(T,b),o=I(b,T);s>=o?(s>=T.length/2||s>=b.length/2)&&(H.splice(n,0,[a,b.substring(0,s)]),H[n-1][1]=T.substring(0,T.length-s),H[n+1][1]=b.substring(s),n++):(o>=T.length/2||o>=b.length/2)&&(H.splice(n,0,[a,T.substring(0,o)]),H[n-1][0]=t,H[n-1][1]=b.substring(0,b.length-o),H[n+1][0]=x,H[n+1][1]=T.substring(o),n++),n++}n++}}($),$}function M(m,j,Y,B){var G=m.substring(0,Y),U=j.substring(0,B),W=m.substring(Y),Q=j.substring(B),ut=w(G,U),$=w(W,Q);return ut.concat($)}function N(m,j){if(!m||!j||m.charAt(0)!==j.charAt(0))return 0;for(var Y=0,B=Math.min(m.length,j.length),G=B,U=0;Y<G;)m.substring(U,G)==j.substring(U,G)?U=Y=G:B=G,G=Math.floor((B-Y)/2+Y);return R(m.charCodeAt(G-1))&&G--,G}function I(m,j){var Y=m.length,B=j.length;if(Y==0||B==0)return 0;Y>B?m=m.substring(Y-B):Y<B&&(j=j.substring(0,Y));var G=Math.min(Y,B);if(m==j)return G;for(var U=0,W=1;;){var Q=m.substring(G-W),ut=j.indexOf(Q);if(ut==-1)return U;W+=ut,ut!=0&&m.substring(G-W)!=j.substring(0,W)||(U=W,W++)}}function c(m,j){if(!m||!j||m.slice(-1)!==j.slice(-1))return 0;for(var Y=0,B=Math.min(m.length,j.length),G=B,U=0;Y<G;)m.substring(m.length-G,m.length-U)==j.substring(j.length-G,j.length-U)?U=Y=G:B=G,G=Math.floor((B-Y)/2+Y);return D(m.charCodeAt(m.length-G))&&G--,G}var S=/[^a-zA-Z0-9]/,l=/\s/,L=/[\r\n]/,O=/\n\r?\n$/,g=/^\r?\n\r?\n/;function A(m,j){m.push([a,""]);for(var Y,B=0,G=0,U=0,W="",Q="";B<m.length;)if(B<m.length-1&&!m[B][1])m.splice(B,1);else switch(m[B][0]){case t:U++,Q+=m[B][1],B++;break;case x:G++,W+=m[B][1],B++;break;case a:var ut=B-U-G-1;if(j){if(ut>=0&&lt(m[ut][1])){var $=m[ut][1].slice(-1);if(m[ut][1]=m[ut][1].slice(0,-1),W=$+W,Q=$+Q,!m[ut][1]){m.splice(ut,1),B--;var H=ut-1;m[H]&&m[H][0]===t&&(U++,Q=m[H][1]+Q,H--),m[H]&&m[H][0]===x&&(G++,W=m[H][1]+W,H--),ut=H}}X(m[B][1])&&($=m[B][1].charAt(0),m[B][1]=m[B][1].slice(1),W+=$,Q+=$)}if(B<m.length-1&&!m[B][1]){m.splice(B,1);break}if(W.length>0||Q.length>0){W.length>0&&Q.length>0&&((Y=N(Q,W))!==0&&(ut>=0?m[ut][1]+=Q.substring(0,Y):(m.splice(0,0,[a,Q.substring(0,Y)]),B++),Q=Q.substring(Y),W=W.substring(Y)),(Y=c(Q,W))!==0&&(m[B][1]=Q.substring(Q.length-Y)+m[B][1],Q=Q.substring(0,Q.length-Y),W=W.substring(0,W.length-Y)));var ht=U+G;W.length===0&&Q.length===0?(m.splice(B-ht,ht),B-=ht):W.length===0?(m.splice(B-ht,ht,[t,Q]),B=B-ht+1):Q.length===0?(m.splice(B-ht,ht,[x,W]),B=B-ht+1):(m.splice(B-ht,ht,[x,W],[t,Q]),B=B-ht+2)}B!==0&&m[B-1][0]===a?(m[B-1][1]+=m[B][1],m.splice(B,1)):B++,U=0,G=0,W="",Q=""}m[m.length-1][1]===""&&m.pop();var v=!1;for(B=1;B<m.length-1;)m[B-1][0]===a&&m[B+1][0]===a&&(m[B][1].substring(m[B][1].length-m[B-1][1].length)===m[B-1][1]?(m[B][1]=m[B-1][1]+m[B][1].substring(0,m[B][1].length-m[B-1][1].length),m[B+1][1]=m[B-1][1]+m[B+1][1],m.splice(B-1,1),v=!0):m[B][1].substring(0,m[B+1][1].length)==m[B+1][1]&&(m[B-1][1]+=m[B+1][1],m[B][1]=m[B][1].substring(m[B+1][1].length)+m[B+1][1],m.splice(B+1,1),v=!0)),B++;v&&A(m,j)}function R(m){return m>=55296&&m<=56319}function D(m){return m>=56320&&m<=57343}function X(m){return D(m.charCodeAt(0))}function lt(m){return R(m.charCodeAt(m.length-1))}function ft(m,j,Y,B){return lt(m)||X(B)?null:function(G){for(var U=[],W=0;W<G.length;W++)G[W][1].length>0&&U.push(G[W]);return U}([[a,m],[x,j],[t,Y],[a,B]])}function J(m,j,Y,B){return w(m,j,Y,B,!0)}J.INSERT=t,J.DELETE=x,J.EQUAL=a,ot.exports=J},9629:function(ot,x,t){ot=t.nmd(ot);var a="__lodash_hash_undefined__",w=9007199254740991,M="[object Arguments]",N="[object Boolean]",I="[object Date]",c="[object Function]",S="[object GeneratorFunction]",l="[object Map]",L="[object Number]",O="[object Object]",g="[object Promise]",A="[object RegExp]",R="[object Set]",D="[object String]",X="[object Symbol]",lt="[object WeakMap]",ft="[object ArrayBuffer]",J="[object DataView]",m="[object Float32Array]",j="[object Float64Array]",Y="[object Int8Array]",B="[object Int16Array]",G="[object Int32Array]",U="[object Uint8Array]",W="[object Uint8ClampedArray]",Q="[object Uint16Array]",ut="[object Uint32Array]",$=/\w*$/,H=/^\[object .+?Constructor\]$/,ht=/^(?:0|[1-9]\d*)$/,v={};v[M]=v["[object Array]"]=v[ft]=v[J]=v[N]=v[I]=v[m]=v[j]=v[Y]=v[B]=v[G]=v[l]=v[L]=v[O]=v[A]=v[R]=v[D]=v[X]=v[U]=v[W]=v[Q]=v[ut]=!0,v["[object Error]"]=v[c]=v[lt]=!1;var e=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,r=typeof self=="object"&&self&&self.Object===Object&&self,n=e||r||Function("return this")(),_=x&&!x.nodeType&&x,h=_&&ot&&!ot.nodeType&&ot,u=h&&h.exports===_;function k(Z,y){return Z.set(y[0],y[1]),Z}function T(Z,y){return Z.add(y),Z}function b(Z,y,z,rt){var Et=-1,Ft=Z?Z.length:0;for(rt&&Ft&&(z=Z[++Et]);++Et<Ft;)z=y(z,Z[Et],Et,Z);return z}function s(Z){var y=!1;if(Z!=null&&typeof Z.toString!="function")try{y=!!(Z+"")}catch{}return y}function o(Z){var y=-1,z=Array(Z.size);return Z.forEach(function(rt,Et){z[++y]=[Et,rt]}),z}function p(Z,y){return function(z){return Z(y(z))}}function E(Z){var y=-1,z=Array(Z.size);return Z.forEach(function(rt){z[++y]=rt}),z}var C,V=Array.prototype,tt=Function.prototype,et=Object.prototype,it=n["__core-js_shared__"],dt=(C=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",bt=tt.toString,mt=et.hasOwnProperty,wt=et.toString,At=RegExp("^"+bt.call(mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=u?n.Buffer:void 0,Rt=n.Symbol,Wt=n.Uint8Array,Ut=p(Object.getPrototypeOf,Object),xt=Object.create,Tt=et.propertyIsEnumerable,Lt=V.splice,Pt=Object.getOwnPropertySymbols,Dt=kt?kt.isBuffer:void 0,Zt=p(Object.keys,Object),Jt=f(n,"DataView"),re=f(n,"Map"),$t=f(n,"Promise"),ye=f(n,"Set"),pt=f(n,"WeakMap"),d=f(Object,"create"),q=Ht(Jt),P=Ht(re),nt=Ht($t),at=Ht(ye),st=Ht(pt),gt=Rt?Rt.prototype:void 0,yt=gt?gt.valueOf:void 0;function qt(Z){var y=-1,z=Z?Z.length:0;for(this.clear();++y<z;){var rt=Z[y];this.set(rt[0],rt[1])}}function St(Z){var y=-1,z=Z?Z.length:0;for(this.clear();++y<z;){var rt=Z[y];this.set(rt[0],rt[1])}}function Ot(Z){var y=-1,z=Z?Z.length:0;for(this.clear();++y<z;){var rt=Z[y];this.set(rt[0],rt[1])}}function _t(Z){this.__data__=new St(Z)}function Nt(Z,y,z){var rt=Z[y];mt.call(Z,y)&&oe(rt,z)&&(z!==void 0||y in Z)||(Z[y]=z)}function Ct(Z,y){for(var z=Z.length;z--;)if(oe(Z[z][0],y))return z;return-1}function ne(Z,y,z,rt,Et,Ft,Mt){var zt;if(rt&&(zt=Ft?rt(Z,Et,Ft,Mt):rt(Z)),zt!==void 0)return zt;if(!me(Z))return Z;var se=he(Z);if(se){if(zt=function(It){var Vt=It.length,Gt=It.constructor(Vt);return Vt&&typeof It[0]=="string"&&mt.call(It,"index")&&(Gt.index=It.index,Gt.input=It.input),Gt}(Z),!y)return function(It,Vt){var Gt=-1,ce=It.length;for(Vt||(Vt=Array(ce));++Gt<ce;)Vt[Gt]=It[Gt];return Vt}(Z,zt)}else{var te=ct(Z),ue=te==c||te==S;if(pe(Z))return function(It,Vt){if(Vt)return It.slice();var Gt=new It.constructor(It.length);return It.copy(Gt),Gt}(Z,y);if(te==O||te==M||ue&&!Ft){if(s(Z))return Ft?Z:{};if(zt=function(It){return typeof It.constructor!="function"||jt(It)?{}:me(Vt=Ut(It))?xt(Vt):{};var Vt}(ue?{}:Z),!y)return function(It,Vt){return K(It,F(It),Vt)}(Z,function(It,Vt){return It&&K(Vt,Ae(Vt),It)}(zt,Z))}else{if(!v[te])return Ft?Z:{};zt=function(It,Vt,Gt,ce){var xe,ge=It.constructor;switch(Vt){case ft:return Qt(It);case N:case I:return new ge(+It);case J:return function(Xt,de){var ve=de?Qt(Xt.buffer):Xt.buffer;return new Xt.constructor(ve,Xt.byteOffset,Xt.byteLength)}(It,ce);case m:case j:case Y:case B:case G:case U:case W:case Q:case ut:return function(Xt,de){var ve=de?Qt(Xt.buffer):Xt.buffer;return new Xt.constructor(ve,Xt.byteOffset,Xt.length)}(It,ce);case l:return function(Xt,de,ve){return b(de?ve(o(Xt),!0):o(Xt),k,new Xt.constructor)}(It,ce,Gt);case L:case D:return new ge(It);case A:return function(Xt){var de=new Xt.constructor(Xt.source,$.exec(Xt));return de.lastIndex=Xt.lastIndex,de}(It);case R:return function(Xt,de,ve){return b(de?ve(E(Xt),!0):E(Xt),T,new Xt.constructor)}(It,ce,Gt);case X:return xe=It,yt?Object(yt.call(xe)):{}}}(Z,te,ne,y)}}Mt||(Mt=new _t);var le=Mt.get(Z);if(le)return le;if(Mt.set(Z,zt),!se)var ae=z?function(It){return function(Vt,Gt,ce){var xe=Gt(Vt);return he(Vt)?xe:function(ge,Xt){for(var de=-1,ve=Xt.length,De=ge.length;++de<ve;)ge[De+de]=Xt[de];return ge}(xe,ce(Vt))}(It,Ae,F)}(Z):Ae(Z);return function(It,Vt){for(var Gt=-1,ce=It?It.length:0;++Gt<ce&&Vt(It[Gt],Gt)!==!1;);}(ae||Z,function(It,Vt){ae&&(It=Z[Vt=It]),Nt(zt,Vt,ne(It,y,z,rt,Vt,Z,Mt))}),zt}function Qt(Z){var y=new Z.constructor(Z.byteLength);return new Wt(y).set(new Wt(Z)),y}function K(Z,y,z,rt){z||(z={});for(var Et=-1,Ft=y.length;++Et<Ft;){var Mt=y[Et],zt=rt?rt(z[Mt],Z[Mt],Mt,z,Z):void 0;Nt(z,Mt,zt===void 0?Z[Mt]:zt)}return z}function i(Z,y){var z,rt,Et=Z.__data__;return((rt=typeof(z=y))=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?z!=="__proto__":z===null)?Et[typeof y=="string"?"string":"hash"]:Et.map}function f(Z,y){var z=function(rt,Et){return rt?.[Et]}(Z,y);return function(rt){return!(!me(rt)||(Et=rt,dt&&dt in Et))&&(Le(rt)||s(rt)?At:H).test(Ht(rt));var Et}(z)?z:void 0}qt.prototype.clear=function(){this.__data__=d?d(null):{}},qt.prototype.delete=function(Z){return this.has(Z)&&delete this.__data__[Z]},qt.prototype.get=function(Z){var y=this.__data__;if(d){var z=y[Z];return z===a?void 0:z}return mt.call(y,Z)?y[Z]:void 0},qt.prototype.has=function(Z){var y=this.__data__;return d?y[Z]!==void 0:mt.call(y,Z)},qt.prototype.set=function(Z,y){return this.__data__[Z]=d&&y===void 0?a:y,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(Z){var y=this.__data__,z=Ct(y,Z);return!(z<0||(z==y.length-1?y.pop():Lt.call(y,z,1),0))},St.prototype.get=function(Z){var y=this.__data__,z=Ct(y,Z);return z<0?void 0:y[z][1]},St.prototype.has=function(Z){return Ct(this.__data__,Z)>-1},St.prototype.set=function(Z,y){var z=this.__data__,rt=Ct(z,Z);return rt<0?z.push([Z,y]):z[rt][1]=y,this},Ot.prototype.clear=function(){this.__data__={hash:new qt,map:new(re||St),string:new qt}},Ot.prototype.delete=function(Z){return i(this,Z).delete(Z)},Ot.prototype.get=function(Z){return i(this,Z).get(Z)},Ot.prototype.has=function(Z){return i(this,Z).has(Z)},Ot.prototype.set=function(Z,y){return i(this,Z).set(Z,y),this},_t.prototype.clear=function(){this.__data__=new St},_t.prototype.delete=function(Z){return this.__data__.delete(Z)},_t.prototype.get=function(Z){return this.__data__.get(Z)},_t.prototype.has=function(Z){return this.__data__.has(Z)},_t.prototype.set=function(Z,y){var z=this.__data__;if(z instanceof St){var rt=z.__data__;if(!re||rt.length<199)return rt.push([Z,y]),this;z=this.__data__=new Ot(rt)}return z.set(Z,y),this};var F=Pt?p(Pt,Object):function(){return[]},ct=function(Z){return wt.call(Z)};function vt(Z,y){return!!(y=y??w)&&(typeof Z=="number"||ht.test(Z))&&Z>-1&&Z%1==0&&Z<y}function jt(Z){var y=Z&&Z.constructor;return Z===(typeof y=="function"&&y.prototype||et)}function Ht(Z){if(Z!=null){try{return bt.call(Z)}catch{}try{return Z+""}catch{}}return""}function oe(Z,y){return Z===y||Z!=Z&&y!=y}(Jt&&ct(new Jt(new ArrayBuffer(1)))!=J||re&&ct(new re)!=l||$t&&ct($t.resolve())!=g||ye&&ct(new ye)!=R||pt&&ct(new pt)!=lt)&&(ct=function(Z){var y=wt.call(Z),z=y==O?Z.constructor:void 0,rt=z?Ht(z):void 0;if(rt)switch(rt){case q:return J;case P:return l;case nt:return g;case at:return R;case st:return lt}return y});var he=Array.isArray;function fe(Z){return Z!=null&&function(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=w}(Z.length)&&!Le(Z)}var pe=Dt||function(){return!1};function Le(Z){var y=me(Z)?wt.call(Z):"";return y==c||y==S}function me(Z){var y=typeof Z;return!!Z&&(y=="object"||y=="function")}function Ae(Z){return fe(Z)?function(y,z){var rt=he(y)||function(zt){return function(se){return function(te){return!!te&&typeof te=="object"}(se)&&fe(se)}(zt)&&mt.call(zt,"callee")&&(!Tt.call(zt,"callee")||wt.call(zt)==M)}(y)?function(zt,se){for(var te=-1,ue=Array(zt);++te<zt;)ue[te]=se(te);return ue}(y.length,String):[],Et=rt.length,Ft=!!Et;for(var Mt in y)!z&&!mt.call(y,Mt)||Ft&&(Mt=="length"||vt(Mt,Et))||rt.push(Mt);return rt}(Z):function(y){if(!jt(y))return Zt(y);var z=[];for(var rt in Object(y))mt.call(y,rt)&&rt!="constructor"&&z.push(rt);return z}(Z)}ot.exports=function(Z){return ne(Z,!0,!0)}},4162:function(ot,x,t){ot=t.nmd(ot);var a="__lodash_hash_undefined__",w=1,M=2,N=9007199254740991,I="[object Arguments]",c="[object Array]",S="[object AsyncFunction]",l="[object Boolean]",L="[object Date]",O="[object Error]",g="[object Function]",A="[object GeneratorFunction]",R="[object Map]",D="[object Number]",X="[object Null]",lt="[object Object]",ft="[object Promise]",J="[object Proxy]",m="[object RegExp]",j="[object Set]",Y="[object String]",B="[object Undefined]",G="[object WeakMap]",U="[object ArrayBuffer]",W="[object DataView]",Q=/^\[object .+?Constructor\]$/,ut=/^(?:0|[1-9]\d*)$/,$={};$["[object Float32Array]"]=$["[object Float64Array]"]=$["[object Int8Array]"]=$["[object Int16Array]"]=$["[object Int32Array]"]=$["[object Uint8Array]"]=$["[object Uint8ClampedArray]"]=$["[object Uint16Array]"]=$["[object Uint32Array]"]=!0,$[I]=$[c]=$[U]=$[l]=$[W]=$[L]=$[O]=$[g]=$[R]=$[D]=$[lt]=$[m]=$[j]=$[Y]=$[G]=!1;var H=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,ht=typeof self=="object"&&self&&self.Object===Object&&self,v=H||ht||Function("return this")(),e=x&&!x.nodeType&&x,r=e&&ot&&!ot.nodeType&&ot,n=r&&r.exports===e,_=n&&H.process,h=function(){try{return _&&_.binding&&_.binding("util")}catch{}}(),u=h&&h.isTypedArray;function k(y,z){for(var rt=-1,Et=y==null?0:y.length;++rt<Et;)if(z(y[rt],rt,y))return!0;return!1}function T(y){var z=-1,rt=Array(y.size);return y.forEach(function(Et,Ft){rt[++z]=[Ft,Et]}),rt}function b(y){var z=-1,rt=Array(y.size);return y.forEach(function(Et){rt[++z]=Et}),rt}var s,o,p,E=Array.prototype,C=Function.prototype,V=Object.prototype,tt=v["__core-js_shared__"],et=C.toString,it=V.hasOwnProperty,dt=(s=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",bt=V.toString,mt=RegExp("^"+et.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=n?v.Buffer:void 0,At=v.Symbol,kt=v.Uint8Array,Rt=V.propertyIsEnumerable,Wt=E.splice,Ut=At?At.toStringTag:void 0,xt=Object.getOwnPropertySymbols,Tt=wt?wt.isBuffer:void 0,Lt=(o=Object.keys,p=Object,function(y){return o(p(y))}),Pt=i(v,"DataView"),Dt=i(v,"Map"),Zt=i(v,"Promise"),Jt=i(v,"Set"),re=i(v,"WeakMap"),$t=i(Object,"create"),ye=vt(Pt),pt=vt(Dt),d=vt(Zt),q=vt(Jt),P=vt(re),nt=At?At.prototype:void 0,at=nt?nt.valueOf:void 0;function st(y){var z=-1,rt=y==null?0:y.length;for(this.clear();++z<rt;){var Et=y[z];this.set(Et[0],Et[1])}}function gt(y){var z=-1,rt=y==null?0:y.length;for(this.clear();++z<rt;){var Et=y[z];this.set(Et[0],Et[1])}}function yt(y){var z=-1,rt=y==null?0:y.length;for(this.clear();++z<rt;){var Et=y[z];this.set(Et[0],Et[1])}}function qt(y){var z=-1,rt=y==null?0:y.length;for(this.__data__=new yt;++z<rt;)this.add(y[z])}function St(y){var z=this.__data__=new gt(y);this.size=z.size}function Ot(y,z){for(var rt=y.length;rt--;)if(jt(y[rt][0],z))return rt;return-1}function _t(y){return y==null?y===void 0?B:X:Ut&&Ut in Object(y)?function(z){var rt=it.call(z,Ut),Et=z[Ut];try{z[Ut]=void 0;var Ft=!0}catch{}var Mt=bt.call(z);return Ft&&(rt?z[Ut]=Et:delete z[Ut]),Mt}(y):function(z){return bt.call(z)}(y)}function Nt(y){return me(y)&&_t(y)==I}function Ct(y,z,rt,Et,Ft){return y===z||(y==null||z==null||!me(y)&&!me(z)?y!=y&&z!=z:function(Mt,zt,se,te,ue,le){var ae=oe(Mt),It=oe(zt),Vt=ae?c:F(Mt),Gt=It?c:F(zt),ce=(Vt=Vt==I?lt:Vt)==lt,xe=(Gt=Gt==I?lt:Gt)==lt,ge=Vt==Gt;if(ge&&he(Mt)){if(!he(zt))return!1;ae=!0,ce=!1}if(ge&&!ce)return le||(le=new St),ae||Ae(Mt)?ne(Mt,zt,se,te,ue,le):function(ie,ee,_e,qe,Ue,be,we){switch(_e){case W:if(ie.byteLength!=ee.byteLength||ie.byteOffset!=ee.byteOffset)return!1;ie=ie.buffer,ee=ee.buffer;case U:return!(ie.byteLength!=ee.byteLength||!be(new kt(ie),new kt(ee)));case l:case L:case D:return jt(+ie,+ee);case O:return ie.name==ee.name&&ie.message==ee.message;case m:case Y:return ie==ee+"";case R:var Se=T;case j:var Oe=qe&w;if(Se||(Se=b),ie.size!=ee.size&&!Oe)return!1;var Te=we.get(ie);if(Te)return Te==ee;qe|=M,we.set(ie,ee);var Ne=ne(Se(ie),Se(ee),qe,Ue,be,we);return we.delete(ie),Ne;case"[object Symbol]":if(at)return at.call(ie)==at.call(ee)}return!1}(Mt,zt,Vt,se,te,ue,le);if(!(se&w)){var Xt=ce&&it.call(Mt,"__wrapped__"),de=xe&&it.call(zt,"__wrapped__");if(Xt||de){var ve=Xt?Mt.value():Mt,De=de?zt.value():zt;return le||(le=new St),ue(ve,De,se,te,le)}}return!!ge&&(le||(le=new St),function(ie,ee,_e,qe,Ue,be){var we=_e&w,Se=Qt(ie),Oe=Se.length;if(Oe!=Qt(ee).length&&!we)return!1;for(var Te=Oe;Te--;){var Ne=Se[Te];if(!(we?Ne in ee:it.call(ee,Ne)))return!1}var Ve=be.get(ie);if(Ve&&be.get(ee))return Ve==ee;var je=!0;be.set(ie,ee),be.set(ee,ie);for(var ze=we;++Te<Oe;){var Re=ie[Ne=Se[Te]],Be=ee[Ne];if(qe)var Fe=we?qe(Be,Re,Ne,ee,ie,be):qe(Re,Be,Ne,ie,ee,be);if(!(Fe===void 0?Re===Be||Ue(Re,Be,_e,qe,be):Fe)){je=!1;break}ze||(ze=Ne=="constructor")}if(je&&!ze){var Me=ie.constructor,Ie=ee.constructor;Me==Ie||!("constructor"in ie)||!("constructor"in ee)||typeof Me=="function"&&Me instanceof Me&&typeof Ie=="function"&&Ie instanceof Ie||(je=!1)}return be.delete(ie),be.delete(ee),je}(Mt,zt,se,te,ue,le))}(y,z,rt,Et,Ct,Ft))}function ne(y,z,rt,Et,Ft,Mt){var zt=rt&w,se=y.length,te=z.length;if(se!=te&&!(zt&&te>se))return!1;var ue=Mt.get(y);if(ue&&Mt.get(z))return ue==z;var le=-1,ae=!0,It=rt&M?new qt:void 0;for(Mt.set(y,z),Mt.set(z,y);++le<se;){var Vt=y[le],Gt=z[le];if(Et)var ce=zt?Et(Gt,Vt,le,z,y,Mt):Et(Vt,Gt,le,y,z,Mt);if(ce!==void 0){if(ce)continue;ae=!1;break}if(It){if(!k(z,function(xe,ge){if(Xt=ge,!It.has(Xt)&&(Vt===xe||Ft(Vt,xe,rt,Et,Mt)))return It.push(ge);var Xt})){ae=!1;break}}else if(Vt!==Gt&&!Ft(Vt,Gt,rt,Et,Mt)){ae=!1;break}}return Mt.delete(y),Mt.delete(z),ae}function Qt(y){return function(z,rt,Et){var Ft=rt(z);return oe(z)?Ft:function(Mt,zt){for(var se=-1,te=zt.length,ue=Mt.length;++se<te;)Mt[ue+se]=zt[se];return Mt}(Ft,Et(z))}(y,Z,f)}function K(y,z){var rt,Et,Ft=y.__data__;return((Et=typeof(rt=z))=="string"||Et=="number"||Et=="symbol"||Et=="boolean"?rt!=="__proto__":rt===null)?Ft[typeof z=="string"?"string":"hash"]:Ft.map}function i(y,z){var rt=function(Et,Ft){return Et?.[Ft]}(y,z);return function(Et){return!(!Le(Et)||function(Ft){return!!dt&&dt in Ft}(Et))&&(fe(Et)?mt:Q).test(vt(Et))}(rt)?rt:void 0}st.prototype.clear=function(){this.__data__=$t?$t(null):{},this.size=0},st.prototype.delete=function(y){var z=this.has(y)&&delete this.__data__[y];return this.size-=z?1:0,z},st.prototype.get=function(y){var z=this.__data__;if($t){var rt=z[y];return rt===a?void 0:rt}return it.call(z,y)?z[y]:void 0},st.prototype.has=function(y){var z=this.__data__;return $t?z[y]!==void 0:it.call(z,y)},st.prototype.set=function(y,z){var rt=this.__data__;return this.size+=this.has(y)?0:1,rt[y]=$t&&z===void 0?a:z,this},gt.prototype.clear=function(){this.__data__=[],this.size=0},gt.prototype.delete=function(y){var z=this.__data__,rt=Ot(z,y);return!(rt<0||(rt==z.length-1?z.pop():Wt.call(z,rt,1),--this.size,0))},gt.prototype.get=function(y){var z=this.__data__,rt=Ot(z,y);return rt<0?void 0:z[rt][1]},gt.prototype.has=function(y){return Ot(this.__data__,y)>-1},gt.prototype.set=function(y,z){var rt=this.__data__,Et=Ot(rt,y);return Et<0?(++this.size,rt.push([y,z])):rt[Et][1]=z,this},yt.prototype.clear=function(){this.size=0,this.__data__={hash:new st,map:new(Dt||gt),string:new st}},yt.prototype.delete=function(y){var z=K(this,y).delete(y);return this.size-=z?1:0,z},yt.prototype.get=function(y){return K(this,y).get(y)},yt.prototype.has=function(y){return K(this,y).has(y)},yt.prototype.set=function(y,z){var rt=K(this,y),Et=rt.size;return rt.set(y,z),this.size+=rt.size==Et?0:1,this},qt.prototype.add=qt.prototype.push=function(y){return this.__data__.set(y,a),this},qt.prototype.has=function(y){return this.__data__.has(y)},St.prototype.clear=function(){this.__data__=new gt,this.size=0},St.prototype.delete=function(y){var z=this.__data__,rt=z.delete(y);return this.size=z.size,rt},St.prototype.get=function(y){return this.__data__.get(y)},St.prototype.has=function(y){return this.__data__.has(y)},St.prototype.set=function(y,z){var rt=this.__data__;if(rt instanceof gt){var Et=rt.__data__;if(!Dt||Et.length<199)return Et.push([y,z]),this.size=++rt.size,this;rt=this.__data__=new yt(Et)}return rt.set(y,z),this.size=rt.size,this};var f=xt?function(y){return y==null?[]:(y=Object(y),function(z,rt){for(var Et=-1,Ft=z==null?0:z.length,Mt=0,zt=[];++Et<Ft;){var se=z[Et];te=se,Rt.call(y,te)&&(zt[Mt++]=se)}var te;return zt}(xt(y)))}:function(){return[]},F=_t;function ct(y,z){return!!(z=z??N)&&(typeof y=="number"||ut.test(y))&&y>-1&&y%1==0&&y<z}function vt(y){if(y!=null){try{return et.call(y)}catch{}try{return y+""}catch{}}return""}function jt(y,z){return y===z||y!=y&&z!=z}(Pt&&F(new Pt(new ArrayBuffer(1)))!=W||Dt&&F(new Dt)!=R||Zt&&F(Zt.resolve())!=ft||Jt&&F(new Jt)!=j||re&&F(new re)!=G)&&(F=function(y){var z=_t(y),rt=z==lt?y.constructor:void 0,Et=rt?vt(rt):"";if(Et)switch(Et){case ye:return W;case pt:return R;case d:return ft;case q:return j;case P:return G}return z});var Ht=Nt(function(){return arguments}())?Nt:function(y){return me(y)&&it.call(y,"callee")&&!Rt.call(y,"callee")},oe=Array.isArray,he=Tt||function(){return!1};function fe(y){if(!Le(y))return!1;var z=_t(y);return z==g||z==A||z==S||z==J}function pe(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=N}function Le(y){var z=typeof y;return y!=null&&(z=="object"||z=="function")}function me(y){return y!=null&&typeof y=="object"}var Ae=u?function(y){return function(z){return y(z)}}(u):function(y){return me(y)&&pe(y.length)&&!!$[_t(y)]};function Z(y){return(z=y)!=null&&pe(z.length)&&!fe(z)?function(rt,Et){var Ft=oe(rt),Mt=!Ft&&Ht(rt),zt=!Ft&&!Mt&&he(rt),se=!Ft&&!Mt&&!zt&&Ae(rt),te=Ft||Mt||zt||se,ue=te?function(It,Vt){for(var Gt=-1,ce=Array(It);++Gt<It;)ce[Gt]=Vt(Gt);return ce}(rt.length,String):[],le=ue.length;for(var ae in rt)!Et&&!it.call(rt,ae)||te&&(ae=="length"||zt&&(ae=="offset"||ae=="parent")||se&&(ae=="buffer"||ae=="byteLength"||ae=="byteOffset")||ct(ae,le))||ue.push(ae);return ue}(y):function(rt){if(Ft=(Et=rt)&&Et.constructor,Et!==(typeof Ft=="function"&&Ft.prototype||V))return Lt(rt);var Et,Ft,Mt=[];for(var zt in Object(rt))it.call(rt,zt)&&zt!="constructor"&&Mt.push(zt);return Mt}(y);var z}ot.exports=function(y,z){return Ct(y,z)}},1270:function(ot,x,t){"use strict";Object.defineProperty(x,"__esModule",{value:!0});const a=t(9629),w=t(4162);var M;(function(N){N.compose=function(I={},c={},S=!1){typeof I!="object"&&(I={}),typeof c!="object"&&(c={});let l=a(c);S||(l=Object.keys(l).reduce((L,O)=>(l[O]!=null&&(L[O]=l[O]),L),{}));for(const L in I)I[L]!==void 0&&c[L]===void 0&&(l[L]=I[L]);return Object.keys(l).length>0?l:void 0},N.diff=function(I={},c={}){typeof I!="object"&&(I={}),typeof c!="object"&&(c={});const S=Object.keys(I).concat(Object.keys(c)).reduce((l,L)=>(w(I[L],c[L])||(l[L]=c[L]===void 0?null:c[L]),l),{});return Object.keys(S).length>0?S:void 0},N.invert=function(I={},c={}){I=I||{};const S=Object.keys(c).reduce((l,L)=>(c[L]!==I[L]&&I[L]!==void 0&&(l[L]=c[L]),l),{});return Object.keys(I).reduce((l,L)=>(I[L]!==c[L]&&c[L]===void 0&&(l[L]=null),l),S)},N.transform=function(I,c,S=!1){if(typeof I!="object")return c;if(typeof c!="object")return;if(!S)return c;const l=Object.keys(c).reduce((L,O)=>(I[O]===void 0&&(L[O]=c[O]),L),{});return Object.keys(l).length>0?l:void 0}})(M||(M={})),x.default=M},5232:function(ot,x,t){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.AttributeMap=x.OpIterator=x.Op=void 0;const a=t(5090),w=t(9629),M=t(4162),N=t(1270);x.AttributeMap=N.default;const I=t(4123);x.Op=I.default;const c=t(7033);x.OpIterator=c.default;const S="\0",l=(O,g)=>{if(typeof O!="object"||O===null)throw new Error("cannot retain a "+typeof O);if(typeof g!="object"||g===null)throw new Error("cannot retain a "+typeof g);const A=Object.keys(O)[0];if(!A||A!==Object.keys(g)[0])throw new Error(`embed types not matched: ${A} != ${Object.keys(g)[0]}`);return[A,O[A],g[A]]};class L{constructor(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]}static registerEmbed(g,A){this.handlers[g]=A}static unregisterEmbed(g){delete this.handlers[g]}static getHandler(g){const A=this.handlers[g];if(!A)throw new Error(`no handlers for embed type "${g}"`);return A}insert(g,A){const R={};return typeof g=="string"&&g.length===0?this:(R.insert=g,A!=null&&typeof A=="object"&&Object.keys(A).length>0&&(R.attributes=A),this.push(R))}delete(g){return g<=0?this:this.push({delete:g})}retain(g,A){if(typeof g=="number"&&g<=0)return this;const R={retain:g};return A!=null&&typeof A=="object"&&Object.keys(A).length>0&&(R.attributes=A),this.push(R)}push(g){let A=this.ops.length,R=this.ops[A-1];if(g=w(g),typeof R=="object"){if(typeof g.delete=="number"&&typeof R.delete=="number")return this.ops[A-1]={delete:R.delete+g.delete},this;if(typeof R.delete=="number"&&g.insert!=null&&(A-=1,R=this.ops[A-1],typeof R!="object"))return this.ops.unshift(g),this;if(M(g.attributes,R.attributes)){if(typeof g.insert=="string"&&typeof R.insert=="string")return this.ops[A-1]={insert:R.insert+g.insert},typeof g.attributes=="object"&&(this.ops[A-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof R.retain=="number")return this.ops[A-1]={retain:R.retain+g.retain},typeof g.attributes=="object"&&(this.ops[A-1].attributes=g.attributes),this}}return A===this.ops.length?this.ops.push(g):this.ops.splice(A,0,g),this}chop(){const g=this.ops[this.ops.length-1];return g&&typeof g.retain=="number"&&!g.attributes&&this.ops.pop(),this}filter(g){return this.ops.filter(g)}forEach(g){this.ops.forEach(g)}map(g){return this.ops.map(g)}partition(g){const A=[],R=[];return this.forEach(D=>{(g(D)?A:R).push(D)}),[A,R]}reduce(g,A){return this.ops.reduce(g,A)}changeLength(){return this.reduce((g,A)=>A.insert?g+I.default.length(A):A.delete?g-A.delete:g,0)}length(){return this.reduce((g,A)=>g+I.default.length(A),0)}slice(g=0,A=1/0){const R=[],D=new c.default(this.ops);let X=0;for(;X<A&&D.hasNext();){let lt;X<g?lt=D.next(g-X):(lt=D.next(A-X),R.push(lt)),X+=I.default.length(lt)}return new L(R)}compose(g){const A=new c.default(this.ops),R=new c.default(g.ops),D=[],X=R.peek();if(X!=null&&typeof X.retain=="number"&&X.attributes==null){let ft=X.retain;for(;A.peekType()==="insert"&&A.peekLength()<=ft;)ft-=A.peekLength(),D.push(A.next());X.retain-ft>0&&R.next(X.retain-ft)}const lt=new L(D);for(;A.hasNext()||R.hasNext();)if(R.peekType()==="insert")lt.push(R.next());else if(A.peekType()==="delete")lt.push(A.next());else{const ft=Math.min(A.peekLength(),R.peekLength()),J=A.next(ft),m=R.next(ft);if(m.retain){const j={};if(typeof J.retain=="number")j.retain=typeof m.retain=="number"?ft:m.retain;else if(typeof m.retain=="number")J.retain==null?j.insert=J.insert:j.retain=J.retain;else{const B=J.retain==null?"insert":"retain",[G,U,W]=l(J[B],m.retain),Q=L.getHandler(G);j[B]={[G]:Q.compose(U,W,B==="retain")}}const Y=N.default.compose(J.attributes,m.attributes,typeof J.retain=="number");if(Y&&(j.attributes=Y),lt.push(j),!R.hasNext()&&M(lt.ops[lt.ops.length-1],j)){const B=new L(A.rest());return lt.concat(B).chop()}}else typeof m.delete=="number"&&(typeof J.retain=="number"||typeof J.retain=="object"&&J.retain!==null)&&lt.push(m)}return lt.chop()}concat(g){const A=new L(this.ops.slice());return g.ops.length>0&&(A.push(g.ops[0]),A.ops=A.ops.concat(g.ops.slice(1))),A}diff(g,A){if(this.ops===g.ops)return new L;const R=[this,g].map(J=>J.map(m=>{if(m.insert!=null)return typeof m.insert=="string"?m.insert:S;throw new Error("diff() called "+(J===g?"on":"with")+" non-document")}).join("")),D=new L,X=a(R[0],R[1],A,!0),lt=new c.default(this.ops),ft=new c.default(g.ops);return X.forEach(J=>{let m=J[1].length;for(;m>0;){let j=0;switch(J[0]){case a.INSERT:j=Math.min(ft.peekLength(),m),D.push(ft.next(j));break;case a.DELETE:j=Math.min(m,lt.peekLength()),lt.next(j),D.delete(j);break;case a.EQUAL:j=Math.min(lt.peekLength(),ft.peekLength(),m);const Y=lt.next(j),B=ft.next(j);M(Y.insert,B.insert)?D.retain(j,N.default.diff(Y.attributes,B.attributes)):D.push(B).delete(j)}m-=j}}),D.chop()}eachLine(g,A=`
`){const R=new c.default(this.ops);let D=new L,X=0;for(;R.hasNext();){if(R.peekType()!=="insert")return;const lt=R.peek(),ft=I.default.length(lt)-R.peekLength(),J=typeof lt.insert=="string"?lt.insert.indexOf(A,ft)-ft:-1;if(J<0)D.push(R.next());else if(J>0)D.push(R.next(J));else{if(g(D,R.next(1).attributes||{},X)===!1)return;X+=1,D=new L}}D.length()>0&&g(D,{},X)}invert(g){const A=new L;return this.reduce((R,D)=>{if(D.insert)A.delete(I.default.length(D));else{if(typeof D.retain=="number"&&D.attributes==null)return A.retain(D.retain),R+D.retain;if(D.delete||typeof D.retain=="number"){const X=D.delete||D.retain;return g.slice(R,R+X).forEach(lt=>{D.delete?A.push(lt):D.retain&&D.attributes&&A.retain(I.default.length(lt),N.default.invert(D.attributes,lt.attributes))}),R+X}if(typeof D.retain=="object"&&D.retain!==null){const X=g.slice(R,R+1),lt=new c.default(X.ops).next(),[ft,J,m]=l(D.retain,lt.insert),j=L.getHandler(ft);return A.retain({[ft]:j.invert(J,m)},N.default.invert(D.attributes,lt.attributes)),R+1}}return R},0),A.chop()}transform(g,A=!1){if(A=!!A,typeof g=="number")return this.transformPosition(g,A);const R=g,D=new c.default(this.ops),X=new c.default(R.ops),lt=new L;for(;D.hasNext()||X.hasNext();)if(D.peekType()!=="insert"||!A&&X.peekType()==="insert")if(X.peekType()==="insert")lt.push(X.next());else{const ft=Math.min(D.peekLength(),X.peekLength()),J=D.next(ft),m=X.next(ft);if(J.delete)continue;if(m.delete)lt.push(m);else{const j=J.retain,Y=m.retain;let B=typeof Y=="object"&&Y!==null?Y:ft;if(typeof j=="object"&&j!==null&&typeof Y=="object"&&Y!==null){const G=Object.keys(j)[0];if(G===Object.keys(Y)[0]){const U=L.getHandler(G);U&&(B={[G]:U.transform(j[G],Y[G],A)})}}lt.retain(B,N.default.transform(J.attributes,m.attributes,A))}}else lt.retain(I.default.length(D.next()));return lt.chop()}transformPosition(g,A=!1){A=!!A;const R=new c.default(this.ops);let D=0;for(;R.hasNext()&&D<=g;){const X=R.peekLength(),lt=R.peekType();R.next(),lt!=="delete"?(lt==="insert"&&(D<g||!A)&&(g+=X),D+=X):g-=Math.min(X,g-D)}return g}}L.Op=I.default,L.OpIterator=c.default,L.AttributeMap=N.default,L.handlers={},x.default=L,ot.exports=L,ot.exports.default=L},4123:function(ot,x){"use strict";var t;Object.defineProperty(x,"__esModule",{value:!0}),function(a){a.length=function(w){return typeof w.delete=="number"?w.delete:typeof w.retain=="number"?w.retain:typeof w.retain=="object"&&w.retain!==null?1:typeof w.insert=="string"?w.insert.length:1}}(t||(t={})),x.default=t},7033:function(ot,x,t){"use strict";Object.defineProperty(x,"__esModule",{value:!0});const a=t(4123);x.default=class{constructor(w){this.ops=w,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(w){w||(w=1/0);const M=this.ops[this.index];if(M){const N=this.offset,I=a.default.length(M);if(w>=I-N?(w=I-N,this.index+=1,this.offset=0):this.offset+=w,typeof M.delete=="number")return{delete:w};{const c={};return M.attributes&&(c.attributes=M.attributes),typeof M.retain=="number"?c.retain=w:typeof M.retain=="object"&&M.retain!==null?c.retain=M.retain:typeof M.insert=="string"?c.insert=M.insert.substr(N,w):c.insert=M.insert,c}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?a.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const w=this.ops[this.index];return w?typeof w.delete=="number"?"delete":typeof w.retain=="number"||typeof w.retain=="object"&&w.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const w=this.offset,M=this.index,N=this.next(),I=this.ops.slice(this.index);return this.offset=w,this.index=M,[N].concat(I)}}return[]}}},8820:function(ot,x,t){"use strict";t.d(x,{A:function(){return I}});var a=t(8138),w=function(c,S){for(var l=c.length;l--;)if((0,a.A)(c[l][0],S))return l;return-1},M=Array.prototype.splice;function N(c){var S=-1,l=c==null?0:c.length;for(this.clear();++S<l;){var L=c[S];this.set(L[0],L[1])}}N.prototype.clear=function(){this.__data__=[],this.size=0},N.prototype.delete=function(c){var S=this.__data__,l=w(S,c);return!(l<0||(l==S.length-1?S.pop():M.call(S,l,1),--this.size,0))},N.prototype.get=function(c){var S=this.__data__,l=w(S,c);return l<0?void 0:S[l][1]},N.prototype.has=function(c){return w(this.__data__,c)>-1},N.prototype.set=function(c,S){var l=this.__data__,L=w(l,c);return L<0?(++this.size,l.push([c,S])):l[L][1]=S,this};var I=N},2461:function(ot,x,t){"use strict";var a=t(2281),w=t(5507),M=(0,a.A)(w.A,"Map");x.A=M},3558:function(ot,x,t){"use strict";t.d(x,{A:function(){return O}});var a=(0,t(2281).A)(Object,"create"),w=Object.prototype.hasOwnProperty,M=Object.prototype.hasOwnProperty;function N(g){var A=-1,R=g==null?0:g.length;for(this.clear();++A<R;){var D=g[A];this.set(D[0],D[1])}}N.prototype.clear=function(){this.__data__=a?a(null):{},this.size=0},N.prototype.delete=function(g){var A=this.has(g)&&delete this.__data__[g];return this.size-=A?1:0,A},N.prototype.get=function(g){var A=this.__data__;if(a){var R=A[g];return R==="__lodash_hash_undefined__"?void 0:R}return w.call(A,g)?A[g]:void 0},N.prototype.has=function(g){var A=this.__data__;return a?A[g]!==void 0:M.call(A,g)},N.prototype.set=function(g,A){var R=this.__data__;return this.size+=this.has(g)?0:1,R[g]=a&&A===void 0?"__lodash_hash_undefined__":A,this};var I=N,c=t(8820),S=t(2461),l=function(g,A){var R,D,X=g.__data__;return((D=typeof(R=A))=="string"||D=="number"||D=="symbol"||D=="boolean"?R!=="__proto__":R===null)?X[typeof A=="string"?"string":"hash"]:X.map};function L(g){var A=-1,R=g==null?0:g.length;for(this.clear();++A<R;){var D=g[A];this.set(D[0],D[1])}}L.prototype.clear=function(){this.size=0,this.__data__={hash:new I,map:new(S.A||c.A),string:new I}},L.prototype.delete=function(g){var A=l(this,g).delete(g);return this.size-=A?1:0,A},L.prototype.get=function(g){return l(this,g).get(g)},L.prototype.has=function(g){return l(this,g).has(g)},L.prototype.set=function(g,A){var R=l(this,g),D=R.size;return R.set(g,A),this.size+=R.size==D?0:1,this};var O=L},2673:function(ot,x,t){"use strict";t.d(x,{A:function(){return I}});var a=t(8820),w=t(2461),M=t(3558);function N(c){var S=this.__data__=new a.A(c);this.size=S.size}N.prototype.clear=function(){this.__data__=new a.A,this.size=0},N.prototype.delete=function(c){var S=this.__data__,l=S.delete(c);return this.size=S.size,l},N.prototype.get=function(c){return this.__data__.get(c)},N.prototype.has=function(c){return this.__data__.has(c)},N.prototype.set=function(c,S){var l=this.__data__;if(l instanceof a.A){var L=l.__data__;if(!w.A||L.length<199)return L.push([c,S]),this.size=++l.size,this;l=this.__data__=new M.A(L)}return l.set(c,S),this.size=l.size,this};var I=N},439:function(ot,x,t){"use strict";var a=t(5507).A.Symbol;x.A=a},7218:function(ot,x,t){"use strict";var a=t(5507).A.Uint8Array;x.A=a},6753:function(ot,x,t){"use strict";t.d(x,{A:function(){return S}});var a=t(8412),w=t(723),M=t(776),N=t(3767),I=t(5755),c=Object.prototype.hasOwnProperty,S=function(l,L){var O=(0,w.A)(l),g=!O&&(0,a.A)(l),A=!O&&!g&&(0,M.A)(l),R=!O&&!g&&!A&&(0,I.A)(l),D=O||g||A||R,X=D?function(J,m){for(var j=-1,Y=Array(J);++j<J;)Y[j]=m(j);return Y}(l.length,String):[],lt=X.length;for(var ft in l)!L&&!c.call(l,ft)||D&&(ft=="length"||A&&(ft=="offset"||ft=="parent")||R&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||(0,N.A)(ft,lt))||X.push(ft);return X}},802:function(ot,x){"use strict";x.A=function(t,a){for(var w=-1,M=a.length,N=t.length;++w<M;)t[N+w]=a[w];return t}},6437:function(ot,x,t){"use strict";var a=t(6770),w=t(8138),M=Object.prototype.hasOwnProperty;x.A=function(N,I,c){var S=N[I];M.call(N,I)&&(0,w.A)(S,c)&&(c!==void 0||I in N)||(0,a.A)(N,I,c)}},6770:function(ot,x,t){"use strict";var a=t(7889);x.A=function(w,M,N){M=="__proto__"&&a.A?(0,a.A)(w,M,{configurable:!0,enumerable:!0,value:N,writable:!0}):w[M]=N}},1381:function(ot,x,t){"use strict";var a=t(802),w=t(723);x.A=function(M,N,I){var c=N(M);return(0,w.A)(M)?c:(0,a.A)(c,I(M))}},2159:function(ot,x,t){"use strict";t.d(x,{A:function(){return l}});var a=t(439),w=Object.prototype,M=w.hasOwnProperty,N=w.toString,I=a.A?a.A.toStringTag:void 0,c=Object.prototype.toString,S=a.A?a.A.toStringTag:void 0,l=function(L){return L==null?L===void 0?"[object Undefined]":"[object Null]":S&&S in Object(L)?function(O){var g=M.call(O,I),A=O[I];try{O[I]=void 0;var R=!0}catch{}var D=N.call(O);return R&&(g?O[I]=A:delete O[I]),D}(L):function(O){return c.call(O)}(L)}},5771:function(ot,x){"use strict";x.A=function(t){return function(a){return t(a)}}},2899:function(ot,x,t){"use strict";var a=t(7218);x.A=function(w){var M=new w.constructor(w.byteLength);return new a.A(M).set(new a.A(w)),M}},3812:function(ot,x,t){"use strict";var a=t(5507),w=typeof exports=="object"&&exports&&!exports.nodeType&&exports,M=w&&typeof module=="object"&&module&&!module.nodeType&&module,N=M&&M.exports===w?a.A.Buffer:void 0,I=N?N.allocUnsafe:void 0;x.A=function(c,S){if(S)return c.slice();var l=c.length,L=I?I(l):new c.constructor(l);return c.copy(L),L}},1827:function(ot,x,t){"use strict";var a=t(2899);x.A=function(w,M){var N=M?(0,a.A)(w.buffer):w.buffer;return new w.constructor(N,w.byteOffset,w.length)}},4405:function(ot,x){"use strict";x.A=function(t,a){var w=-1,M=t.length;for(a||(a=Array(M));++w<M;)a[w]=t[w];return a}},9601:function(ot,x,t){"use strict";var a=t(6437),w=t(6770);x.A=function(M,N,I,c){var S=!I;I||(I={});for(var l=-1,L=N.length;++l<L;){var O=N[l],g=c?c(I[O],M[O],O,I,M):void 0;g===void 0&&(g=M[O]),S?(0,w.A)(I,O,g):(0,a.A)(I,O,g)}return I}},7889:function(ot,x,t){"use strict";var a=t(2281),w=function(){try{var M=(0,a.A)(Object,"defineProperty");return M({},"",{}),M}catch{}}();x.A=w},9646:function(ot,x){"use strict";var t=typeof global=="object"&&global&&global.Object===Object&&global;x.A=t},2816:function(ot,x,t){"use strict";var a=t(1381),w=t(9844),M=t(3169);x.A=function(N){return(0,a.A)(N,M.A,w.A)}},2281:function(ot,x,t){"use strict";t.d(x,{A:function(){return D}});var a,w=t(7572),M=t(5507).A["__core-js_shared__"],N=(a=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",I=t(659),c=t(1543),S=/^\[object .+?Constructor\]$/,l=Function.prototype,L=Object.prototype,O=l.toString,g=L.hasOwnProperty,A=RegExp("^"+O.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=function(X){return!(!(0,I.A)(X)||(lt=X,N&&N in lt))&&((0,w.A)(X)?A:S).test((0,c.A)(X));var lt},D=function(X,lt){var ft=function(J,m){return J?.[m]}(X,lt);return R(ft)?ft:void 0}},8769:function(ot,x,t){"use strict";var a=(0,t(2217).A)(Object.getPrototypeOf,Object);x.A=a},9844:function(ot,x,t){"use strict";t.d(x,{A:function(){return N}});var a=t(6935),w=Object.prototype.propertyIsEnumerable,M=Object.getOwnPropertySymbols,N=M?function(I){return I==null?[]:(I=Object(I),function(c,S){for(var l=-1,L=c==null?0:c.length,O=0,g=[];++l<L;){var A=c[l];S(A,l,c)&&(g[O++]=A)}return g}(M(I),function(c){return w.call(I,c)}))}:a.A},7995:function(ot,x,t){"use strict";t.d(x,{A:function(){return Y}});var a=t(2281),w=t(5507),M=(0,a.A)(w.A,"DataView"),N=t(2461),I=(0,a.A)(w.A,"Promise"),c=(0,a.A)(w.A,"Set"),S=(0,a.A)(w.A,"WeakMap"),l=t(2159),L=t(1543),O="[object Map]",g="[object Promise]",A="[object Set]",R="[object WeakMap]",D="[object DataView]",X=(0,L.A)(M),lt=(0,L.A)(N.A),ft=(0,L.A)(I),J=(0,L.A)(c),m=(0,L.A)(S),j=l.A;(M&&j(new M(new ArrayBuffer(1)))!=D||N.A&&j(new N.A)!=O||I&&j(I.resolve())!=g||c&&j(new c)!=A||S&&j(new S)!=R)&&(j=function(B){var G=(0,l.A)(B),U=G=="[object Object]"?B.constructor:void 0,W=U?(0,L.A)(U):"";if(W)switch(W){case X:return D;case lt:return O;case ft:return g;case J:return A;case m:return R}return G});var Y=j},1683:function(ot,x,t){"use strict";t.d(x,{A:function(){return c}});var a=t(659),w=Object.create,M=function(){function S(){}return function(l){if(!(0,a.A)(l))return{};if(w)return w(l);S.prototype=l;var L=new S;return S.prototype=void 0,L}}(),N=t(8769),I=t(501),c=function(S){return typeof S.constructor!="function"||(0,I.A)(S)?{}:M((0,N.A)(S))}},3767:function(ot,x){"use strict";var t=/^(?:0|[1-9]\d*)$/;x.A=function(a,w){var M=typeof a;return!!(w=w??9007199254740991)&&(M=="number"||M!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<w}},501:function(ot,x){"use strict";var t=Object.prototype;x.A=function(a){var w=a&&a.constructor;return a===(typeof w=="function"&&w.prototype||t)}},8795:function(ot,x,t){"use strict";var a=t(9646),w=typeof exports=="object"&&exports&&!exports.nodeType&&exports,M=w&&typeof module=="object"&&module&&!module.nodeType&&module,N=M&&M.exports===w&&a.A.process,I=function(){try{return M&&M.require&&M.require("util").types||N&&N.binding&&N.binding("util")}catch{}}();x.A=I},2217:function(ot,x){"use strict";x.A=function(t,a){return function(w){return t(a(w))}}},5507:function(ot,x,t){"use strict";var a=t(9646),w=typeof self=="object"&&self&&self.Object===Object&&self,M=a.A||w||Function("return this")();x.A=M},1543:function(ot,x){"use strict";var t=Function.prototype.toString;x.A=function(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}},3707:function(ot,x,t){"use strict";t.d(x,{A:function(){return s}});var a=t(2673),w=t(6437),M=t(9601),N=t(3169),I=t(2624),c=t(3812),S=t(4405),l=t(9844),L=t(802),O=t(8769),g=t(6935),A=Object.getOwnPropertySymbols?function(o){for(var p=[];o;)(0,L.A)(p,(0,l.A)(o)),o=(0,O.A)(o);return p}:g.A,R=t(2816),D=t(1381),X=function(o){return(0,D.A)(o,I.A,A)},lt=t(7995),ft=Object.prototype.hasOwnProperty,J=t(2899),m=/\w*$/,j=t(439),Y=j.A?j.A.prototype:void 0,B=Y?Y.valueOf:void 0,G=t(1827),U=function(o,p,E){var C,V,tt,et=o.constructor;switch(p){case"[object ArrayBuffer]":return(0,J.A)(o);case"[object Boolean]":case"[object Date]":return new et(+o);case"[object DataView]":return function(it,dt){var bt=dt?(0,J.A)(it.buffer):it.buffer;return new it.constructor(bt,it.byteOffset,it.byteLength)}(o,E);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,G.A)(o,E);case"[object Map]":case"[object Set]":return new et;case"[object Number]":case"[object String]":return new et(o);case"[object RegExp]":return(tt=new(V=o).constructor(V.source,m.exec(V))).lastIndex=V.lastIndex,tt;case"[object Symbol]":return C=o,B?Object(B.call(C)):{}}},W=t(1683),Q=t(723),ut=t(776),$=t(7948),H=t(5771),ht=t(8795),v=ht.A&&ht.A.isMap,e=v?(0,H.A)(v):function(o){return(0,$.A)(o)&&(0,lt.A)(o)=="[object Map]"},r=t(659),n=ht.A&&ht.A.isSet,_=n?(0,H.A)(n):function(o){return(0,$.A)(o)&&(0,lt.A)(o)=="[object Set]"},h="[object Arguments]",u="[object Function]",k="[object Object]",T={};T[h]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[k]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[u]=T["[object WeakMap]"]=!1;var b=function o(p,E,C,V,tt,et){var it,dt=1&E,bt=2&E,mt=4&E;if(C&&(it=tt?C(p,V,tt,et):C(p)),it!==void 0)return it;if(!(0,r.A)(p))return p;var wt=(0,Q.A)(p);if(wt){if(it=function(xt){var Tt=xt.length,Lt=new xt.constructor(Tt);return Tt&&typeof xt[0]=="string"&&ft.call(xt,"index")&&(Lt.index=xt.index,Lt.input=xt.input),Lt}(p),!dt)return(0,S.A)(p,it)}else{var At=(0,lt.A)(p),kt=At==u||At=="[object GeneratorFunction]";if((0,ut.A)(p))return(0,c.A)(p,dt);if(At==k||At==h||kt&&!tt){if(it=bt||kt?{}:(0,W.A)(p),!dt)return bt?function(xt,Tt){return(0,M.A)(xt,A(xt),Tt)}(p,function(xt,Tt){return xt&&(0,M.A)(Tt,(0,I.A)(Tt),xt)}(it,p)):function(xt,Tt){return(0,M.A)(xt,(0,l.A)(xt),Tt)}(p,function(xt,Tt){return xt&&(0,M.A)(Tt,(0,N.A)(Tt),xt)}(it,p))}else{if(!T[At])return tt?p:{};it=U(p,At,dt)}}et||(et=new a.A);var Rt=et.get(p);if(Rt)return Rt;et.set(p,it),_(p)?p.forEach(function(xt){it.add(o(xt,E,C,xt,p,et))}):e(p)&&p.forEach(function(xt,Tt){it.set(Tt,o(xt,E,C,Tt,p,et))});var Wt=mt?bt?X:R.A:bt?I.A:N.A,Ut=wt?void 0:Wt(p);return function(xt,Tt){for(var Lt=-1,Pt=xt==null?0:xt.length;++Lt<Pt&&Tt(xt[Lt],Lt,xt)!==!1;);}(Ut||p,function(xt,Tt){Ut&&(xt=p[Tt=xt]),(0,w.A)(it,Tt,o(xt,E,C,Tt,p,et))}),it},s=function(o){return b(o,5)}},8138:function(ot,x){"use strict";x.A=function(t,a){return t===a||t!=t&&a!=a}},8412:function(ot,x,t){"use strict";t.d(x,{A:function(){return l}});var a=t(2159),w=t(7948),M=function(L){return(0,w.A)(L)&&(0,a.A)(L)=="[object Arguments]"},N=Object.prototype,I=N.hasOwnProperty,c=N.propertyIsEnumerable,S=M(function(){return arguments}())?M:function(L){return(0,w.A)(L)&&I.call(L,"callee")&&!c.call(L,"callee")},l=S},723:function(ot,x){"use strict";var t=Array.isArray;x.A=t},3628:function(ot,x,t){"use strict";var a=t(7572),w=t(1628);x.A=function(M){return M!=null&&(0,w.A)(M.length)&&!(0,a.A)(M)}},776:function(ot,x,t){"use strict";t.d(x,{A:function(){return I}});var a=t(5507),w=typeof exports=="object"&&exports&&!exports.nodeType&&exports,M=w&&typeof module=="object"&&module&&!module.nodeType&&module,N=M&&M.exports===w?a.A.Buffer:void 0,I=(N?N.isBuffer:void 0)||function(){return!1}},5123:function(ot,x,t){"use strict";t.d(x,{A:function(){return ut}});var a=t(2673),w=t(3558);function M($){var H=-1,ht=$==null?0:$.length;for(this.__data__=new w.A;++H<ht;)this.add($[H])}M.prototype.add=M.prototype.push=function($){return this.__data__.set($,"__lodash_hash_undefined__"),this},M.prototype.has=function($){return this.__data__.has($)};var N=M,I=function($,H){for(var ht=-1,v=$==null?0:$.length;++ht<v;)if(H($[ht],ht,$))return!0;return!1},c=function($,H,ht,v,e,r){var n=1&ht,_=$.length,h=H.length;if(_!=h&&!(n&&h>_))return!1;var u=r.get($),k=r.get(H);if(u&&k)return u==H&&k==$;var T=-1,b=!0,s=2&ht?new N:void 0;for(r.set($,H),r.set(H,$);++T<_;){var o=$[T],p=H[T];if(v)var E=n?v(p,o,T,H,$,r):v(o,p,T,$,H,r);if(E!==void 0){if(E)continue;b=!1;break}if(s){if(!I(H,function(C,V){if(tt=V,!s.has(tt)&&(o===C||e(o,C,ht,v,r)))return s.push(V);var tt})){b=!1;break}}else if(o!==p&&!e(o,p,ht,v,r)){b=!1;break}}return r.delete($),r.delete(H),b},S=t(439),l=t(7218),L=t(8138),O=function($){var H=-1,ht=Array($.size);return $.forEach(function(v,e){ht[++H]=[e,v]}),ht},g=function($){var H=-1,ht=Array($.size);return $.forEach(function(v){ht[++H]=v}),ht},A=S.A?S.A.prototype:void 0,R=A?A.valueOf:void 0,D=t(2816),X=Object.prototype.hasOwnProperty,lt=t(7995),ft=t(723),J=t(776),m=t(5755),j="[object Arguments]",Y="[object Array]",B="[object Object]",G=Object.prototype.hasOwnProperty,U=function($,H,ht,v,e,r){var n=(0,ft.A)($),_=(0,ft.A)(H),h=n?Y:(0,lt.A)($),u=_?Y:(0,lt.A)(H),k=(h=h==j?B:h)==B,T=(u=u==j?B:u)==B,b=h==u;if(b&&(0,J.A)($)){if(!(0,J.A)(H))return!1;n=!0,k=!1}if(b&&!k)return r||(r=new a.A),n||(0,m.A)($)?c($,H,ht,v,e,r):function(C,V,tt,et,it,dt,bt){switch(tt){case"[object DataView]":if(C.byteLength!=V.byteLength||C.byteOffset!=V.byteOffset)return!1;C=C.buffer,V=V.buffer;case"[object ArrayBuffer]":return!(C.byteLength!=V.byteLength||!dt(new l.A(C),new l.A(V)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,L.A)(+C,+V);case"[object Error]":return C.name==V.name&&C.message==V.message;case"[object RegExp]":case"[object String]":return C==V+"";case"[object Map]":var mt=O;case"[object Set]":var wt=1&et;if(mt||(mt=g),C.size!=V.size&&!wt)return!1;var At=bt.get(C);if(At)return At==V;et|=2,bt.set(C,V);var kt=c(mt(C),mt(V),et,it,dt,bt);return bt.delete(C),kt;case"[object Symbol]":if(R)return R.call(C)==R.call(V)}return!1}($,H,h,ht,v,e,r);if(!(1&ht)){var s=k&&G.call($,"__wrapped__"),o=T&&G.call(H,"__wrapped__");if(s||o){var p=s?$.value():$,E=o?H.value():H;return r||(r=new a.A),e(p,E,ht,v,r)}}return!!b&&(r||(r=new a.A),function(C,V,tt,et,it,dt){var bt=1&tt,mt=(0,D.A)(C),wt=mt.length;if(wt!=(0,D.A)(V).length&&!bt)return!1;for(var At=wt;At--;){var kt=mt[At];if(!(bt?kt in V:X.call(V,kt)))return!1}var Rt=dt.get(C),Wt=dt.get(V);if(Rt&&Wt)return Rt==V&&Wt==C;var Ut=!0;dt.set(C,V),dt.set(V,C);for(var xt=bt;++At<wt;){var Tt=C[kt=mt[At]],Lt=V[kt];if(et)var Pt=bt?et(Lt,Tt,kt,V,C,dt):et(Tt,Lt,kt,C,V,dt);if(!(Pt===void 0?Tt===Lt||it(Tt,Lt,tt,et,dt):Pt)){Ut=!1;break}xt||(xt=kt=="constructor")}if(Ut&&!xt){var Dt=C.constructor,Zt=V.constructor;Dt==Zt||!("constructor"in C)||!("constructor"in V)||typeof Dt=="function"&&Dt instanceof Dt&&typeof Zt=="function"&&Zt instanceof Zt||(Ut=!1)}return dt.delete(C),dt.delete(V),Ut}($,H,ht,v,e,r))},W=t(7948),Q=function $(H,ht,v,e,r){return H===ht||(H==null||ht==null||!(0,W.A)(H)&&!(0,W.A)(ht)?H!=H&&ht!=ht:U(H,ht,v,e,$,r))},ut=function($,H){return Q($,H)}},7572:function(ot,x,t){"use strict";var a=t(2159),w=t(659);x.A=function(M){if(!(0,w.A)(M))return!1;var N=(0,a.A)(M);return N=="[object Function]"||N=="[object GeneratorFunction]"||N=="[object AsyncFunction]"||N=="[object Proxy]"}},1628:function(ot,x){"use strict";x.A=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}},659:function(ot,x){"use strict";x.A=function(t){var a=typeof t;return t!=null&&(a=="object"||a=="function")}},7948:function(ot,x){"use strict";x.A=function(t){return t!=null&&typeof t=="object"}},5755:function(ot,x,t){"use strict";t.d(x,{A:function(){return l}});var a=t(2159),w=t(1628),M=t(7948),N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Arguments]"]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object Boolean]"]=N["[object DataView]"]=N["[object Date]"]=N["[object Error]"]=N["[object Function]"]=N["[object Map]"]=N["[object Number]"]=N["[object Object]"]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object WeakMap]"]=!1;var I=t(5771),c=t(8795),S=c.A&&c.A.isTypedArray,l=S?(0,I.A)(S):function(L){return(0,M.A)(L)&&(0,w.A)(L.length)&&!!N[(0,a.A)(L)]}},3169:function(ot,x,t){"use strict";t.d(x,{A:function(){return c}});var a=t(6753),w=t(501),M=(0,t(2217).A)(Object.keys,Object),N=Object.prototype.hasOwnProperty,I=t(3628),c=function(S){return(0,I.A)(S)?(0,a.A)(S):function(l){if(!(0,w.A)(l))return M(l);var L=[];for(var O in Object(l))N.call(l,O)&&O!="constructor"&&L.push(O);return L}(S)}},2624:function(ot,x,t){"use strict";t.d(x,{A:function(){return S}});var a=t(6753),w=t(659),M=t(501),N=Object.prototype.hasOwnProperty,I=function(l){if(!(0,w.A)(l))return function(A){var R=[];if(A!=null)for(var D in Object(A))R.push(D);return R}(l);var L=(0,M.A)(l),O=[];for(var g in l)(g!="constructor"||!L&&N.call(l,g))&&O.push(g);return O},c=t(3628),S=function(l){return(0,c.A)(l)?(0,a.A)(l,!0):I(l)}},8347:function(ot,x,t){"use strict";t.d(x,{A:function(){return o}});var a,w,M,N,I=t(2673),c=t(6770),S=t(8138),l=function(p,E,C){(C!==void 0&&!(0,S.A)(p[E],C)||C===void 0&&!(E in p))&&(0,c.A)(p,E,C)},L=function(p,E,C){for(var V=-1,tt=Object(p),et=C(p),it=et.length;it--;){var dt=et[++V];if(E(tt[dt],dt,tt)===!1)break}return p},O=t(3812),g=t(1827),A=t(4405),R=t(1683),D=t(8412),X=t(723),lt=t(3628),ft=t(7948),J=t(776),m=t(7572),j=t(659),Y=t(2159),B=t(8769),G=Function.prototype,U=Object.prototype,W=G.toString,Q=U.hasOwnProperty,ut=W.call(Object),$=t(5755),H=function(p,E){if((E!=="constructor"||typeof p[E]!="function")&&E!="__proto__")return p[E]},ht=t(9601),v=t(2624),e=function(p,E,C,V,tt,et,it){var dt,bt=H(p,C),mt=H(E,C),wt=it.get(mt);if(wt)l(p,C,wt);else{var At=et?et(bt,mt,C+"",p,E,it):void 0,kt=At===void 0;if(kt){var Rt=(0,X.A)(mt),Wt=!Rt&&(0,J.A)(mt),Ut=!Rt&&!Wt&&(0,$.A)(mt);At=mt,Rt||Wt||Ut?(0,X.A)(bt)?At=bt:(dt=bt,(0,ft.A)(dt)&&(0,lt.A)(dt)?At=(0,A.A)(bt):Wt?(kt=!1,At=(0,O.A)(mt,!0)):Ut?(kt=!1,At=(0,g.A)(mt,!0)):At=[]):function(xt){if(!(0,ft.A)(xt)||(0,Y.A)(xt)!="[object Object]")return!1;var Tt=(0,B.A)(xt);if(Tt===null)return!0;var Lt=Q.call(Tt,"constructor")&&Tt.constructor;return typeof Lt=="function"&&Lt instanceof Lt&&W.call(Lt)==ut}(mt)||(0,D.A)(mt)?(At=bt,(0,D.A)(bt)?At=function(xt){return(0,ht.A)(xt,(0,v.A)(xt))}(bt):(0,j.A)(bt)&&!(0,m.A)(bt)||(At=(0,R.A)(mt))):kt=!1}kt&&(it.set(mt,At),tt(At,mt,V,et,it),it.delete(mt)),l(p,C,At)}},r=function p(E,C,V,tt,et){E!==C&&L(C,function(it,dt){if(et||(et=new I.A),(0,j.A)(it))e(E,C,dt,V,p,tt,et);else{var bt=tt?tt(H(E,dt),it,dt+"",E,C,et):void 0;bt===void 0&&(bt=it),l(E,dt,bt)}},v.A)},n=function(p){return p},_=Math.max,h=t(7889),u=h.A?function(p,E){return(0,h.A)(p,"toString",{configurable:!0,enumerable:!1,value:(C=E,function(){return C}),writable:!0});var C}:n,k=Date.now,T=(a=u,w=0,M=0,function(){var p=k(),E=16-(p-M);if(M=p,E>0){if(++w>=800)return arguments[0]}else w=0;return a.apply(void 0,arguments)}),b=function(p,E){return T(function(C,V,tt){return V=_(V===void 0?C.length-1:V,0),function(){for(var et=arguments,it=-1,dt=_(et.length-V,0),bt=Array(dt);++it<dt;)bt[it]=et[V+it];it=-1;for(var mt=Array(V+1);++it<V;)mt[it]=et[it];return mt[V]=tt(bt),function(wt,At,kt){switch(kt.length){case 0:return wt.call(At);case 1:return wt.call(At,kt[0]);case 2:return wt.call(At,kt[0],kt[1]);case 3:return wt.call(At,kt[0],kt[1],kt[2])}return wt.apply(At,kt)}(C,this,mt)}}(p,E,n),p+"")},s=t(3767),o=(N=function(p,E,C){r(p,E,C)},b(function(p,E){var C=-1,V=E.length,tt=V>1?E[V-1]:void 0,et=V>2?E[2]:void 0;for(tt=N.length>3&&typeof tt=="function"?(V--,tt):void 0,et&&function(dt,bt,mt){if(!(0,j.A)(mt))return!1;var wt=typeof bt;return!!(wt=="number"?(0,lt.A)(mt)&&(0,s.A)(bt,mt.length):wt=="string"&&bt in mt)&&(0,S.A)(mt[bt],dt)}(E[0],E[1],et)&&(tt=V<3?void 0:tt,V=1),p=Object(p);++C<V;){var it=E[C];it&&N(p,it,C)}return p}))},6935:function(ot,x){"use strict";x.A=function(){return[]}},6003:function(ot,x,t){"use strict";t.r(x),t.d(x,{Attributor:function(){return w},AttributorStore:function(){return O},BlockBlot:function(){return B},ClassAttributor:function(){return S},ContainerBlot:function(){return U},EmbedBlot:function(){return W},InlineBlot:function(){return j},LeafBlot:function(){return D},ParentBlot:function(){return J},Registry:function(){return I},Scope:function(){return a},ScrollBlot:function(){return $},StyleAttributor:function(){return L},TextBlot:function(){return ht}});var a=(v=>(v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY",v))(a||{});class w{constructor(e,r,n={}){this.attrName=e,this.keyName=r;const _=a.TYPE&a.ATTRIBUTE;this.scope=n.scope!=null?n.scope&a.LEVEL|_:a.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map(r=>r.name)}add(e,r){return!!this.canAdd(e,r)&&(e.setAttribute(this.keyName,r),!0)}canAdd(e,r){return this.whitelist==null||(typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1)}remove(e){e.removeAttribute(this.keyName)}value(e){const r=e.getAttribute(this.keyName);return this.canAdd(e,r)&&r?r:""}}class M extends Error{constructor(e){super(e="[Parchment] "+e),this.message=e,this.name=this.constructor.name}}const N=class He{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,r=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(r){let n=null;try{n=e.parentNode}catch{return null}return this.find(n,r)}return null}create(e,r,n){const _=this.query(r);if(_==null)throw new M(`Unable to create ${r} blot`);const h=_,u=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:h.create(n),k=new h(e,u,n);return He.blots.set(k.domNode,k),k}find(e,r=!1){return He.find(e,r)}query(e,r=a.ANY){let n;return typeof e=="string"?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:typeof e=="number"?e&a.LEVEL&a.BLOCK?n=this.types.block:e&a.LEVEL&a.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(_=>(n=this.classes[_],!!n)),n=n||this.tags[e.tagName]),n==null?null:"scope"in n&&r&a.LEVEL&n.scope&&r&a.TYPE&n.scope?n:null}register(...e){return e.map(r=>{const n="blotName"in r,_="attrName"in r;if(!n&&!_)throw new M("Invalid definition");if(n&&r.blotName==="abstract")throw new M("Cannot register abstract class");const h=n?r.blotName:_?r.attrName:void 0;return this.types[h]=r,_?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(u=>u.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(u=>{(this.tags[u]==null||r.className==null)&&(this.tags[u]=r)}))),r})}};N.blots=new WeakMap;let I=N;function c(v,e){return(v.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${e}-`)===0)}const S=class extends w{static keys(v){return(v.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(v,e){return!!this.canAdd(v,e)&&(this.remove(v),v.classList.add(`${this.keyName}-${e}`),!0)}remove(v){c(v,this.keyName).forEach(e=>{v.classList.remove(e)}),v.classList.length===0&&v.removeAttribute("class")}value(v){const e=(c(v,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(v,e)?e:""}};function l(v){const e=v.split("-"),r=e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return e[0]+r}const L=class extends w{static keys(v){return(v.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(v,e){return!!this.canAdd(v,e)&&(v.style[l(this.keyName)]=e,!0)}remove(v){v.style[l(this.keyName)]="",v.getAttribute("style")||v.removeAttribute("style")}value(v){const e=v.style[l(this.keyName)];return this.canAdd(v,e)?e:""}},O=class{constructor(v){this.attributes={},this.domNode=v,this.build()}attribute(v,e){e?v.add(this.domNode,e)&&(v.value(this.domNode)!=null?this.attributes[v.attrName]=v:delete this.attributes[v.attrName]):(v.remove(this.domNode),delete this.attributes[v.attrName])}build(){this.attributes={};const v=I.find(this.domNode);if(v==null)return;const e=w.keys(this.domNode),r=S.keys(this.domNode),n=L.keys(this.domNode);e.concat(r).concat(n).forEach(_=>{const h=v.scroll.query(_,a.ATTRIBUTE);h instanceof w&&(this.attributes[h.attrName]=h)})}copy(v){Object.keys(this.attributes).forEach(e=>{const r=this.attributes[e].value(this.domNode);v.format(e,r)})}move(v){this.copy(v),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((v,e)=>(v[e]=this.attributes[e].value(this.domNode),v),{})}},g=class{constructor(v,e){this.scroll=v,this.domNode=e,I.blots.set(e,this),this.prev=null,this.next=null}static create(v){if(this.tagName==null)throw new M("Blot definition missing tagName");let e,r;return Array.isArray(this.tagName)?(typeof v=="string"?(r=v.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof v=="number"&&(r=v),e=typeof r=="number"?document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?document.createElement(r):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const v=this.domNode.cloneNode(!1);return this.scroll.create(v)}detach(){this.parent!=null&&this.parent.removeChild(this),I.blots.delete(this.domNode)}deleteAt(v,e){this.isolate(v,e).remove()}formatAt(v,e,r,n){const _=this.isolate(v,e);if(this.scroll.query(r,a.BLOT)!=null&&n)_.wrap(r,n);else if(this.scroll.query(r,a.ATTRIBUTE)!=null){const h=this.scroll.create(this.statics.scope);_.wrap(h),h.format(r,n)}}insertAt(v,e,r){const n=r==null?this.scroll.create("text",e):this.scroll.create(e,r),_=this.split(v);this.parent.insertBefore(n,_||void 0)}isolate(v,e){const r=this.split(v);if(r==null)throw new Error("Attempt to isolate at end");return r.split(e),r}length(){return 1}offset(v=this.parent){return this.parent==null||this===v?0:this.parent.children.offset(this)+this.parent.offset(v)}optimize(v){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(v,e){const r=typeof v=="string"?this.scroll.create(v,e):v;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(v,e){return v===0?this:this.next}update(v,e){}wrap(v,e){const r=typeof v=="string"?this.scroll.create(v,e):v;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new M(`Cannot wrap ${v}`);return r.appendChild(this),r}};g.blotName="abstract";let A=g;const R=class extends A{static value(v){return!0}index(v,e){return this.domNode===v||this.domNode.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(v,e){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return v>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};R.scope=a.INLINE_BLOT;const D=R;class X{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const r=e.slice(1);this.append(...r)}}at(e){const r=this.iterator();let n=r();for(;n&&e>0;)e-=1,n=r();return n}contains(e){const r=this.iterator();let n=r();for(;n;){if(n===e)return!0;n=r()}return!1}indexOf(e){const r=this.iterator();let n=r(),_=0;for(;n;){if(n===e)return _;_+=1,n=r()}return-1}insertBefore(e,r){e!=null&&(this.remove(e),e.next=r,r!=null?(e.prev=r.prev,r.prev!=null&&(r.prev.next=e),r.prev=e,r===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let r=0,n=this.head;for(;n!=null;){if(n===e)return r;r+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const r=e;return e!=null&&(e=e.next),r}}find(e,r=!1){const n=this.iterator();let _=n();for(;_;){const h=_.length();if(e<h||r&&e===h&&(_.next==null||_.next.length()!==0))return[_,e];e-=h,_=n()}return[null,0]}forEach(e){const r=this.iterator();let n=r();for(;n;)e(n),n=r()}forEachAt(e,r,n){if(r<=0)return;const[_,h]=this.find(e);let u=e-h;const k=this.iterator(_);let T=k();for(;T&&u<e+r;){const b=T.length();e>u?n(T,e-u,Math.min(r,u+b-e)):n(T,0,Math.min(b,e+r-u)),u+=b,T=k()}}map(e){return this.reduce((r,n)=>(r.push(e(n)),r),[])}reduce(e,r){const n=this.iterator();let _=n();for(;_;)r=e(r,_),_=n();return r}}function lt(v,e){const r=e.find(v);if(r)return r;try{return e.create(v)}catch{const n=e.create(a.INLINE);return Array.from(v.childNodes).forEach(_=>{n.domNode.appendChild(_)}),v.parentNode&&v.parentNode.replaceChild(n.domNode,v),n.attach(),n}}const ft=class ke extends A{constructor(e,r){super(e,r),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,ke.uiClass&&this.uiNode.classList.add(ke.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new X,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const r=lt(e,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof M)return;throw r}})}deleteAt(e,r){if(e===0&&r===this.length())return this.remove();this.children.forEachAt(e,r,(n,_,h)=>{n.deleteAt(_,h)})}descendant(e,r=0){const[n,_]=this.children.find(r);return e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e?[n,_]:n instanceof ke?n.descendant(e,_):[null,-1]}descendants(e,r=0,n=Number.MAX_VALUE){let _=[],h=n;return this.children.forEachAt(r,n,(u,k,T)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&_.push(u),u instanceof ke&&(_=_.concat(u.descendants(e,k,h))),h-=T}),_}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(r=>{e||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===a.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),e=!0):r instanceof ke?r.unwrap():r.remove())})}formatAt(e,r,n,_){this.children.forEachAt(e,r,(h,u,k)=>{h.formatAt(u,k,n,_)})}insertAt(e,r,n){const[_,h]=this.children.find(e);if(_)_.insertAt(h,r,n);else{const u=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(u)}}insertBefore(e,r){e.parent!=null&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,r||null),e.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce((e,r)=>e+r.length(),0)}moveChildren(e,r){this.children.forEach(n=>{e.insertBefore(n,r)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(e,r=!1){const[n,_]=this.children.find(e,r),h=[[this,e]];return n instanceof ke?h.concat(n.path(_,r)):(n!=null&&h.push([n,_]),h)}removeChild(e){this.children.remove(e)}replaceWith(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;return n instanceof ke&&this.moveChildren(n),super.replaceWith(n)}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),(_,h,u)=>{const k=_.split(h,r);k!=null&&n.appendChild(k)}),n}splitAfter(e){const r=this.clone();for(;e.next!=null;)r.appendChild(e.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,r){const n=[],_=[];e.forEach(h=>{h.target===this.domNode&&h.type==="childList"&&(n.push(...h.addedNodes),_.push(...h.removedNodes))}),_.forEach(h=>{if(h.parentNode!=null&&h.tagName!=="IFRAME"&&document.body.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(h);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),n.filter(h=>h.parentNode===this.domNode&&h!==this.uiNode).sort((h,u)=>h===u?0:h.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(h=>{let u=null;h.nextSibling!=null&&(u=this.scroll.find(h.nextSibling));const k=lt(h,this.scroll);(k.next!==u||k.next==null)&&(k.parent!=null&&k.parent.removeChild(this),this.insertBefore(k,u||void 0))}),this.enforceAllowedChildren()}};ft.uiClass="";const J=ft,m=class Ce extends J{static create(e){return super.create(e)}static formats(e,r){const n=r.query(Ce.blotName);if(n==null||e.tagName!==n.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new O(this.domNode)}format(e,r){if(e!==this.statics.blotName||r){const n=this.scroll.query(e,a.INLINE);if(n==null)return;n instanceof w?this.attributes.attribute(n,r):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r)}else this.children.forEach(n=>{n instanceof Ce||(n=n.wrap(Ce.blotName,!0)),this.attributes.copy(n)}),this.unwrap()}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,_){this.formats()[n]!=null||this.scroll.query(n,a.ATTRIBUTE)?this.isolate(e,r).format(n,_):super.formatAt(e,r,n,_)}optimize(e){super.optimize(e);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof Ce&&n.prev===this&&function(_,h){if(Object.keys(_).length!==Object.keys(h).length)return!1;for(const u in _)if(_[u]!==h[u])return!1;return!0}(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(e,r){const n=super.wrap(e,r);return n instanceof Ce&&this.attributes.move(n),n}};m.allowedChildren=[m,D],m.blotName="inline",m.scope=a.INLINE_BLOT,m.tagName="SPAN";const j=m,Y=class Pe extends J{static create(e){return super.create(e)}static formats(e,r){const n=r.query(Pe.blotName);if(n==null||e.tagName!==n.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new O(this.domNode)}format(e,r){const n=this.scroll.query(e,a.BLOCK);n!=null&&(n instanceof w?this.attributes.attribute(n,r):e!==this.statics.blotName||r?r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r):this.replaceWith(Pe.blotName))}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,_){this.scroll.query(n,a.BLOCK)!=null?this.format(n,_):super.formatAt(e,r,n,_)}insertAt(e,r,n){if(n==null||this.scroll.query(r,a.INLINE)!=null)super.insertAt(e,r,n);else{const _=this.split(e);if(_==null)throw new Error("Attempt to insertAt after block boundaries");{const h=this.scroll.create(r,n);_.parent.insertBefore(h,_)}}}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Y.blotName="block",Y.scope=a.BLOCK_BLOT,Y.tagName="P",Y.allowedChildren=[j,Y,D];const B=Y,G=class extends J{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(v,e){super.deleteAt(v,e),this.enforceAllowedChildren()}formatAt(v,e,r,n){super.formatAt(v,e,r,n),this.enforceAllowedChildren()}insertAt(v,e,r){super.insertAt(v,e,r),this.enforceAllowedChildren()}optimize(v){super.optimize(v),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};G.blotName="container",G.scope=a.BLOCK_BLOT;const U=G,W=class extends D{static formats(v,e){}format(v,e){super.formatAt(0,this.length(),v,e)}formatAt(v,e,r,n){v===0&&e===this.length()?this.format(r,n):super.formatAt(v,e,r,n)}formats(){return this.statics.formats(this.domNode,this.scroll)}},Q={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ut=class extends J{constructor(v,e){super(null,e),this.registry=v,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,Q),this.attach()}create(v,e){return this.registry.create(this,v,e)}find(v,e=!1){const r=this.registry.find(v,e);return r?r.scroll===this?r:e?this.find(r.scroll.domNode.parentNode,!0):null:null}query(v,e=a.ANY){return this.registry.query(v,e)}register(...v){return this.registry.register(...v)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(v,e){this.update(),v===0&&e===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(v,e)}formatAt(v,e,r,n){this.update(),super.formatAt(v,e,r,n)}insertAt(v,e,r){this.update(),super.insertAt(v,e,r)}optimize(v=[],e={}){super.optimize(e);const r=e.mutationsMap||new WeakMap;let n=Array.from(this.observer.takeRecords());for(;n.length>0;)v.push(n.pop());const _=(k,T=!0)=>{k==null||k===this||k.domNode.parentNode!=null&&(r.has(k.domNode)||r.set(k.domNode,[]),T&&_(k.parent))},h=k=>{r.has(k.domNode)&&(k instanceof J&&k.children.forEach(h),r.delete(k.domNode),k.optimize(e))};let u=v;for(let k=0;u.length>0;k+=1){if(k>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(T=>{const b=this.find(T.target,!0);b!=null&&(b.domNode===T.target&&(T.type==="childList"?(_(this.find(T.previousSibling,!1)),Array.from(T.addedNodes).forEach(s=>{const o=this.find(s,!1);_(o,!1),o instanceof J&&o.children.forEach(p=>{_(p,!1)})})):T.type==="attributes"&&_(b.prev)),_(b))}),this.children.forEach(h),u=Array.from(this.observer.takeRecords()),n=u.slice();n.length>0;)v.push(n.pop())}}update(v,e={}){v=v||this.observer.takeRecords();const r=new WeakMap;v.map(n=>{const _=this.find(n.target,!0);return _==null?null:r.has(_.domNode)?(r.get(_.domNode).push(n),null):(r.set(_.domNode,[n]),_)}).forEach(n=>{n!=null&&n!==this&&r.has(n.domNode)&&n.update(r.get(n.domNode)||[],e)}),e.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),e),this.optimize(v,e)}};ut.blotName="scroll",ut.defaultChild=B,ut.allowedChildren=[B,U],ut.scope=a.BLOCK_BLOT,ut.tagName="DIV";const $=ut,H=class $e extends D{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,r){super(e,r),this.text=this.statics.value(this.domNode)}deleteAt(e,r){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+r)}index(e,r){return this.domNode===e?r:-1}insertAt(e,r,n){n==null?(this.text=this.text.slice(0,e)+r+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,r,n)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof $e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,r=!1){return[this.domNode,e]}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(e,r){e.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};H.blotName="text",H.scope=a.INLINE_BLOT;const ht=H}},Kt={};function Bt(ot){var x=Kt[ot];if(x!==void 0)return x.exports;var t=Kt[ot]={id:ot,loaded:!1,exports:{}};return Ee[ot](t,t.exports,Bt),t.loaded=!0,t.exports}Bt.n=function(ot){var x=ot&&ot.__esModule?function(){return ot.default}:function(){return ot};return Bt.d(x,{a:x}),x},Bt.d=function(ot,x){for(var t in x)Bt.o(x,t)&&!Bt.o(ot,t)&&Object.defineProperty(ot,t,{enumerable:!0,get:x[t]})},Bt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Bt.o=function(ot,x){return Object.prototype.hasOwnProperty.call(ot,x)},Bt.r=function(ot){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ot,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ot,"__esModule",{value:!0})},Bt.nmd=function(ot){return ot.paths=[],ot.children||(ot.children=[]),ot};var Yt={};return function(){"use strict";Bt.d(Yt,{default:function(){return Qt}});var ot=Bt(3729),x=Bt(8276),t=Bt(7912),a=Bt(6003);class w extends a.ClassAttributor{add(i,f){let F=0;if(f==="+1"||f==="-1"){const ct=this.value(i)||0;F=f==="+1"?ct+1:ct-1}else typeof f=="number"&&(F=f);return F===0?(this.remove(i),!0):super.add(i,F.toString())}canAdd(i,f){return super.canAdd(i,f)||super.canAdd(i,parseInt(f,10))}value(i){return parseInt(super.value(i),10)||void 0}}var M=new w("indent","ql-indent",{scope:a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),N=Bt(9698);class I extends N.Ay{static blotName="blockquote";static tagName="blockquote"}var c=I;class S extends N.Ay{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(i){return this.tagName.indexOf(i.tagName)+1}}var l=S,L=Bt(580),O=Bt(6142);class g extends L.A{}g.blotName="list-container",g.tagName="OL";class A extends N.Ay{static create(i){const f=super.create();return f.setAttribute("data-list",i),f}static formats(i){return i.getAttribute("data-list")||void 0}static register(){O.Ay.register(g)}constructor(i,f){super(i,f);const F=f.ownerDocument.createElement("span"),ct=vt=>{if(!i.isEnabled())return;const jt=this.statics.formats(f,i);jt==="checked"?(this.format("list","unchecked"),vt.preventDefault()):jt==="unchecked"&&(this.format("list","checked"),vt.preventDefault())};F.addEventListener("mousedown",ct),F.addEventListener("touchstart",ct),this.attachUI(F)}format(i,f){i===this.statics.blotName&&f?this.domNode.setAttribute("data-list",f):super.format(i,f)}}A.blotName="list",A.tagName="LI",g.allowedChildren=[A],A.requiredContainer=g;var R=Bt(9541),D=Bt(8638),X=Bt(6772),lt=Bt(664),ft=Bt(4850);class J extends ft.A{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(i){super.optimize(i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}var m=J;class j extends ft.A{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(i){const f=super.create(i);return f.setAttribute("href",this.sanitize(i)),f.setAttribute("rel","noopener noreferrer"),f.setAttribute("target","_blank"),f}static formats(i){return i.getAttribute("href")}static sanitize(i){return Y(i,this.PROTOCOL_WHITELIST)?i:this.SANITIZED_URL}format(i,f){i===this.statics.blotName&&f?this.domNode.setAttribute("href",this.constructor.sanitize(f)):super.format(i,f)}}function Y(K,i){const f=document.createElement("a");f.href=K;const F=f.href.slice(0,f.href.indexOf(":"));return i.indexOf(F)>-1}class B extends ft.A{static blotName="script";static tagName=["SUB","SUP"];static create(i){return i==="super"?document.createElement("sup"):i==="sub"?document.createElement("sub"):super.create(i)}static formats(i){return i.tagName==="SUB"?"sub":i.tagName==="SUP"?"super":void 0}}var G=B;class U extends ft.A{static blotName="underline";static tagName="U"}var W=U,Q=Bt(746);class ut extends Q.A{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(i){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const f=super.create(i);return typeof i=="string"&&(window.katex.render(i,f,{throwOnError:!1,errorColor:"#f00"}),f.setAttribute("data-value",i)),f}static value(i){return i.getAttribute("data-value")}html(){const{formula:i}=this.value();return`<span>${i}</span>`}}var $=ut;const H=["alt","height","width"];class ht extends a.EmbedBlot{static blotName="image";static tagName="IMG";static create(i){const f=super.create(i);return typeof i=="string"&&f.setAttribute("src",this.sanitize(i)),f}static formats(i){return H.reduce((f,F)=>(i.hasAttribute(F)&&(f[F]=i.getAttribute(F)),f),{})}static match(i){return/\.(jpe?g|gif|png)$/.test(i)||/^data:image\/.+;base64/.test(i)}static sanitize(i){return Y(i,["http","https","data"])?i:"//:0"}static value(i){return i.getAttribute("src")}format(i,f){H.indexOf(i)>-1?f?this.domNode.setAttribute(i,f):this.domNode.removeAttribute(i):super.format(i,f)}}var v=ht;const e=["height","width"];class r extends N.zo{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(i){const f=super.create(i);return f.setAttribute("frameborder","0"),f.setAttribute("allowfullscreen","true"),f.setAttribute("src",this.sanitize(i)),f}static formats(i){return e.reduce((f,F)=>(i.hasAttribute(F)&&(f[F]=i.getAttribute(F)),f),{})}static sanitize(i){return j.sanitize(i)}static value(i){return i.getAttribute("src")}format(i,f){e.indexOf(i)>-1?f?this.domNode.setAttribute(i,f):this.domNode.removeAttribute(i):super.format(i,f)}html(){const{video:i}=this.value();return`<a href="${i}">${i}</a>`}}var n=r,_=Bt(9404),h=Bt(5232),u=Bt.n(h),k=Bt(4266),T=Bt(3036),b=Bt(4541),s=Bt(5508),o=Bt(584);const p=new a.ClassAttributor("code-token","hljs",{scope:a.Scope.INLINE});class E extends ft.A{static formats(i,f){for(;i!=null&&i!==f.domNode;){if(i.classList&&i.classList.contains(_.Ay.className))return super.formats(i,f);i=i.parentNode}}constructor(i,f,F){super(i,f,F),p.add(this.domNode,F)}format(i,f){i!==E.blotName?super.format(i,f):f?p.add(this.domNode,f):(p.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),p.value(this.domNode)||this.unwrap()}}E.blotName="code-token",E.className="ql-token";class C extends _.Ay{static create(i){const f=super.create(i);return typeof i=="string"&&f.setAttribute("data-language",i),f}static formats(i){return i.getAttribute("data-language")||"plain"}static register(){}format(i,f){i===this.statics.blotName&&f?this.domNode.setAttribute("data-language",f):super.format(i,f)}replaceWith(i,f){return this.formatAt(0,this.length(),E.blotName,!1),super.replaceWith(i,f)}}class V extends _.EJ{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(i,f){i===C.blotName&&(this.forceNext=!0,this.children.forEach(F=>{F.format(i,f)}))}formatAt(i,f,F,ct){F===C.blotName&&(this.forceNext=!0),super.formatAt(i,f,F,ct)}highlight(i){let f=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.children.head==null)return;const F=`${Array.from(this.domNode.childNodes).filter(vt=>vt!==this.uiNode).map(vt=>vt.textContent).join(`
`)}
`,ct=C.formats(this.children.head.domNode);if(f||this.forceNext||this.cachedText!==F){if(F.trim().length>0||this.cachedText==null){const vt=this.children.reduce((Ht,oe)=>Ht.concat((0,N.mG)(oe,!1)),new(u())),jt=i(F,ct);vt.diff(jt).reduce((Ht,oe)=>{let{retain:he,attributes:fe}=oe;return he?(fe&&Object.keys(fe).forEach(pe=>{[C.blotName,E.blotName].includes(pe)&&this.formatAt(Ht,he,pe,fe[pe])}),Ht+he):Ht},0)}this.cachedText=F,this.forceNext=!1}}html(i,f){const[F]=this.children.find(i);return`<pre data-language="${F?C.formats(F.domNode):"plain"}">
${(0,s.X)(this.code(i,f))}
</pre>`}optimize(i){if(super.optimize(i),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const f=C.formats(this.children.head.domNode);f!==this.uiNode.value&&(this.uiNode.value=f)}}}V.allowedChildren=[C],C.requiredContainer=V,C.allowedChildren=[E,b.A,s.A,T.A];class tt extends k.A{static register(){O.Ay.register(E,!0),O.Ay.register(C,!0),O.Ay.register(V,!0)}constructor(i,f){if(super(i,f),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((F,ct)=>{let{key:vt}=ct;return F[vt]=!0,F},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(O.Ay.events.SCROLL_BLOT_MOUNT,i=>{if(!(i instanceof V))return;const f=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(F=>{let{key:ct,label:vt}=F;const jt=f.ownerDocument.createElement("option");jt.textContent=vt,jt.setAttribute("value",ct),f.appendChild(jt)}),f.addEventListener("change",()=>{i.format(C.blotName,f.value),this.quill.root.focus(),this.highlight(i,!0)}),i.uiNode==null&&(i.attachUI(f),i.children.head&&(f.value=C.formats(i.children.head.domNode)))})}initTimer(){let i=null;this.quill.on(O.Ay.events.SCROLL_OPTIMIZE,()=>{i&&clearTimeout(i),i=setTimeout(()=>{this.highlight(),i=null},this.options.interval)})}highlight(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,f=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(O.Ay.sources.USER);const F=this.quill.getSelection();(i==null?this.quill.scroll.descendants(V):[i]).forEach(ct=>{ct.highlight(this.highlightBlot,f)}),this.quill.update(O.Ay.sources.SILENT),F!=null&&this.quill.setSelection(F,O.Ay.sources.SILENT)}highlightBlot(i){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(f=this.languages[f]?f:"plain",f==="plain")return(0,s.X)(i).split(`
`).reduce((ct,vt,jt)=>(jt!==0&&ct.insert(`
`,{[_.Ay.blotName]:f}),ct.insert(vt)),new(u()));const F=this.quill.root.ownerDocument.createElement("div");return F.classList.add(_.Ay.className),F.innerHTML=((ct,vt,jt)=>{if(typeof ct.versionString=="string"){const Ht=ct.versionString.split(".")[0];if(parseInt(Ht,10)>=11)return ct.highlight(jt,{language:vt}).value}return ct.highlight(vt,jt).value})(this.options.hljs,f,i),(0,o.hV)(this.quill.scroll,F,[(ct,vt)=>{const jt=p.value(ct);return jt?vt.compose(new(u())().retain(vt.length(),{[E.blotName]:jt})):vt}],[(ct,vt)=>ct.data.split(`
`).reduce((jt,Ht,oe)=>(oe!==0&&jt.insert(`
`,{[_.Ay.blotName]:f}),jt.insert(Ht)),vt)],new WeakMap)}}tt.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class et extends N.Ay{static blotName="table";static tagName="TD";static create(i){const f=super.create();return i?f.setAttribute("data-row",i):f.setAttribute("data-row",mt()),f}static formats(i){if(i.hasAttribute("data-row"))return i.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(i,f){i===et.blotName&&f?this.domNode.setAttribute("data-row",f):super.format(i,f)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class it extends L.A{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const i=this.children.head.formats(),f=this.children.tail.formats(),F=this.next.children.head.formats(),ct=this.next.children.tail.formats();return i.table===f.table&&i.table===F.table&&i.table===ct.table}return!1}optimize(i){super.optimize(i),this.children.forEach(f=>{if(f.next==null)return;const F=f.formats(),ct=f.next.formats();if(F.table!==ct.table){const vt=this.splitAfter(f);vt&&vt.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class dt extends L.A{static blotName="table-body";static tagName="TBODY"}class bt extends L.A{static blotName="table-container";static tagName="TABLE";balanceCells(){const i=this.descendants(it),f=i.reduce((F,ct)=>Math.max(ct.children.length,F),0);i.forEach(F=>{new Array(f-F.children.length).fill(0).forEach(()=>{let ct;F.children.head!=null&&(ct=et.formats(F.children.head.domNode));const vt=this.scroll.create(et.blotName,ct);F.appendChild(vt),vt.optimize()})})}cells(i){return this.rows().map(f=>f.children.at(i))}deleteColumn(i){const[f]=this.descendant(dt);f!=null&&f.children.head!=null&&f.children.forEach(F=>{const ct=F.children.at(i);ct?.remove()})}insertColumn(i){const[f]=this.descendant(dt);f!=null&&f.children.head!=null&&f.children.forEach(F=>{const ct=F.children.at(i),vt=et.formats(F.children.head.domNode),jt=this.scroll.create(et.blotName,vt);F.insertBefore(jt,ct)})}insertRow(i){const[f]=this.descendant(dt);if(f==null||f.children.head==null)return;const F=mt(),ct=this.scroll.create(it.blotName);f.children.head.children.forEach(()=>{const jt=this.scroll.create(et.blotName,F);ct.appendChild(jt)});const vt=f.children.at(i);f.insertBefore(ct,vt)}rows(){const i=this.children.head;return i==null?[]:i.children.map(f=>f)}}function mt(){return`row-${Math.random().toString(36).slice(2,6)}`}bt.allowedChildren=[dt],dt.requiredContainer=bt,dt.allowedChildren=[it],it.requiredContainer=dt,it.allowedChildren=[et],et.requiredContainer=it;class wt extends k.A{static register(){O.Ay.register(et),O.Ay.register(it),O.Ay.register(dt),O.Ay.register(bt)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(bt).forEach(i=>{i.balanceCells()})}deleteColumn(){const[i,,f]=this.getTable();f!=null&&(i.deleteColumn(f.cellOffset()),this.quill.update(O.Ay.sources.USER))}deleteRow(){const[,i]=this.getTable();i!=null&&(i.remove(),this.quill.update(O.Ay.sources.USER))}deleteTable(){const[i]=this.getTable();if(i==null)return;const f=i.offset();i.remove(),this.quill.update(O.Ay.sources.USER),this.quill.setSelection(f,O.Ay.sources.SILENT)}getTable(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(i==null)return[null,null,null,-1];const[f,F]=this.quill.getLine(i.index);if(f==null||f.statics.blotName!==et.blotName)return[null,null,null,-1];const ct=f.parent;return[ct.parent.parent,ct,f,F]}insertColumn(i){const f=this.quill.getSelection();if(!f)return;const[F,ct,vt]=this.getTable(f);if(vt==null)return;const jt=vt.cellOffset();F.insertColumn(jt+i),this.quill.update(O.Ay.sources.USER);let Ht=ct.rowOffset();i===0&&(Ht+=1),this.quill.setSelection(f.index+Ht,f.length,O.Ay.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(i){const f=this.quill.getSelection();if(!f)return;const[F,ct,vt]=this.getTable(f);if(vt==null)return;const jt=ct.rowOffset();F.insertRow(jt+i),this.quill.update(O.Ay.sources.USER),i>0?this.quill.setSelection(f,O.Ay.sources.SILENT):this.quill.setSelection(f.index+ct.children.length,f.length,O.Ay.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(i,f){const F=this.quill.getSelection();if(F==null)return;const ct=new Array(i).fill(0).reduce(vt=>{const jt=new Array(f).fill(`
`).join("");return vt.insert(jt,{table:mt()})},new(u())().retain(F.index));this.quill.updateContents(ct,O.Ay.sources.USER),this.quill.setSelection(F.index,O.Ay.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(O.Ay.events.SCROLL_OPTIMIZE,i=>{i.some(f=>!!["TD","TR","TBODY","TABLE"].includes(f.target.tagName)&&(this.quill.once(O.Ay.events.TEXT_CHANGE,(F,ct,vt)=>{vt===O.Ay.sources.USER&&this.balanceTables()}),!0))})}}var At=wt;const kt=(0,Bt(6078).A)("quill:toolbar");class Rt extends k.A{constructor(i,f){if(super(i,f),Array.isArray(this.options.container)){const F=document.createElement("div");F.setAttribute("role","toolbar"),function(ct,vt){Array.isArray(vt[0])||(vt=[vt]),vt.forEach(jt=>{const Ht=document.createElement("span");Ht.classList.add("ql-formats"),jt.forEach(oe=>{if(typeof oe=="string")Wt(Ht,oe);else{const he=Object.keys(oe)[0],fe=oe[he];Array.isArray(fe)?function(pe,Le,me){const Ae=document.createElement("select");Ae.classList.add(`ql-${Le}`),me.forEach(Z=>{const y=document.createElement("option");Z!==!1?y.setAttribute("value",String(Z)):y.setAttribute("selected","selected"),Ae.appendChild(y)}),pe.appendChild(Ae)}(Ht,he,fe):Wt(Ht,he,fe)}}),ct.appendChild(Ht)})}(F,this.options.container),i.container?.parentNode?.insertBefore(F,i.container),this.container=F}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(F=>{const ct=this.options.handlers?.[F];ct&&this.addHandler(F,ct)}),Array.from(this.container.querySelectorAll("button, select")).forEach(F=>{this.attach(F)}),this.quill.on(O.Ay.events.EDITOR_CHANGE,()=>{const[F]=this.quill.selection.getRange();this.update(F)})):kt.error("Container required for toolbar",this.options)}addHandler(i,f){this.handlers[i]=f}attach(i){let f=Array.from(i.classList).find(ct=>ct.indexOf("ql-")===0);if(!f)return;if(f=f.slice(3),i.tagName==="BUTTON"&&i.setAttribute("type","button"),this.handlers[f]==null&&this.quill.scroll.query(f)==null)return void kt.warn("ignoring attaching to nonexistent format",f,i);const F=i.tagName==="SELECT"?"change":"click";i.addEventListener(F,ct=>{let vt;if(i.tagName==="SELECT"){if(i.selectedIndex<0)return;const Ht=i.options[i.selectedIndex];vt=!Ht.hasAttribute("selected")&&(Ht.value||!1)}else vt=!i.classList.contains("ql-active")&&(i.value||!i.hasAttribute("value")),ct.preventDefault();this.quill.focus();const[jt]=this.quill.selection.getRange();if(this.handlers[f]!=null)this.handlers[f].call(this,vt);else if(this.quill.scroll.query(f).prototype instanceof a.EmbedBlot){if(vt=prompt(`Enter ${f}`),!vt)return;this.quill.updateContents(new(u())().retain(jt.index).delete(jt.length).insert({[f]:vt}),O.Ay.sources.USER)}else this.quill.format(f,vt,O.Ay.sources.USER);this.update(jt)}),this.controls.push([f,i])}update(i){const f=i==null?{}:this.quill.getFormat(i);this.controls.forEach(F=>{const[ct,vt]=F;if(vt.tagName==="SELECT"){let jt=null;if(i==null)jt=null;else if(f[ct]==null)jt=vt.querySelector("option[selected]");else if(!Array.isArray(f[ct])){let Ht=f[ct];typeof Ht=="string"&&(Ht=Ht.replace(/"/g,'\\"')),jt=vt.querySelector(`option[value="${Ht}"]`)}jt==null?(vt.value="",vt.selectedIndex=-1):jt.selected=!0}else if(i==null)vt.classList.remove("ql-active"),vt.setAttribute("aria-pressed","false");else if(vt.hasAttribute("value")){const jt=f[ct],Ht=jt===vt.getAttribute("value")||jt!=null&&jt.toString()===vt.getAttribute("value")||jt==null&&!vt.getAttribute("value");vt.classList.toggle("ql-active",Ht),vt.setAttribute("aria-pressed",Ht.toString())}else{const jt=f[ct]!=null;vt.classList.toggle("ql-active",jt),vt.setAttribute("aria-pressed",jt.toString())}})}}function Wt(K,i,f){const F=document.createElement("button");F.setAttribute("type","button"),F.classList.add(`ql-${i}`),F.setAttribute("aria-pressed","false"),f!=null?(F.value=f,F.setAttribute("aria-label",`${i}: ${f}`)):F.setAttribute("aria-label",i),K.appendChild(F)}Rt.DEFAULTS={},Rt.DEFAULTS={container:null,handlers:{clean(){const K=this.quill.getSelection();if(K!=null)if(K.length===0){const i=this.quill.getFormat();Object.keys(i).forEach(f=>{this.quill.scroll.query(f,a.Scope.INLINE)!=null&&this.quill.format(f,!1,O.Ay.sources.USER)})}else this.quill.removeFormat(K.index,K.length,O.Ay.sources.USER)},direction(K){const{align:i}=this.quill.getFormat();K==="rtl"&&i==null?this.quill.format("align","right",O.Ay.sources.USER):K||i!=="right"||this.quill.format("align",!1,O.Ay.sources.USER),this.quill.format("direction",K,O.Ay.sources.USER)},indent(K){const i=this.quill.getSelection(),f=this.quill.getFormat(i),F=parseInt(f.indent||0,10);if(K==="+1"||K==="-1"){let ct=K==="+1"?1:-1;f.direction==="rtl"&&(ct*=-1),this.quill.format("indent",F+ct,O.Ay.sources.USER)}},link(K){K===!0&&(K=prompt("Enter link URL:")),this.quill.format("link",K,O.Ay.sources.USER)},list(K){const i=this.quill.getSelection(),f=this.quill.getFormat(i);K==="check"?f.list==="checked"||f.list==="unchecked"?this.quill.format("list",!1,O.Ay.sources.USER):this.quill.format("list","unchecked",O.Ay.sources.USER):this.quill.format("list",K,O.Ay.sources.USER)}}};const Ut='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var xt={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Ut,"code-block":Ut,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let Tt=0;function Lt(K,i){K.setAttribute(i,`${K.getAttribute(i)!=="true"}`)}var Pt=class{constructor(K){this.select=K,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),i.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Lt(this.label,"aria-expanded"),Lt(this.options,"aria-hidden")}buildItem(K){const i=document.createElement("span");i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item");const f=K.getAttribute("value");return f&&i.setAttribute("data-value",f),K.textContent&&i.setAttribute("data-label",K.textContent),i.addEventListener("click",()=>{this.selectItem(i,!0)}),i.addEventListener("keydown",F=>{switch(F.key){case"Enter":this.selectItem(i,!0),F.preventDefault();break;case"Escape":this.escape(),F.preventDefault()}}),i}buildLabel(){const K=document.createElement("span");return K.classList.add("ql-picker-label"),K.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',K.tabIndex="0",K.setAttribute("role","button"),K.setAttribute("aria-expanded","false"),this.container.appendChild(K),K}buildOptions(){const K=document.createElement("span");K.classList.add("ql-picker-options"),K.setAttribute("aria-hidden","true"),K.tabIndex="-1",K.id=`ql-picker-options-${Tt}`,Tt+=1,this.label.setAttribute("aria-controls",K.id),this.options=K,Array.from(this.select.options).forEach(i=>{const f=this.buildItem(i);K.appendChild(f),i.selected===!0&&this.selectItem(f)}),this.container.appendChild(K)}buildPicker(){Array.from(this.select.attributes).forEach(K=>{this.container.setAttribute(K.name,K.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(K){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const f=this.container.querySelector(".ql-selected");K!==f&&(f?.classList.remove("ql-selected"),K!=null&&(K.classList.add("ql-selected"),this.select.selectedIndex=Array.from(K.parentNode.children).indexOf(K),K.hasAttribute("data-value")?this.label.setAttribute("data-value",K.getAttribute("data-value")):this.label.removeAttribute("data-value"),K.hasAttribute("data-label")?this.label.setAttribute("data-label",K.getAttribute("data-label")):this.label.removeAttribute("data-label"),i&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let K;if(this.select.selectedIndex>-1){const f=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];K=this.select.options[this.select.selectedIndex],this.selectItem(f)}else this.selectItem(null);const i=K!=null&&K!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}},Dt=class extends Pt{constructor(K,i){super(K),this.label.innerHTML=i,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(f=>{f.classList.add("ql-primary")})}buildItem(K){const i=super.buildItem(K);return i.style.backgroundColor=K.getAttribute("value")||"",i}selectItem(K,i){super.selectItem(K,i);const f=this.label.querySelector(".ql-color-label"),F=K&&K.getAttribute("data-value")||"";f&&(f.tagName==="line"?f.style.stroke=F:f.style.fill=F)}},Zt=class extends Pt{constructor(K,i){super(K),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(f=>{f.innerHTML=i[f.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(K,i){super.selectItem(K,i);const f=K||this.defaultItem;if(f!=null){if(this.label.innerHTML===f.innerHTML)return;this.label.innerHTML=f.innerHTML}}},Jt=class{constructor(K,i){this.quill=K,this.boundsContainer=i||document.body,this.root=K.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(f=>{const{overflowY:F}=getComputedStyle(f,null);return F!=="visible"&&F!=="clip"})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(K){const i=K.left+K.width/2-this.root.offsetWidth/2,f=K.bottom+this.quill.root.scrollTop;this.root.style.left=`${i}px`,this.root.style.top=`${f}px`,this.root.classList.remove("ql-flip");const F=this.boundsContainer.getBoundingClientRect(),ct=this.root.getBoundingClientRect();let vt=0;if(ct.right>F.right&&(vt=F.right-ct.right,this.root.style.left=`${i+vt}px`),ct.left<F.left&&(vt=F.left-ct.left,this.root.style.left=`${i+vt}px`),ct.bottom>F.bottom){const jt=ct.bottom-ct.top,Ht=K.bottom-K.top+jt;this.root.style.top=f-Ht+"px",this.root.classList.add("ql-flip")}return vt}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},re=Bt(8347),$t=Bt(5374),ye=Bt(9609);const pt=[!1,"center","right","justify"],d=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],P=["1","2","3",!1],nt=["small",!1,"large","huge"];class at extends ye.A{constructor(i,f){super(i,f);const F=ct=>{document.body.contains(i.root)?(this.tooltip==null||this.tooltip.root.contains(ct.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(vt=>{vt.container.contains(ct.target)||vt.close()})):document.body.removeEventListener("click",F)};i.emitter.listenDOM("click",document.body,F)}addModule(i){const f=super.addModule(i);return i==="toolbar"&&this.extendToolbar(f),f}buildButtons(i,f){Array.from(i).forEach(F=>{(F.getAttribute("class")||"").split(/\s+/).forEach(ct=>{if(ct.startsWith("ql-")&&(ct=ct.slice(3),f[ct]!=null))if(ct==="direction")F.innerHTML=f[ct][""]+f[ct].rtl;else if(typeof f[ct]=="string")F.innerHTML=f[ct];else{const vt=F.value||"";vt!=null&&f[ct][vt]&&(F.innerHTML=f[ct][vt])}})})}buildPickers(i,f){this.pickers=Array.from(i).map(F=>{if(F.classList.contains("ql-align")&&(F.querySelector("option")==null&&gt(F,pt),typeof f.align=="object"))return new Zt(F,f.align);if(F.classList.contains("ql-background")||F.classList.contains("ql-color")){const ct=F.classList.contains("ql-background")?"background":"color";return F.querySelector("option")==null&&gt(F,d,ct==="background"?"#ffffff":"#000000"),new Dt(F,f[ct])}return F.querySelector("option")==null&&(F.classList.contains("ql-font")?gt(F,q):F.classList.contains("ql-header")?gt(F,P):F.classList.contains("ql-size")&&gt(F,nt)),new Pt(F)}),this.quill.on($t.A.events.EDITOR_CHANGE,()=>{this.pickers.forEach(F=>{F.update()})})}}at.DEFAULTS=(0,re.A)({},ye.A.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),K.classList.add("ql-image"),K.addEventListener("change",()=>{const i=this.quill.getSelection(!0);this.quill.uploader.upload(i,K.files),K.value=""}),this.container.appendChild(K)),K.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class st extends Jt{constructor(i,f){super(i,f),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",i=>{i.key==="Enter"?(this.save(),i.preventDefault()):i.key==="Escape"&&(this.cancel(),i.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;f!=null?this.textbox.value=f:i!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const F=this.quill.getBounds(this.quill.selection.savedRange);F!=null&&this.position(F),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${i}`)||""),this.root.setAttribute("data-mode",i)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:i}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:f}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",i,$t.A.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",i,$t.A.sources.USER)),this.quill.root.scrollTop=f;break}case"video":i=function(f){let F=f.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||f.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?`${F[1]||"https"}://www.youtube.com/embed/${F[2]}?showinfo=0`:(F=f.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${F[1]||"https"}://player.vimeo.com/video/${F[2]}/`:f}(i);case"formula":{if(!i)break;const f=this.quill.getSelection(!0);if(f!=null){const F=f.index+f.length;this.quill.insertEmbed(F,this.root.getAttribute("data-mode"),i,$t.A.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(F+1," ",$t.A.sources.USER),this.quill.setSelection(F+2,$t.A.sources.USER)}break}}this.textbox.value="",this.hide()}}function gt(K,i){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.forEach(F=>{const ct=document.createElement("option");F===f?ct.setAttribute("selected","selected"):ct.setAttribute("value",String(F)),K.appendChild(ct)})}var yt=Bt(8298);const qt=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class St extends st{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(i,f){super(i,f),this.quill.on($t.A.events.EDITOR_CHANGE,(F,ct,vt,jt)=>{if(F===$t.A.events.SELECTION_CHANGE)if(ct!=null&&ct.length>0&&jt===$t.A.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const Ht=this.quill.getLines(ct.index,ct.length);if(Ht.length===1){const oe=this.quill.getBounds(ct);oe!=null&&this.position(oe)}else{const oe=Ht[Ht.length-1],he=this.quill.getIndex(oe),fe=Math.min(oe.length()-1,ct.index+ct.length-he),pe=this.quill.getBounds(new yt.Q(he,fe));pe!=null&&this.position(pe)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on($t.A.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const i=this.quill.getSelection();if(i!=null){const f=this.quill.getBounds(i);f!=null&&this.position(f)}},1)})}cancel(){this.show()}position(i){const f=super.position(i),F=this.root.querySelector(".ql-tooltip-arrow");return F.style.marginLeft="",f!==0&&(F.style.marginLeft=-1*f-F.offsetWidth/2+"px"),f}}class Ot extends at{constructor(i,f){f.modules.toolbar!=null&&f.modules.toolbar.container==null&&(f.modules.toolbar.container=qt),super(i,f),this.quill.container.classList.add("ql-bubble")}extendToolbar(i){this.tooltip=new St(this.quill,this.options.bounds),i.container!=null&&(this.tooltip.root.appendChild(i.container),this.buildButtons(i.container.querySelectorAll("button"),xt),this.buildPickers(i.container.querySelectorAll("select"),xt))}}Ot.DEFAULTS=(0,re.A)({},at.DEFAULTS,{modules:{toolbar:{handlers:{link(K){K?this.quill.theme.tooltip.edit():this.quill.format("link",!1,O.Ay.sources.USER)}}}}});const _t=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Nt extends st{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",i=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),i.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",i=>{if(this.linkRange!=null){const f=this.linkRange;this.restoreFocus(),this.quill.formatText(f,"link",!1,$t.A.sources.USER),delete this.linkRange}i.preventDefault(),this.hide()}),this.quill.on($t.A.events.SELECTION_CHANGE,(i,f,F)=>{if(i!=null){if(i.length===0&&F===$t.A.sources.USER){const[ct,vt]=this.quill.scroll.descendant(j,i.index);if(ct!=null){this.linkRange=new yt.Q(i.index-vt,ct.length());const jt=j.formats(ct.domNode);this.preview.textContent=jt,this.preview.setAttribute("href",jt),this.show();const Ht=this.quill.getBounds(this.linkRange);return void(Ht!=null&&this.position(Ht))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class Ct extends at{constructor(i,f){f.modules.toolbar!=null&&f.modules.toolbar.container==null&&(f.modules.toolbar.container=_t),super(i,f),this.quill.container.classList.add("ql-snow")}extendToolbar(i){i.container!=null&&(i.container.classList.add("ql-snow"),this.buildButtons(i.container.querySelectorAll("button"),xt),this.buildPickers(i.container.querySelectorAll("select"),xt),this.tooltip=new Nt(this.quill,this.options.bounds),i.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(f,F)=>{i.handlers.link.call(i,!F.format.link)}))}}Ct.DEFAULTS=(0,re.A)({},at.DEFAULTS,{modules:{toolbar:{handlers:{link(K){if(K){const i=this.quill.getSelection();if(i==null||i.length===0)return;let f=this.quill.getText(i);/^\S+@\S+\.\S+$/.test(f)&&f.indexOf("mailto:")!==0&&(f=`mailto:${f}`);const{tooltip:F}=this.quill.theme;F.edit("link",f)}else this.quill.format("link",!1,O.Ay.sources.USER)}}}}});var ne=Ct;ot.default.register({"attributors/attribute/direction":t.Mc,"attributors/class/align":x.qh,"attributors/class/background":R.l,"attributors/class/color":D.g3,"attributors/class/direction":t.sY,"attributors/class/font":X.q,"attributors/class/size":lt.U,"attributors/style/align":x.Hu,"attributors/style/background":R.s,"attributors/style/color":D.JM,"attributors/style/direction":t.VL,"attributors/style/font":X.z,"attributors/style/size":lt.r},!0),ot.default.register({"formats/align":x.qh,"formats/direction":t.sY,"formats/indent":M,"formats/background":R.s,"formats/color":D.JM,"formats/font":X.q,"formats/size":lt.U,"formats/blockquote":c,"formats/code-block":_.Ay,"formats/header":l,"formats/list":A,"formats/bold":m,"formats/code":_.Cy,"formats/italic":class extends m{static blotName="italic";static tagName=["EM","I"]},"formats/link":j,"formats/script":G,"formats/strike":class extends m{static blotName="strike";static tagName=["S","STRIKE"]},"formats/underline":W,"formats/formula":$,"formats/image":v,"formats/video":n,"modules/syntax":tt,"modules/table":At,"modules/toolbar":Rt,"themes/bubble":Ot,"themes/snow":ne,"ui/icons":xt,"ui/picker":Pt,"ui/icon-picker":Zt,"ui/color-picker":Dt,"ui/tooltip":Jt},!0);var Qt=ot.default}(),Yt.default}()}),function(Ee,Kt){typeof exports=="object"&&typeof module=="object"?module.exports=Kt(require("quill")):typeof define=="function"&&define.amd?define(["quill"],Kt):typeof exports=="object"?exports.quillBetterTable=Kt(require("quill")):Ee.quillBetterTable=Kt(Ee.Quill)}(window,function(Ee){return function(Kt){var Bt=window.webpackHotUpdatequillBetterTable;window.webpackHotUpdatequillBetterTable=function(U,W){(function(Q,ut){if(!(!lt[Q]||!X[Q])){for(var $ in X[Q]=!1,ut)Object.prototype.hasOwnProperty.call(ut,$)&&(O[$]=ut[$]);--A==0&&R===0&&j()}})(U,W),Bt&&Bt(U,W)};var Yt,ot=!0,x="4e3f8499cfb63ceb338e",t=1e4,a={},w=[],M=[];function N(U){var W=B[U];if(!W)return G;var Q=function(H){return W.hot.active?(B[H]?B[H].parents.indexOf(U)===-1&&B[H].parents.push(U):(w=[U],Yt=H),W.children.indexOf(H)===-1&&W.children.push(H)):(console.warn("[HMR] unexpected require("+H+") from disposed module "+U),w=[]),G(H)},ut=function(H){return{configurable:!0,enumerable:!0,get:function(){return G[H]},set:function(ht){G[H]=ht}}};for(var $ in G)Object.prototype.hasOwnProperty.call(G,$)&&$!=="e"&&$!=="t"&&Object.defineProperty(Q,$,ut($));return Q.e=function(H){return S==="ready"&&l("prepare"),R++,G.e(H).then(ht,function(v){throw ht(),v});function ht(){R--,S==="prepare"&&(D[H]||m(H),R===0&&A===0&&j())}},Q.t=function(H,ht){return 1&ht&&(H=Q(H)),G.t(H,-2&ht)},Q}function I(U){var W={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:Yt!==U,active:!0,accept:function(Q,ut){if(Q===void 0)W._selfAccepted=!0;else if(typeof Q=="function")W._selfAccepted=Q;else if(typeof Q=="object")for(var $=0;$<Q.length;$++)W._acceptedDependencies[Q[$]]=ut||function(){};else W._acceptedDependencies[Q]=ut||function(){}},decline:function(Q){if(Q===void 0)W._selfDeclined=!0;else if(typeof Q=="object")for(var ut=0;ut<Q.length;ut++)W._declinedDependencies[Q[ut]]=!0;else W._declinedDependencies[Q]=!0},dispose:function(Q){W._disposeHandlers.push(Q)},addDisposeHandler:function(Q){W._disposeHandlers.push(Q)},removeDisposeHandler:function(Q){var ut=W._disposeHandlers.indexOf(Q);ut>=0&&W._disposeHandlers.splice(ut,1)},check:J,apply:Y,status:function(Q){if(!Q)return S;c.push(Q)},addStatusHandler:function(Q){c.push(Q)},removeStatusHandler:function(Q){var ut=c.indexOf(Q);ut>=0&&c.splice(ut,1)},data:a[U]};return Yt=void 0,W}var c=[],S="idle";function l(U){S=U;for(var W=0;W<c.length;W++)c[W].call(null,U)}var L,O,g,A=0,R=0,D={},X={},lt={};function ft(U){return+U+""===U?+U:U}function J(U){if(S!=="idle")throw new Error("check() is only allowed in idle status");return ot=U,l("check"),(W=t,W=W||1e4,new Promise(function(Q,ut){if(typeof XMLHttpRequest>"u")return ut(new Error("No browser support"));try{var $=new XMLHttpRequest,H=G.p+""+x+".hot-update.json";$.open("GET",H,!0),$.timeout=W,$.send(null)}catch(ht){return ut(ht)}$.onreadystatechange=function(){if($.readyState===4)if($.status===0)ut(new Error("Manifest request to "+H+" timed out."));else if($.status===404)Q();else if($.status!==200&&$.status!==304)ut(new Error("Manifest request to "+H+" failed."));else{try{var ht=JSON.parse($.responseText)}catch(v){return void ut(v)}Q(ht)}}})).then(function(Q){if(!Q)return l("idle"),null;X={},D={},lt=Q.c,g=Q.h,l("prepare");var ut=new Promise(function($,H){L={resolve:$,reject:H}});return O={},m(0),S==="prepare"&&R===0&&A===0&&j(),ut});var W}function m(U){lt[U]?(X[U]=!0,A++,function(W){var Q=document.createElement("script");Q.charset="utf-8",Q.src=G.p+""+W+"."+x+".hot-update.js",document.head.appendChild(Q)}(U)):D[U]=!0}function j(){l("ready");var U=L;if(L=null,U)if(ot)Promise.resolve().then(function(){return Y(ot)}).then(function(ut){U.resolve(ut)},function(ut){U.reject(ut)});else{var W=[];for(var Q in O)Object.prototype.hasOwnProperty.call(O,Q)&&W.push(ft(Q));U.resolve(W)}}function Y(U){if(S!=="ready")throw new Error("apply() is only allowed in ready status");var W,Q,ut,$,H;function ht(wt){for(var At=[wt],kt={},Rt=At.map(function(Dt){return{chain:[Dt],id:Dt}});Rt.length>0;){var Wt=Rt.pop(),Ut=Wt.id,xt=Wt.chain;if(($=B[Ut])&&!$.hot._selfAccepted){if($.hot._selfDeclined)return{type:"self-declined",chain:xt,moduleId:Ut};if($.hot._main)return{type:"unaccepted",chain:xt,moduleId:Ut};for(var Tt=0;Tt<$.parents.length;Tt++){var Lt=$.parents[Tt],Pt=B[Lt];if(Pt){if(Pt.hot._declinedDependencies[Ut])return{type:"declined",chain:xt.concat([Lt]),moduleId:Ut,parentId:Lt};At.indexOf(Lt)===-1&&(Pt.hot._acceptedDependencies[Ut]?(kt[Lt]||(kt[Lt]=[]),v(kt[Lt],[Ut])):(delete kt[Lt],At.push(Lt),Rt.push({chain:xt.concat([Lt]),id:Lt})))}}}}return{type:"accepted",moduleId:wt,outdatedModules:At,outdatedDependencies:kt}}function v(wt,At){for(var kt=0;kt<At.length;kt++){var Rt=At[kt];wt.indexOf(Rt)===-1&&wt.push(Rt)}}U=U||{};var e={},r=[],n={},_=function(){console.warn("[HMR] unexpected require("+u.moduleId+") to disposed module")};for(var h in O)if(Object.prototype.hasOwnProperty.call(O,h)){var u;H=ft(h);var k=!1,T=!1,b=!1,s="";switch((u=O[h]?ht(H):{type:"disposed",moduleId:h}).chain&&(s=`
Update propagation: `+u.chain.join(" -> ")),u.type){case"self-declined":U.onDeclined&&U.onDeclined(u),U.ignoreDeclined||(k=new Error("Aborted because of self decline: "+u.moduleId+s));break;case"declined":U.onDeclined&&U.onDeclined(u),U.ignoreDeclined||(k=new Error("Aborted because of declined dependency: "+u.moduleId+" in "+u.parentId+s));break;case"unaccepted":U.onUnaccepted&&U.onUnaccepted(u),U.ignoreUnaccepted||(k=new Error("Aborted because "+H+" is not accepted"+s));break;case"accepted":U.onAccepted&&U.onAccepted(u),T=!0;break;case"disposed":U.onDisposed&&U.onDisposed(u),b=!0;break;default:throw new Error("Unexception type "+u.type)}if(k)return l("abort"),Promise.reject(k);if(T)for(H in n[H]=O[H],v(r,u.outdatedModules),u.outdatedDependencies)Object.prototype.hasOwnProperty.call(u.outdatedDependencies,H)&&(e[H]||(e[H]=[]),v(e[H],u.outdatedDependencies[H]));b&&(v(r,[u.moduleId]),n[H]=_)}var o,p=[];for(Q=0;Q<r.length;Q++)H=r[Q],B[H]&&B[H].hot._selfAccepted&&n[H]!==_&&p.push({module:H,errorHandler:B[H].hot._selfAccepted});l("dispose"),Object.keys(lt).forEach(function(wt){lt[wt]===!1&&function(At){delete installedChunks[At]}(wt)});for(var E,C,V=r.slice();V.length>0;)if(H=V.pop(),$=B[H]){var tt={},et=$.hot._disposeHandlers;for(ut=0;ut<et.length;ut++)(W=et[ut])(tt);for(a[H]=tt,$.hot.active=!1,delete B[H],delete e[H],ut=0;ut<$.children.length;ut++){var it=B[$.children[ut]];it&&(o=it.parents.indexOf(H))>=0&&it.parents.splice(o,1)}}for(H in e)if(Object.prototype.hasOwnProperty.call(e,H)&&($=B[H]))for(C=e[H],ut=0;ut<C.length;ut++)E=C[ut],(o=$.children.indexOf(E))>=0&&$.children.splice(o,1);for(H in l("apply"),x=g,n)Object.prototype.hasOwnProperty.call(n,H)&&(Kt[H]=n[H]);var dt=null;for(H in e)if(Object.prototype.hasOwnProperty.call(e,H)&&($=B[H])){C=e[H];var bt=[];for(Q=0;Q<C.length;Q++)if(E=C[Q],W=$.hot._acceptedDependencies[E]){if(bt.indexOf(W)!==-1)continue;bt.push(W)}for(Q=0;Q<bt.length;Q++){W=bt[Q];try{W(C)}catch(wt){U.onErrored&&U.onErrored({type:"accept-errored",moduleId:H,dependencyId:C[Q],error:wt}),U.ignoreErrored||dt||(dt=wt)}}}for(Q=0;Q<p.length;Q++){var mt=p[Q];H=mt.module,w=[H];try{G(H)}catch(wt){if(typeof mt.errorHandler=="function")try{mt.errorHandler(wt)}catch(At){U.onErrored&&U.onErrored({type:"self-accept-error-handler-errored",moduleId:H,error:At,originalError:wt}),U.ignoreErrored||dt||(dt=At),dt||(dt=wt)}else U.onErrored&&U.onErrored({type:"self-accept-errored",moduleId:H,error:wt}),U.ignoreErrored||dt||(dt=wt)}}return dt?(l("fail"),Promise.reject(dt)):(l("idle"),new Promise(function(wt){wt(r)}))}var B={};function G(U){if(B[U])return B[U].exports;var W=B[U]={i:U,l:!1,exports:{},hot:I(U),parents:(M=w,w=[],M),children:[]};return Kt[U].call(W.exports,W,W.exports,N(U)),W.l=!0,W.exports}return G.m=Kt,G.c=B,G.d=function(U,W,Q){G.o(U,W)||Object.defineProperty(U,W,{enumerable:!0,get:Q})},G.r=function(U){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})},G.t=function(U,W){if(1&W&&(U=G(U)),8&W||4&W&&typeof U=="object"&&U&&U.__esModule)return U;var Q=Object.create(null);if(G.r(Q),Object.defineProperty(Q,"default",{enumerable:!0,value:U}),2&W&&typeof U!="string")for(var ut in U)G.d(Q,ut,function($){return U[$]}.bind(null,ut));return Q},G.n=function(U){var W=U&&U.__esModule?function(){return U.default}:function(){return U};return G.d(W,"a",W),W},G.o=function(U,W){return Object.prototype.hasOwnProperty.call(U,W)},G.p="",G.h=function(){return x},N(10)(G.s=10)}([function(Kt,Bt){Kt.exports=Ee},function(Kt,Bt){Kt.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 336.64h526.628572v43.885714H73.142857zM73.142857 643.657143h526.628572v43.885714H73.142857zM336.457143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857h-219.428571v877.714286h219.428571a131.657143 131.657143 0 0 0 131.657143-131.657143V204.8A131.84 131.84 0 0 0 819.2 73.142857z m44.068571 460.982857h-65.828571v65.828572H753.371429v-65.828572h-65.828572V490.057143h65.828572v-65.828572h44.068571v65.828572h65.828571z"/></svg>'},function(Kt,Bt){Kt.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M380.342857 336.457143h526.811429v43.885714H380.342857z m0 307.2h526.811429v43.885714H380.342857zM643.657143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.582857A131.474286 131.474286 0 0 1 950.857143 204.8v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.588571 87.771429v614.4a87.588571 87.588571 0 0 0 87.588571 87.771429h614.582857a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM204.8 73.142857A131.657143 131.657143 0 0 0 73.142857 204.8v614.4a131.657143 131.657143 0 0 0 131.657143 131.657143h219.428571V73.142857z m131.84 460.8h-65.828571v65.828572h-43.885715v-65.828572h-65.828571v-43.885714h65.828571v-65.828572h43.885715v65.828572h65.828571z"/></svg>'},function(Kt,Bt){Kt.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 599.771429h877.714286v43.885714H73.142857zM336.457143 380.342857h43.885714v526.628572h-43.885714z m307.2 0h43.885714v526.628572h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.588571 87.588571 0 0 0 87.771429 87.771429h614.4a87.588571 87.588571 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857H204.8A131.657143 131.657143 0 0 0 73.142857 204.8v219.428571h877.714286v-219.428571A131.657143 131.657143 0 0 0 819.2 73.142857z m-219.428571 197.485714h-65.828572v65.828572h-43.885714v-65.828572h-65.828572v-43.885714h65.828572V160.914286h43.885714v65.828571h65.828572z"/></svg>'},function(Kt,Bt){Kt.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v44.068571H73.142857zM336.64 117.028571h43.885714v526.628572h-43.885714z m307.017143 0h44.068571v526.628572H643.657143zM73.142857 599.771429v219.428571a131.657143 131.657143 0 0 0 131.657143 131.657143h614.4a131.657143 131.657143 0 0 0 131.657143-131.657143v-219.428571z m526.628572 197.485714h-65.645715v65.828571H490.057143v-65.828571h-65.828572v-43.885714h65.828572v-65.828572h44.068571v65.828572h65.645715z"/></svg>'},function(Kt,Bt){Kt.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-277.850505 5.559596v226.909091H375.725253V104.59798h272.420202zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v226.909091H103.434343V195.361616z m90.763637 726.367677c-24.048485 0-47.191919-9.567677-64.129293-26.634344-17.066667-17.066667-26.634343-40.080808-26.634344-64.129292V649.309091h226.909091v272.420202H194.19798z m181.527273 0V649.309091h272.290909v272.420202H375.725253z m544.711111-90.892929c0 24.048485-9.567677 47.191919-26.634344 64.129293-17.066667 17.066667-40.080808 26.634343-64.129293 26.634343H693.527273V649.309091h226.909091v181.527273zM693.527273 331.507071V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.145455H693.527273z"/></svg>'},function(Kt,Bt){Kt.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M336.457143 73.142857h43.885714v877.714286h-43.885714z m307.382857 0h43.702857v877.714286h-43.702857z m-438.857143 0h614.4A131.657143 131.657143 0 0 1 950.857143 204.8v614.4a131.474286 131.474286 0 0 1-131.474286 131.657143h-614.4A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.982857 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.771428 87.771429v614.4a87.588571 87.588571 0 0 0 87.771428 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v307.2H73.142857z m292.571429 43.885714v219.428572h292.571428v-219.428572z"/></svg>'},function(Kt,Bt){Kt.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.996 99.038c-25.47-25.6-60.121-39.822-96.323-39.822H194.198c-75.12 0.13-136.016 61.026-136.145 136.146v635.345c0 36.073 14.351 70.723 39.822 96.323 25.6 25.73 60.25 40.081 96.323 40.081h635.475c36.072 0 70.723-14.351 96.323-39.951 25.6-25.6 39.951-60.122 39.951-96.324V195.362c0-36.073-14.351-70.724-39.951-96.324z m-365.77 494.287L512 545.228l-48.226 48.097-32.194-31.935 48.355-48.226-48.226-48.097 32.194-32.194L512 480.97l48.097-48.097 32.194 32.194-48.097 48.097 48.226 48.226-32.194 31.935zM103.434 195.362c0-24.049 9.568-47.192 26.635-64.13 17.066-17.066 40.08-26.634 64.129-26.634h136.145v226.91H103.434V195.361z m0 181.656h226.91V649.31h-226.91V377.02z m90.764 544.84c-24.049 0-47.192-9.567-64.13-26.634-17.066-17.066-26.634-40.08-26.634-64.258V694.69h226.91v227.168H194.197z m726.238-90.763c0 24.048-9.438 47.192-26.505 64.259-17.066 17.066-40.21 26.634-64.258 26.505H693.527V694.69h226.91v136.404z m0-181.786H693.527V377.02h226.91v272.29zM693.527 331.507V104.598h136.146c24.048 0 47.192 9.438 64.258 26.505 17.067 17.067 26.635 40.21 26.505 64.259v136.145H693.527z"/></svg>'},function(Kt,Bt){Kt.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-550.270707 5.559596h272.290909v227.167677H375.725253V104.59798z m56.242424 360.468687l31.935353-32.19394 48.09697 48.226263 48.09697-48.226263 32.193939 32.19394-48.09697 48.096969 48.226263 48.226263-32.193939 31.935354-48.226263-48.09697-48.226263 48.09697-31.935353-31.935354 48.226262-48.226263-48.096969-48.096969zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v227.167677H103.434343V195.361616z m817.002021 635.733333c0 24.048485-9.567677 47.191919-26.634344 64.258586-17.066667 17.066667-40.080808 26.634343-64.129293 26.634344H194.19798c-24.048485 0-47.191919-9.567677-64.258586-26.634344C112.872727 878.157576 103.434343 855.014141 103.434343 830.836364V694.690909h226.909091v226.909091h45.381819V694.690909h272.290909v226.909091h45.381818V694.690909h226.909091v136.40404z m0-499.329292H693.527273V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.404041z"/></svg>'},function(Kt,Bt){Kt.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M764.42168889 830.5152c0 30.23530667-24.61013333 54.84430222-54.84316444 54.84430222H314.42147555c-30.23416889 0-54.84316445-24.61013333-54.84316444-54.84430222V248.32796445h504.84337778v582.18723555zM369.26577778 149.89084445c0-6.32832 4.92202667-11.25034667 11.25034667-11.25034667H644.18702222c6.32832 0 11.25034667 4.92202667 11.25034667 11.25034667v33.04675555H369.26577778V149.89084445z m559.68768 33.04675555H720.82773333V149.89084445c0-42.1888-34.45191111-76.64071111-76.64071111-76.64071112H380.51612445c-42.1888 0-76.64071111 34.45191111-76.64071112 76.64071112v33.04675555h-208.82773333c-18.28181333 0-33.04789333 14.76608-33.04789333 33.04675555s14.76608 33.04675555 33.04675555 33.04675556h98.43825778v581.48408889c0 66.79779555 54.14001778 120.93781333 120.93667555 120.93781333h395.1570489c66.79665778 0 120.93667555-54.14001778 120.93667555-120.93781333V248.32796445h98.43825778c18.28067555 0 33.04675555-14.76494222 33.04675555-33.04675556s-14.76608-32.34360889-33.04675555-32.34360889zM512 786.21923555c18.28181333 0 33.04675555-14.76608 33.04675555-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675555-33.04675556s-33.04675555 14.76494222-33.04675555 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675555 33.04789333m-153.98456889 0c18.28181333 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0.70314667 18.28181333 15.46922667 33.04789333 33.04675556 33.04789333m307.96913778 0c18.28067555 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76608-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675556 33.04789333"/></svg>'},function(Kt,Bt,Yt){Kt.exports=Yt(11)},function(Kt,Bt,Yt){"use strict";Yt.r(Bt);var ot=Yt(0),x=Yt.n(ot);function t(pt,d){if(typeof d=="object")for(let q in d)pt.style[q]=d[q]}function a(pt,d){let q=d.getBoundingClientRect();return{x:pt.x-q.x-d.scrollLeft,y:pt.y-q.y-d.scrollTop,x1:pt.x-q.x-d.scrollLeft+pt.width,y1:pt.y-q.y-d.scrollTop+pt.height,width:pt.width,height:pt.height}}function w(pt,d){return pt&&Object.keys(pt).reduce((q,P)=>d.includes(P)?q:Object.assign({},q,{[P]:pt[P]}),{})}function M(pt){let d;if((d=pt.path||pt.composedPath&&pt.composedPath())==null&&pt.target){d=[];let q=pt.target;for(d.push(q);q&&q.parentNode;)q=q.parentNode,d.push(q)}return d}const N=12,I=12,c=50,S="#35A7ED";class l{constructor(d,q,P){if(!d)return null;this.table=d,this.quill=q,this.options=P,this.domNode=null,this.initColTool()}initColTool(){const d=this.quill.root.parentNode,q=(this.table.getBoundingClientRect(),d.getBoundingClientRect()),P=this.table.parentNode.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-col-tool"),this.updateToolCells(),d.appendChild(this.domNode),t(this.domNode,{width:"".concat(P.width,"px"),height:"".concat(N,"px"),left:"".concat(P.left-q.left+d.scrollLeft,"px"),top:"".concat(P.top-q.top+d.scrollTop-N-5,"px")})}createToolCell(){const d=document.createElement("div");d.classList.add("qlbt-col-tool-cell");const q=document.createElement("div");return q.classList.add("qlbt-col-tool-cell-holder"),t(d,{height:"".concat(I,"px")}),d.appendChild(q),d}updateToolCells(){const d=x.a.find(this.table),q=d.children.tail.children.head.children,P=d.colGroup().children,nt=function(st){return st.reduce((gt,yt)=>{const qt=yt.formats().colspan;return gt+=parseInt(qt,10)},0)}(q);let at=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"));for(let st=0;st<Math.max(nt,at.length);st++){let gt=P.at(st),yt=gt&&parseInt(gt.formats()[gt.statics.blotName].width,10),qt=null;at[st]?at[st]&&st>=nt?at[st].remove():t(qt=at[st],{"min-width":"".concat(yt,"px")}):(qt=this.createToolCell(),this.domNode.appendChild(qt),this.addColCellHolderHandler(qt),t(qt,{"min-width":"".concat(yt,"px")}))}}destroy(){return this.domNode.remove(),null}addColCellHolderHandler(d){const q=x.a.find(this.table),P=d.querySelector(".qlbt-col-tool-cell-holder");let nt=!1,at=0,st=0,gt=0,yt=0,qt={},St={},Ot=null;const _t=Ct=>{Ct.preventDefault(),nt&&(st=Ct.clientX,gt=yt+st-at>=c?st-at:c-yt,t(Ot,{left:"".concat(St.left+St.width-1+gt,"px")}))},Nt=Ct=>{Ct.preventDefault();const ne=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell")).indexOf(d),Qt=q.colGroup().children.at(ne);nt&&(Qt.format("width",yt+gt),t(d,{"min-width":"".concat(yt+gt,"px")}),at=0,st=0,gt=0,yt=0,nt=!1,P.classList.remove("dragging")),document.removeEventListener("mousemove",_t,!1),document.removeEventListener("mouseup",Nt,!1),qt={},St={},Ot.remove(),Ot=null,q.updateTableWidth();const K=this.quill.getModule("better-table").tableSelection;K&&K.clearSelection()};P.addEventListener("mousedown",Ct=>{document.addEventListener("mousemove",_t,!1),document.addEventListener("mouseup",Nt,!1),qt=this.table.getBoundingClientRect(),St=d.getBoundingClientRect(),t(Ot=document.createElement("div"),{position:"fixed",top:"".concat(St.top,"px"),left:"".concat(St.left+St.width-1,"px"),zIndex:"100",height:"".concat(qt.height+N+4,"px"),width:"1px",backgroundColor:S}),document.body.appendChild(Ot),nt=!0,at=Ct.clientX,yt=St.width,P.classList.add("dragging")},!1)}colToolCells(){return Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"))}}const L=x.a.import("blots/block");class O extends L{static create(d){typeof d=="string"&&(d={value:d});const q=super.create(d.value);return ft.forEach(P=>{d[P]&&q.setAttribute("data-".concat(P),d[P])}),J.forEach(P=>{d[P]&&q.setAttribute("data-".concat(P),d[P])}),q}static formats(d){const q={};return q.value=this.tagName.indexOf(d.tagName)+1,J.concat(ft).reduce((P,nt)=>(d.hasAttribute("data-".concat(nt))&&(P[nt]=d.getAttribute("data-".concat(nt))||void 0),P),q)}format(d,q){const{row:P,cell:nt,rowspan:at,colspan:st}=O.formats(this.domNode);d===O.blotName?q?super.format(d,{value:q,row:P,cell:nt,rowspan:at,colspan:st}):P?this.replaceWith(Y.blotName,{row:P,cell:nt,rowspan:at,colspan:st}):super.format(d,q):super.format(d,q)}optimize(d){const{row:q,rowspan:P,colspan:nt}=O.formats(this.domNode);if(!q||this.parent instanceof B||this.wrap(B.blotName,{row:q,colspan:nt,rowspan:P}),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const at=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(at)}else this.remove();this.cache={}}}O.blotName="header",O.tagName=["H1","H2","H3","H4","H5","H6"];var g=O;const A=x.a.import("blots/break"),R=x.a.import("blots/block"),D=x.a.import("blots/container"),X=["width"],lt={width:100},ft=["row","cell"],J=["rowspan","colspan"],m={rowspan:1,colspan:1},j=5;class Y extends R{static create(d){const q=super.create(d);return ft.forEach(P=>{let nt=P==="row"?H:ht;q.setAttribute("data-".concat(P),d[P]||nt())}),J.forEach(P=>{q.setAttribute("data-".concat(P),d[P]||m[P])}),d["cell-bg"]&&q.setAttribute("data-cell-bg",d["cell-bg"]),q}static formats(d){return J.concat(ft).concat(["cell-bg"]).reduce((q,P)=>(d.hasAttribute("data-".concat(P))&&(q[P]=d.getAttribute("data-".concat(P))||void 0),q),{})}format(d,q){if(J.concat(ft).indexOf(d)>-1)q?this.domNode.setAttribute("data-".concat(d),q):this.domNode.removeAttribute("data-".concat(d));else if(d==="cell-bg")q?this.domNode.setAttribute("data-cell-bg",q):this.domNode.removeAttribute("data-cell-bg");else if(d==="header"){if(!q)return;const{row:P,cell:nt,rowspan:at,colspan:st}=Y.formats(this.domNode);super.format(d,{value:q,row:P,cell:nt,rowspan:at,colspan:st})}else super.format(d,q)}optimize(d){const q=this.domNode.getAttribute("data-row"),P=this.domNode.getAttribute("data-rowspan"),nt=this.domNode.getAttribute("data-colspan"),at=this.domNode.getAttribute("data-cell-bg");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:q,colspan:nt,rowspan:P,"cell-bg":at}),super.optimize(d)}tableCell(){return this.parent}}Y.blotName="table-cell-line",Y.className="qlbt-cell-line",Y.tagName="P";class B extends D{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const d=this.children.head.formats()[this.children.head.statics.blotName],q=this.children.tail.formats()[this.children.tail.statics.blotName],P=this.next.children.head.formats()[this.next.children.head.statics.blotName],nt=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return d.cell===q.cell&&d.cell===P.cell&&d.cell===nt.cell}return!1}static create(d){const q=super.create(d);return q.setAttribute("data-row",d.row),J.forEach(P=>{d[P]&&q.setAttribute(P,d[P])}),d["cell-bg"]&&(q.setAttribute("data-cell-bg",d["cell-bg"]),q.style.backgroundColor=d["cell-bg"]),q}static formats(d){const q={};return d.hasAttribute("data-row")&&(q.row=d.getAttribute("data-row")),d.hasAttribute("data-cell-bg")&&(q["cell-bg"]=d.getAttribute("data-cell-bg")),J.reduce((P,nt)=>(d.hasAttribute(nt)&&(P[nt]=d.getAttribute(nt)),P),q)}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}formats(){const d={};return this.domNode.hasAttribute("data-row")&&(d.row=this.domNode.getAttribute("data-row")),this.domNode.hasAttribute("data-cell-bg")&&(d["cell-bg"]=this.domNode.getAttribute("data-cell-bg")),J.reduce((q,P)=>(this.domNode.hasAttribute(P)&&(q[P]=this.domNode.getAttribute(P)),q),d)}toggleAttribute(d,q){q?this.domNode.setAttribute(d,q):this.domNode.removeAttribute(d)}formatChildren(d,q){this.children.forEach(P=>{P.format(d,q)})}format(d,q){J.indexOf(d)>-1?(this.toggleAttribute(d,q),this.formatChildren(d,q)):["row"].indexOf(d)>-1?(this.toggleAttribute("data-".concat(d),q),this.formatChildren(d,q)):d==="cell-bg"?(this.toggleAttribute("data-cell-bg",q),this.formatChildren(d,q),this.domNode.style.backgroundColor=q||"initial"):super.format(d,q)}optimize(d){const q=this.domNode.getAttribute("data-row");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:q}),super.optimize(d)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}B.blotName="table",B.tagName="TD";class G extends D{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const d=this.children.head.formats(),q=this.children.tail.formats(),P=this.next.children.head.formats(),nt=this.next.children.tail.formats();return d.row===q.row&&d.row===P.row&&d.row===nt.row}return!1}static create(d){const q=super.create(d);return q.setAttribute("data-row",d.row),q}formats(){return["row"].reduce((d,q)=>(this.domNode.hasAttribute("data-".concat(q))&&(d[q]=this.domNode.getAttribute("data-".concat(q))),d),{})}optimize(d){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}G.blotName="table-row",G.tagName="TR";class U extends D{}U.blotName="table-body",U.tagName="TBODY";class W extends R{static create(d){let q=super.create(d);return X.forEach(P=>{q.setAttribute("".concat(P),d[P]||lt[P])}),q}static formats(d){return X.reduce((q,P)=>(d.hasAttribute("".concat(P))&&(q[P]=d.getAttribute("".concat(P))||void 0),q),{})}format(d,q){X.indexOf(d)>-1?this.domNode.setAttribute("".concat(d),q||lt[d]):super.format(d,q)}html(){return this.domNode.outerHTML}}W.blotName="table-col",W.tagName="col";class Q extends D{}Q.blotName="table-col-group",Q.tagName="colgroup";class ut extends D{static create(){return super.create()}constructor(d,q){super(d,q),this.updateTableWidth()}updateTableWidth(){setTimeout(()=>{const d=this.colGroup();if(!d)return;const q=d.children.reduce((P,nt)=>P+=parseInt(nt.formats()[W.blotName].width,10),0);this.domNode.style.width="".concat(q,"px")},0)}cells(d){return this.rows().map(q=>q.children.at(d))}colGroup(){return this.children.head}deleteColumns(d){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],P=arguments.length>2?arguments[2]:void 0;const[nt]=this.descendants(U);if(nt==null||nt.children.head==null)return;const at=this.descendants(B),st=[],gt=[];if(at.forEach(yt=>{const qt=a(yt.domNode.getBoundingClientRect(),P);qt.x+j>d.x&&qt.x1-j<d.x1?st.push(yt):qt.x<d.x+j&&qt.x1>d.x1-j&&gt.push(yt)}),st.length===at.length)return this.tableDestroy(),!0;q.forEach(yt=>{this.colGroup().children.at(q[0]).remove()}),st.forEach(yt=>{yt.remove()}),gt.forEach(yt=>{const qt=parseInt(yt.formats().colspan,10);parseInt(yt.formats().width,10),yt.format("colspan",qt-q.length)}),this.updateTableWidth()}deleteRow(d,q){const[P]=this.descendants(U);if(P==null||P.children.head==null)return;const nt=this.descendants(B),at=this.descendants(G),st=[],gt=[],yt=[],qt=at.filter(Ot=>{const _t=a(Ot.domNode.getBoundingClientRect(),q);return _t.y>d.y-j&&_t.y1<d.y1+j});if(nt.forEach(Ot=>{const _t=a(Ot.domNode.getBoundingClientRect(),q);_t.y>d.y-j&&_t.y1<d.y1+j?st.push(Ot):_t.y<d.y+j&&_t.y1>d.y1-j&&(gt.push(Ot),Math.abs(_t.y-d.y)<j&&yt.push(Ot))}),st.length===nt.length)return void this.tableDestroy();const St=this.rows().reduce((Ot,_t)=>{let Nt=a(_t.domNode.getBoundingClientRect(),q);return Nt.y>d.y-j&&Nt.y1<d.y1+j&&(Ot+=1),Ot},0);yt.forEach(Ot=>{const _t=a(Ot.domNode.getBoundingClientRect(),q),Nt=Ot.parent.next,Ct=Nt.children.reduce((ne,Qt)=>{const K=a(Qt.domNode.getBoundingClientRect(),q);return Math.abs(_t.x1-K.x)<j&&(ne=Qt),ne},null);Nt.insertBefore(Ot,Ct),Ot.format("row",Nt.formats().row)}),st.forEach(Ot=>{Ot.remove()}),gt.forEach(Ot=>{const _t=parseInt(Ot.formats().rowspan,10);Ot.format("rowspan",_t-St)}),qt.forEach(Ot=>Ot.remove())}tableDestroy(){const d=x.a.find(this.scroll.domNode.parentNode),q=d.getModule("better-table");this.remove(),q.hideTableTools(),d.update(x.a.sources.USER)}insertCell(d,q){const P=ht(),nt=d.formats().row,at=this.scroll.create(B.blotName,Object.assign({},m,{row:nt})),st=this.scroll.create(Y.blotName,{row:nt,cell:P});at.appendChild(st),q?d.insertBefore(at,q):d.appendChild(at)}insertColumn(d,q){let P=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],nt=arguments.length>3?arguments[3]:void 0;const[at]=this.descendants(U),[st]=this.descendants(Q),gt=this.descendants(W);let yt=[],qt=[],St=[];if(at==null||at.children.head==null)return;this.descendants(B).forEach(Nt=>{const Ct=a(Nt.domNode.getBoundingClientRect(),nt);P?Math.abs(Ct.x1-d.x1)<j?yt.push(Nt):d.x1-Ct.x>j&&d.x1-Ct.x1<-j&&qt.push(Nt):Math.abs(Ct.x-d.x)<j?yt.push(Nt):d.x-Ct.x>j&&d.x-Ct.x1<-j&&qt.push(Nt)}),yt.forEach(Nt=>{const Ct=P?Nt.next:Nt,ne=ht(),Qt=Nt.parent,K=Qt.formats().row,i=Nt.formats(),f=this.scroll.create(B.blotName,Object.assign({},m,{row:K,rowspan:i.rowspan})),F=this.scroll.create(Y.blotName,{row:K,cell:ne,rowspan:i.rowspan});f.appendChild(F),Ct?Qt.insertBefore(f,Ct):Qt.appendChild(f),St.push(f)});const Ot=this.scroll.create(W.blotName,!0);let _t=P?gt[q].next:gt[q];return _t?st.insertBefore(Ot,_t):st.appendChild(Ot),qt.forEach(Nt=>{const Ct=Nt.formats().colspan;Nt.format("colspan",parseInt(Ct,10)+1),St.push(Nt)}),St.sort((Nt,Ct)=>Nt.domNode.getBoundingClientRect().y-Ct.domNode.getBoundingClientRect().y),this.updateTableWidth(),St}insertRow(d,q,P){const[nt]=this.descendants(U);if(nt==null||nt.children.head==null)return;const at=this.descendants(B),st=H(),gt=this.scroll.create(G.blotName,{row:st});let yt=[],qt=[],St=[];at.forEach(Nt=>{const Ct=a(Nt.domNode.getBoundingClientRect(),P);q?Math.abs(Ct.y1-d.y1)<j?yt.push(Nt):d.y1-Ct.y>j&&d.y1-Ct.y1<-j&&qt.push(Nt):Math.abs(Ct.y-d.y)<j?yt.push(Nt):d.y-Ct.y>j&&d.y-Ct.y1<-j&&qt.push(Nt)});const Ot=(Nt,Ct)=>Nt.domNode.getBoundingClientRect().x-Ct.domNode.getBoundingClientRect().x;yt.sort(Ot),yt.forEach(Nt=>{const Ct=ht(),ne=Nt.formats(),Qt=this.scroll.create(B.blotName,Object.assign({},m,{row:st,colspan:ne.colspan})),K=this.scroll.create(Y.blotName,{row:st,cell:Ct,colspan:ne.colspan}),i=this.scroll.create(A.blotName);K.appendChild(i),Qt.appendChild(K),gt.appendChild(Qt),St.push(Qt)}),qt.forEach(Nt=>{const Ct=parseInt(Nt.formats().rowspan,10);Nt.format("rowspan",Ct+1),St.push(Nt)});const _t=this.rows().find(Nt=>{let Ct=a(Nt.domNode.getBoundingClientRect(),P);return q?Math.abs(Ct.y-d.y-d.height)<j:Math.abs(Ct.y-d.y)<j});return nt.insertBefore(gt,_t),St.sort(Ot),St}mergeCells(d,q,P,nt,at){const st=q.reduce((qt,St,Ot)=>(Ot!==0?(qt&&St.moveChildren(qt),St.remove()):(St.format("colspan",nt),St.format("rowspan",P),qt=St),qt),null);let gt=st.domNode.getAttribute("data-row"),yt=st.children.head.domNode.getAttribute("data-cell");return st.children.forEach(qt=>{qt.format("cell",yt),qt.format("row",gt),qt.format("colspan",nt),qt.format("rowspan",P)}),st}unmergeCells(d,q){let P={},nt=1,at=1;d.forEach(st=>{if(P=st.formats(),nt=P.rowspan,(at=P.colspan)>1){let gt=st.next,yt=st.row();st.format("colspan",1);for(let qt=at;qt>1;qt--)this.insertCell(yt,gt)}if(nt>1){let gt=nt,yt=st.row().next;for(;gt>1;){let qt=yt.children.reduce((St,Ot)=>{let _t=a(st.domNode.getBoundingClientRect(),q),Nt=a(Ot.domNode.getBoundingClientRect(),q);return Math.abs(_t.x1-Nt.x)<j&&(St=Ot),St},null);for(let St=at;St>0;St--)this.insertCell(yt,qt);gt-=1,yt=yt.next}st.format("rowspan",1)}})}rows(){const d=this.children.tail;return d==null?[]:d.children.map(q=>q)}}ut.blotName="table-container",ut.className="quill-better-table",ut.tagName="TABLE";class $ extends D{constructor(d,q){super(d,q);const P=x.a.find(d.domNode.parentNode);q.addEventListener("scroll",nt=>{const at=P.getModule("better-table");at.columnTool&&(at.columnTool.domNode.scrollLeft=nt.target.scrollLeft),at.tableSelection&&at.tableSelection.selectedTds.length>0&&at.tableSelection.repositionHelpLines()},!1)}table(){return this.children.head}}function H(){const pt=Math.random().toString(36).slice(2,6);return"row-".concat(pt)}function ht(){const pt=Math.random().toString(36).slice(2,6);return"cell-".concat(pt)}$.blotName="table-view",$.className="quill-better-table-wrapper",$.tagName="DIV",$.allowedChildren=[ut],ut.requiredContainer=$,ut.allowedChildren=[U,Q],U.requiredContainer=ut,U.allowedChildren=[G],G.requiredContainer=U,G.allowedChildren=[B],B.requiredContainer=G,B.allowedChildren=[Y,g],Y.requiredContainer=B,Q.allowedChildren=[W],Q.requiredContainer=ut,W.requiredContainer=Q;const v="#0589f3",e=["left","right","top","bottom"],r=2;class n{constructor(d,q,P){if(!d)return null;this.table=d,this.quill=q,this.options=P,this.boundary={},this.selectedTds=[],this.dragging=!1,this.selectingHandler=this.mouseDownHandler.bind(this),this.clearSelectionHandler=this.clearSelection.bind(this),this.helpLinesInitial(),this.quill.root.addEventListener("mousedown",this.selectingHandler,!1),this.quill.on("text-change",this.clearSelectionHandler)}helpLinesInitial(){let d=this.quill.root.parentNode;e.forEach(q=>{this[q]=document.createElement("div"),this[q].classList.add("qlbt-selection-line"),this[q].classList.add("qlbt-selection-line-"+q),t(this[q],{position:"absolute",display:"none","background-color":v}),d.appendChild(this[q])})}mouseDownHandler(d){if(d.button!==0||!d.target.closest(".quill-better-table"))return;this.quill.root.addEventListener("mousemove",at,!1),this.quill.root.addEventListener("mouseup",function st(gt){q.quill.root.removeEventListener("mousemove",at,!1),q.quill.root.removeEventListener("mouseup",st,!1),q.dragging=!1},!1);const q=this,P=d.target.closest("td[data-row]"),nt=a(P.getBoundingClientRect(),this.quill.root.parentNode);function at(st){if(st.button!==0||!st.target.closest(".quill-better-table"))return;const gt=st.target.closest("td[data-row]"),yt=a(gt.getBoundingClientRect(),q.quill.root.parentNode);q.boundary=_(nt,yt),q.correctBoundary(),q.selectedTds=q.computeSelectedTds(),q.repositionHelpLines(),P!==gt&&q.quill.blur()}this.dragging=!0,this.boundary=_(nt,nt),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines()}correctBoundary(){x.a.find(this.table).descendants(B).forEach(d=>{let{x:q,y:P,width:nt,height:at}=a(d.domNode.getBoundingClientRect(),this.quill.root.parentNode);(q+r>=this.boundary.x&&q+r<=this.boundary.x1||q-r+nt>=this.boundary.x&&q-r+nt<=this.boundary.x1)&&(P+r>=this.boundary.y&&P+r<=this.boundary.y1||P-r+at>=this.boundary.y&&P-r+at<=this.boundary.y1)&&(this.boundary=_(this.boundary,{x:q,y:P,width:nt,height:at}))})}computeSelectedTds(){return x.a.find(this.table).descendants(B).reduce((d,q)=>{let{x:P,y:nt,width:at,height:st}=a(q.domNode.getBoundingClientRect(),this.quill.root.parentNode);return P+r>=this.boundary.x&&P-r+at<=this.boundary.x1&&nt+r>=this.boundary.y&&nt-r+st<=this.boundary.y1&&d.push(q),d},[])}repositionHelpLines(){const d=this.table.parentNode.scrollLeft;t(this.left,{display:"block",left:"".concat(this.boundary.x-d-1,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),t(this.right,{display:"block",left:"".concat(this.boundary.x1-d,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),t(this.top,{display:"block",left:"".concat(this.boundary.x-1-d,"px"),top:"".concat(this.boundary.y,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"}),t(this.bottom,{display:"block",left:"".concat(this.boundary.x-1-d,"px"),top:"".concat(this.boundary.y1+1,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"})}refreshHelpLinesPosition(){const d=a(this.selectedTds[0].domNode.getBoundingClientRect(),this.quill.root.parentNode),q=a(this.selectedTds[this.selectedTds.length-1].domNode.getBoundingClientRect(),this.quill.root.parentNode);this.boundary=_(d,q),this.repositionHelpLines()}destroy(){return e.forEach(d=>{this[d].remove(),this[d]=null}),this.quill.root.removeEventListener("mousedown",this.selectingHandler,!1),this.quill.off("text-change",this.clearSelectionHandler),null}setSelection(d,q){this.boundary=_(a(d,this.quill.root.parentNode),a(q,this.quill.root.parentNode)),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines()}clearSelection(){this.boundary={},this.selectedTds=[],e.forEach(d=>{this[d]&&t(this[d],{display:"none"})})}}function _(pt,d){let q=Math.min(pt.x,d.x,pt.x+pt.width-1,d.x+d.width-1),P=Math.max(pt.x,d.x,pt.x+pt.width-1,d.x+d.width-1),nt=Math.min(pt.y,d.y,pt.y+pt.height-1,d.y+d.height-1),at=Math.max(pt.y,d.y,pt.y+pt.height-1,d.y+d.height-1);return{x:q,x1:P,y:nt,y1:at,width:P-q,height:at-nt}}var h=Yt(1),u=Yt.n(h),k=Yt(2),T=Yt.n(k),b=Yt(3),s=Yt.n(b),o=Yt(4),p=Yt.n(o),E=Yt(5),C=Yt.n(E),V=Yt(6),tt=Yt.n(V),et=Yt(7),it=Yt.n(et),dt=Yt(8),bt=Yt.n(dt),mt=Yt(9),wt=Yt.n(mt);const At=150,kt=200,Rt=["white","red","yellow","blue"],Wt="Background Colors",Ut={insertColumnRight:{text:"Insert column right",iconSrc:u.a,handler(){const pt=x.a.find(this.table);let d=Tt(this.columnToolCells,this.boundary,(P,nt)=>Math.abs(P.x+P.width-nt.x1)<=5,this.quill.root.parentNode);const q=pt.insertColumn(this.boundary,d,!0,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(x.a.sources.USER),this.quill.setSelection(this.quill.getIndex(q[0]),0,x.a.sources.SILENT),this.tableSelection.setSelection(q[0].domNode.getBoundingClientRect(),q[0].domNode.getBoundingClientRect())}},insertColumnLeft:{text:"Insert column left",iconSrc:T.a,handler(){const pt=x.a.find(this.table);let d=Tt(this.columnToolCells,this.boundary,(P,nt)=>Math.abs(P.x-nt.x)<=5,this.quill.root.parentNode);const q=pt.insertColumn(this.boundary,d,!1,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(x.a.sources.USER),this.quill.setSelection(this.quill.getIndex(q[0]),0,x.a.sources.SILENT),this.tableSelection.setSelection(q[0].domNode.getBoundingClientRect(),q[0].domNode.getBoundingClientRect())}},insertRowUp:{text:"Insert row up",iconSrc:s.a,handler(){const pt=x.a.find(this.table).insertRow(this.boundary,!1,this.quill.root.parentNode);this.quill.update(x.a.sources.USER),this.quill.setSelection(this.quill.getIndex(pt[0]),0,x.a.sources.SILENT),this.tableSelection.setSelection(pt[0].domNode.getBoundingClientRect(),pt[0].domNode.getBoundingClientRect())}},insertRowDown:{text:"Insert row down",iconSrc:p.a,handler(){const pt=x.a.find(this.table).insertRow(this.boundary,!0,this.quill.root.parentNode);this.quill.update(x.a.sources.USER),this.quill.setSelection(this.quill.getIndex(pt[0]),0,x.a.sources.SILENT),this.tableSelection.setSelection(pt[0].domNode.getBoundingClientRect(),pt[0].domNode.getBoundingClientRect())}},mergeCells:{text:"Merge selected cells",iconSrc:C.a,handler(){const pt=x.a.find(this.table),d=pt.rows().reduce((nt,at)=>{let st=a(at.domNode.getBoundingClientRect(),this.quill.root.parentNode);return st.y>this.boundary.y-5&&st.y+st.height<this.boundary.y+this.boundary.height+5&&(nt+=1),nt},0),q=this.columnToolCells.reduce((nt,at)=>{let st=a(at.getBoundingClientRect(),this.quill.root.parentNode);return st.x>this.boundary.x-5&&st.x+st.width<this.boundary.x+this.boundary.width+5&&(nt+=1),nt},0),P=pt.mergeCells(this.boundary,this.selectedTds,d,q,this.quill.root.parentNode);this.quill.update(x.a.sources.USER),this.tableSelection.setSelection(P.domNode.getBoundingClientRect(),P.domNode.getBoundingClientRect())}},unmergeCells:{text:"Unmerge cells",iconSrc:tt.a,handler(){x.a.find(this.table).unmergeCells(this.selectedTds,this.quill.root.parentNode),this.quill.update(x.a.sources.USER),this.tableSelection.clearSelection()}},deleteColumn:{text:"Delete selected columns",iconSrc:it.a,handler(){const pt=x.a.find(this.table);let d=function(q,P,nt,at){return q.reduce((st,gt)=>{let yt=a(gt.getBoundingClientRect(),at);return nt(yt,P)&&st.push(q.indexOf(gt)),st},[])}(this.columnToolCells,this.boundary,(q,P)=>q.x+5>P.x&&q.x+q.width-5<P.x1,this.quill.root.parentNode);pt.deleteColumns(this.boundary,d,this.quill.root.parentNode)||(this.tableColumnTool.updateToolCells(),this.quill.update(x.a.sources.USER),this.tableSelection.clearSelection())}},deleteRow:{text:"Delete selected rows",iconSrc:bt.a,handler(){x.a.find(this.table).deleteRow(this.boundary,this.quill.root.parentNode),this.quill.update(x.a.sources.USER),this.tableSelection.clearSelection()}},deleteTable:{text:"Delete table",iconSrc:wt.a,handler(){const pt=this.quill.getModule("better-table"),d=x.a.find(this.table);pt.hideTableTools(),d.remove(),this.quill.update(x.a.sources.USER)}}};class xt{constructor(d,q,P){const nt=q.getModule("better-table");this.tableSelection=nt.tableSelection,this.table=d.table,this.quill=q,this.options=P,this.menuItems=Object.assign({},Ut,P.items),this.tableColumnTool=nt.columnTool,this.boundary=this.tableSelection.boundary,this.selectedTds=this.tableSelection.selectedTds,this.destroyHandler=this.destroy.bind(this),this.columnToolCells=this.tableColumnTool.colToolCells(),this.colorSubTitle=P.color&&P.color.text?P.color.text:Wt,this.cellColors=P.color&&P.color.colors?P.color.colors:Rt,this.menuInitial(d),this.mount(),document.addEventListener("click",this.destroyHandler,!1)}mount(){document.body.appendChild(this.domNode)}destroy(){return this.domNode.remove(),document.removeEventListener("click",this.destroyHandler,!1),null}menuInitial(d){let{table:q,left:P,top:nt}=d;this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-operation-menu"),t(this.domNode,{position:"absolute",left:"".concat(P,"px"),top:"".concat(nt,"px"),"min-height":"".concat(At,"px"),width:"".concat(kt,"px")});for(let st in this.menuItems)this.menuItems[st]&&(this.domNode.appendChild(this.menuItemCreator(Object.assign({},Ut[st],this.menuItems[st]))),["insertRowDown","unmergeCells"].indexOf(st)>-1&&this.domNode.appendChild(at()));function at(){const st=document.createElement("div");return st.classList.add("qlbt-operation-menu-dividing"),st}this.options.color&&this.options.color!==!1&&(this.domNode.appendChild(at()),this.domNode.appendChild(function(st){const gt=document.createElement("div");return gt.classList.add("qlbt-operation-menu-subtitle"),gt.innerText=st,gt}(this.colorSubTitle)),this.domNode.appendChild(this.colorsItemCreator(this.cellColors)))}colorsItemCreator(d){const q=this,P=document.createElement("div");return P.classList.add("qlbt-operation-color-picker"),d.forEach(nt=>{let at=function(st){const gt=document.createElement("div");return gt.classList.add("qlbt-operation-color-picker-item"),gt.setAttribute("data-color",st),gt.style.backgroundColor=st,gt.addEventListener("click",function(){const yt=q.tableSelection.selectedTds;yt&&yt.length>0&&yt.forEach(qt=>{qt.format("cell-bg",st)})},!1),gt}(nt);P.appendChild(at)}),P}menuItemCreator(d){let{text:q,iconSrc:P,handler:nt}=d;const at=document.createElement("div");at.classList.add("qlbt-operation-menu-item");const st=document.createElement("span");st.classList.add("qlbt-operation-menu-icon"),st.innerHTML=P;const gt=document.createElement("span");return gt.classList.add("qlbt-operation-menu-text"),gt.innerText=q,at.appendChild(st),at.appendChild(gt),at.addEventListener("click",nt.bind(this),!1),at}}function Tt(pt,d,q,P){return pt.reduce((nt,at)=>{let st=a(at.getBoundingClientRect(),P);return q(st,d)&&(nt=pt.indexOf(at)),nt},!1)}const Lt=x.a.import("delta");function Pt(pt,d,q){const P=pt.parentNode,nt=P.parentNode.tagName==="TABLE"?P.parentNode:P.parentNode.parentNode,at=Array.from(nt.querySelectorAll("tr")),st=Array.from(P.querySelectorAll("td")),gt=at.indexOf(P)+1,yt=st.indexOf(pt)+1,qt=pt.getAttribute("colspan")||!1,St=pt.getAttribute("rowspan")||!1,Ot=pt.getAttribute("data-cell-bg")||pt.style.backgroundColor;return d.length()===0?d=new Lt().insert(`
`,{"table-cell-line":{row:gt,cell:yt,rowspan:St,colspan:qt}}):(d=d.reduce((_t,Nt)=>{if(Nt.insert&&typeof Nt.insert=="string"){const Ct=[];let ne=Nt.insert,Qt=0;for(let i=0;i<Nt.insert.length;i++)ne.charAt(i)===`
`&&(i===0||Ct.push(ne.substring(Qt,i)),Ct.push(`
`),Qt=i+1);const K=ne.substring(Qt);K&&Ct.push(K),Ct.forEach(i=>{i===`
`?_t.insert(`
`,Nt.attributes):_t.insert(i,w(Nt.attributes,["table","table-cell-line"]))})}else _t.insert(Nt.insert,Nt.attributes);return _t},new Lt)).reduce((_t,Nt)=>(Nt.insert&&typeof Nt.insert=="string"&&Nt.insert.startsWith(`
`)?_t.insert(Nt.insert,Object.assign({},Object.assign({},{row:gt},Nt.attributes.table),{"table-cell-line":{row:gt,cell:yt,rowspan:St,colspan:qt,"cell-bg":Ot}},w(Nt.attributes,["table"]))):Nt.attributes&&Nt.attributes.background&&Nt.attributes.background===function(Ct){if(/^(rgb|RGB)/.test(Ct)){for(var ne=Ct.toString().match(/\d+/g),Qt="#",K=0;K<3;K++)Qt+=("0"+Number(ne[K]).toString(16)).slice(-2);return Qt}if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(Ct)){var i=Ct.replace(/#/,"").split("");if(i.length===6)return Ct;if(i.length===3){var f="#";for(K=0;K<i.length;K+=1)f+=i[K]+i[K];return f}}return Ct}(Ot)?_t.insert(Nt.insert,Object.assign({},w(Nt.attributes,["table","table-cell-line","background"]))):_t.insert(Nt.insert,Object.assign({},w(Nt.attributes,["table","table-cell-line"]))),_t),new Lt)}function Dt(pt,d,q){const P=pt.parentNode,nt=P.parentNode.tagName==="TABLE"?P.parentNode:P.parentNode.parentNode,at=Array.from(nt.querySelectorAll("tr")),st=Array.from(P.querySelectorAll("th")),gt=at.indexOf(P)+1,yt=st.indexOf(pt)+1,qt=pt.getAttribute("colspan")||!1,St=pt.getAttribute("rowspan")||!1;return d.length()===0?d=new Lt().insert(`
`,{"table-cell-line":{row:gt,cell:yt,rowspan:St,colspan:qt}}):(d=d.reduce((Ot,_t)=>{if(_t.insert&&typeof _t.insert=="string"){const Nt=[];let Ct=_t.insert,ne=0;for(let K=0;K<_t.insert.length;K++)Ct.charAt(K)===`
`&&(K===0||Nt.push(Ct.substring(ne,K)),Nt.push(`
`),ne=K+1);const Qt=Ct.substring(ne);Qt&&Nt.push(Qt),Nt.indexOf(`
`)<0&&Nt.push(`
`),Nt.forEach(K=>{K===`
`?Ot.insert(`
`,{"table-cell-line":{row:gt,cell:yt,rowspan:St,colspan:qt}}):Ot.insert(K,_t.attributes)})}else Ot.insert(_t.insert,_t.attributes);return Ot},new Lt)).reduce((Ot,_t)=>(_t.insert&&typeof _t.insert=="string"&&_t.insert.startsWith(`
`)?Ot.insert(_t.insert,Object.assign({},{"table-cell-line":{row:gt,cell:yt,rowspan:St,colspan:qt}})):Ot.insert(_t.insert,Object.assign({},w(_t.attributes,["table","table-cell-line"]))),Ot),new Lt)}function Zt(pt,d,q){let P=new Lt;const nt=pt.querySelector("tr");if(nt===null)return P;const at=Array.from(nt.querySelectorAll("td")).concat(Array.from(nt.querySelectorAll("th"))).reduce((gt,yt)=>{const qt=yt.getAttribute("colspan")||1;return gt+=parseInt(qt,10)},0),st=pt.querySelectorAll("col").length;if(st===at)return d;{for(let yt=0;yt<at-st;yt++)P.insert(`
`,{"table-col":!0});if(st===0)return P.concat(d);let gt=0;return d.reduce((yt,qt)=>(yt.insert(qt.insert,qt.attributes),qt.attributes&&qt.attributes["table-col"]&&(gt+=qt.insert.length)===st&&(yt=yt.concat(P)),yt),new Lt)}}const Jt=x.a.import("core/module"),re=x.a.import("delta");class $t extends Jt{static register(){x.a.register(W,!0),x.a.register(Q,!0),x.a.register(Y,!0),x.a.register(B,!0),x.a.register(G,!0),x.a.register(U,!0),x.a.register(ut,!0),x.a.register($,!0),x.a.register($,!0)}constructor(d,q){super(d,q),this.quill.root.addEventListener("click",nt=>{const at=M(nt);if(!at||at.length<=0)return;const st=at.filter(gt=>gt.tagName&&gt.tagName.toUpperCase()==="TABLE"&&gt.classList.contains("quill-better-table"))[0];if(st){if(this.table===st)return;this.table&&this.hideTableTools(),this.showTableTools(st,d,q)}else this.table&&this.hideTableTools()},!1),this.quill.root.addEventListener("contextmenu",nt=>{if(!this.table)return!0;nt.preventDefault();const at=M(nt);if(!at||at.length<=0)return;const st=at.filter(St=>St.tagName&&St.tagName.toUpperCase()==="TABLE"&&St.classList.contains("quill-better-table"))[0],gt=at.filter(St=>St.tagName&&St.tagName.toUpperCase()==="TR"&&St.getAttribute("data-row"))[0],yt=at.filter(St=>St.tagName&&St.tagName.toUpperCase()==="TD"&&St.getAttribute("data-row"))[0];let qt=this.tableSelection.selectedTds.map(St=>St.domNode).includes(yt);(this.tableSelection.selectedTds.length<=0||!qt)&&this.tableSelection.setSelection(yt.getBoundingClientRect(),yt.getBoundingClientRect()),this.tableOperationMenu&&(this.tableOperationMenu=this.tableOperationMenu.destroy()),st&&(this.tableOperationMenu=new xt({table:st,row:gt,cell:yt,left:nt.pageX,top:nt.pageY},d,q.operationMenu))},!1),d.getModule("keyboard"),d.keyboard.addBinding({key:"Backspace"},{},function(nt,at){if(nt.index===0||this.quill.getLength()<=1)return!0;const[st]=this.quill.getLine(nt.index);if(at.offset===0){const[gt]=this.quill.getLine(nt.index-1);if(gt!=null&&gt.statics.blotName==="table-cell-line"&&st.statics.blotName!=="table-cell-line")return!1}return!0});let P=d.keyboard.bindings.Backspace.pop();d.keyboard.bindings.Backspace.splice(0,1,P),d.clipboard.addMatcher("td",Pt),d.clipboard.addMatcher("th",Dt),d.clipboard.addMatcher("table",Zt),d.clipboard.matchers=d.clipboard.matchers.filter(nt=>nt[0]!=="tr")}getTable(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(d==null)return[null,null,null,-1];const[q,P]=this.quill.getLine(d.index);if(q==null||q.statics.blotName!==Y.blotName)return[null,null,null,-1];const nt=q.tableCell(),at=nt.row();return[at.table(),at,nt,P]}insertTable(d,q){const P=this.quill.getSelection(!0);if(P==null)return;let nt=this.quill.getLeaf(P.index)[0],at=new re().retain(P.index);(function st(gt){return!(!gt||!gt.parent)&&(yt=gt.parent,yt.statics.blotName===B.blotName||st(gt.parent));var yt})(nt)?console.warn("Can not insert table into a table cell."):(at.insert(`
`),at=new Array(q).fill(`
`).reduce((st,gt)=>(st.insert(gt,{"table-col":!0}),st),at),at=new Array(d).fill(0).reduce(st=>{let gt=H();return new Array(q).fill(`
`).reduce((yt,qt)=>(yt.insert(qt,{"table-cell-line":{row:gt,cell:ht()}}),yt),st)},at),this.quill.updateContents(at,x.a.sources.USER),this.quill.setSelection(P.index+q+1,x.a.sources.API))}showTableTools(d,q,P){this.table=d,this.columnTool=new l(d,q,P),this.tableSelection=new n(d,q,P)}hideTableTools(){this.columnTool&&this.columnTool.destroy(),this.tableSelection&&this.tableSelection.destroy(),this.tableOperationMenu&&this.tableOperationMenu.destroy(),this.columnTool=null,this.tableSelection=null,this.tableOperationMenu=null,this.table=null}}function ye(pt){return{key:pt?"ArrowUp":"ArrowDown",collapsed:!0,format:["table-cell-line"],handler(d,q){const P=pt?"prev":"next";if(q.line[P]!=null)return!0;const nt=q.line.parent,at=nt.parent[P];if(at!=null&&at.statics.blotName==="table-row"){let st=at.children.head,gt=parseInt(st.formats().colspan,10),yt=nt,qt=parseInt(yt.formats().colspan,10);for(;yt.prev!=null;)yt=yt.prev,qt+=parseInt(yt.formats().colspan,10);for(;st.next!=null&&gt<qt;)st=st.next,gt+=parseInt(st.formats().colspan,10);const St=st.offset(this.quill.scroll);this.quill.setSelection(St,0,x.a.sources.USER)}else{const st=nt.table().parent[P];st!=null&&(pt?this.quill.setSelection(st.offset(this.quill.scroll)+st.length()-1,0,x.a.sources.USER):this.quill.setSelection(st.offset(this.quill.scroll),0,x.a.sources.USER))}return!1}}}$t.keyboardBindings={"table-cell-line backspace":{key:"Backspace",format:["table-cell-line"],collapsed:!0,offset:0,handler(pt,d){const[q,P]=this.quill.getLine(pt.index);return!(!q.prev||q.prev.statics.blotName!=="table-cell-line")}},"table-cell-line delete":{key:"Delete",format:["table-cell-line"],collapsed:!0,suffix:/^$/,handler(){}},"table-cell-line enter":{key:"Enter",shiftKey:null,format:["table-cell-line"],handler(pt,d){if(this.quill.selection&&this.quill.selection.composing)return;const q=x.a.imports.parchment.Scope;pt.length>0&&this.quill.scroll.deleteAt(pt.index,pt.length);const P=Object.keys(d.format).reduce((nt,at)=>(this.quill.scroll.query(at,q.BLOCK)&&!Array.isArray(d.format[at])&&(nt[at]=d.format[at]),nt),{});this.quill.insertText(pt.index,`
`,P["table-cell-line"],x.a.sources.USER),this.quill.setSelection(pt.index+1,x.a.sources.SILENT),this.quill.focus(),Object.keys(d.format).forEach(nt=>{P[nt]==null&&(Array.isArray(d.format[nt])||nt!=="link"&&this.quill.format(nt,d.format[nt],x.a.sources.USER))})}},"table-cell-line up":ye(!0),"table-cell-line down":ye(!1),"down-to-table":{key:"ArrowDown",collapsed:!0,handler(pt,d){const q=d.line.next;if(q&&q.statics.blotName==="table-view"){const P=q.table().rows()[0].children.head.children.head;return this.quill.setSelection(P.offset(this.quill.scroll),0,x.a.sources.USER),!1}return!0}},"up-to-table":{key:"ArrowUp",collapsed:!0,handler(pt,d){const q=d.line.prev;if(q&&q.statics.blotName==="table-view"){const P=q.table().rows(),nt=P[P.length-1].children.head.children.head;return this.quill.setSelection(nt.offset(this.quill.scroll),0,x.a.sources.USER),!1}return!0}}},Bt.default=$t}]).default});
